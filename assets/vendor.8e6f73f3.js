function Pe(){}const Eu=t=>t;function dp(t,e){for(const n in e)t[n]=e[n];return t}function Su(t){return t()}function ku(){return Object.create(null)}function _n(t){t.forEach(Su)}function Yo(t){return typeof t=="function"}function gp(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function vp(t){return Object.keys(t).length===0}function $u(t,...e){if(t==null)return Pe;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function i_(t){let e;return $u(t,n=>e=n)(),e}function o_(t,e,n){t.$$.on_destroy.push($u(e,n))}function a_(t,e,n,r){if(t){const i=Mu(t,e,n,r);return t[0](i)}}function Mu(t,e,n,r){return t[1]&&r?dp(n.ctx.slice(),t[1](r(e))):n.ctx}function s_(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],a=Math.max(e.dirty.length,i.length);for(let s=0;s<a;s+=1)o[s]=e.dirty[s]|i[s];return o}return e.dirty|i}return e.dirty}function u_(t,e,n,r,i,o){if(i){const a=Mu(e,n,r,o);t.p(a,i)}}function l_(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function f_(t,e,n){return t.set(n),e}function c_(t){return t&&Yo(t.destroy)?t.destroy:Pe}const Au=typeof window!="undefined";let mp=Au?()=>window.performance.now():()=>Date.now(),Uo=Au?t=>requestAnimationFrame(t):Pe;const bn=new Set;function Pu(t){bn.forEach(e=>{e.c(t)||(bn.delete(e),e.f())}),bn.size!==0&&Uo(Pu)}function yp(t){let e;return bn.size===0&&Uo(Pu),{promise:new Promise(n=>{bn.add(e={c:t,f:n})}),abort(){bn.delete(e)}}}function Ru(t,e){t.appendChild(e)}function Tu(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function wp(t){const e=Go("style");return xp(Tu(t),e),e.sheet}function xp(t,e){Ru(t.head||t,e)}function _p(t,e,n){t.insertBefore(e,n||null)}function Ho(t){t.parentNode.removeChild(t)}function h_(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Go(t){return document.createElement(t)}function p_(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ou(t){return document.createTextNode(t)}function d_(){return Ou(" ")}function g_(){return Ou("")}function Cu(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function v_(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function m_(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y_(t){return t===""?null:+t}function bp(t){return Array.from(t.childNodes)}function w_(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x_(t,e){t.value=e??""}function __(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function b_(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function E_(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let ei;function Ep(){if(ei===void 0){ei=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{ei=!0}}return ei}function S_(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const r=Go("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=Ep();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=Cu(window,"message",a=>{a.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{o=Cu(r.contentWindow,"resize",e)}),Ru(t,r),()=>{(i||o&&r.contentWindow)&&o(),Ho(r)}}function k_(t,e,n){t.classList[n?"add":"remove"](e)}function Sp(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}class $_{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,n,r=null){this.e||(this.e=Go(n.nodeName),this.t=n,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)_p(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(Ho)}}const ni=new Map;let ri=0;function kp(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function $p(t,e){const n={stylesheet:wp(e),rules:{}};return ni.set(t,n),n}function zu(t,e,n,r,i,o,a,s=0){const l=16.666/r;let f=`{
`;for(let g=0;g<=1;g+=l){const m=e+(n-e)*o(g);f+=g*100+`%{${a(m,1-m)}}
`}const u=f+`100% {${a(n,1-n)}}
}`,c=`__svelte_${kp(u)}_${s}`,h=Tu(t),{stylesheet:p,rules:v}=ni.get(h)||$p(h,t);v[c]||(v[c]=!0,p.insertRule(`@keyframes ${c} ${u}`,p.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${c} ${r}ms linear ${i}ms 1 both`,ri+=1,c}function Mp(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),ri-=i,ri||Ap())}function Ap(){Uo(()=>{ri||(ni.forEach(t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}}),ni.clear())})}let er;function nr(t){er=t}function Pp(){if(!er)throw new Error("Function called outside component initialization");return er}function M_(t){Pp().$$.on_mount.push(t)}const rr=[],Iu=[],ii=[],Wo=[],Rp=Promise.resolve();let Zo=!1;function Tp(){Zo||(Zo=!0,Rp.then(Nu))}function oi(t){ii.push(t)}function A_(t){Wo.push(t)}const Qo=new Set;let ai=0;function Nu(){const t=er;do{for(;ai<rr.length;){const e=rr[ai];ai++,nr(e),Op(e.$$)}for(nr(null),rr.length=0,ai=0;Iu.length;)Iu.pop()();for(let e=0;e<ii.length;e+=1){const n=ii[e];Qo.has(n)||(Qo.add(n),n())}ii.length=0}while(rr.length);for(;Wo.length;)Wo.pop()();Zo=!1,Qo.clear(),nr(t)}function Op(t){if(t.fragment!==null){t.update(),_n(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(oi)}}let ir;function Cp(){return ir||(ir=Promise.resolve(),ir.then(()=>{ir=null})),ir}function Ko(t,e,n){t.dispatchEvent(Sp(`${e?"intro":"outro"}${n}`))}const si=new Set;let Re;function P_(){Re={r:0,c:[],p:Re}}function R_(){Re.r||_n(Re.c),Re=Re.p}function zp(t,e){t&&t.i&&(si.delete(t),t.i(e))}function T_(t,e,n,r){if(t&&t.o){if(si.has(t))return;si.add(t),Re.c.push(()=>{si.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const Ip={duration:0};function O_(t,e,n,r){let i=e(t,n),o=r?0:1,a=null,s=null,l=null;function f(){l&&Mp(t,l)}function u(h,p){const v=h.b-o;return p*=Math.abs(v),{a:o,b:h.b,d:v,duration:p,start:h.start,end:h.start+p,group:h.group}}function c(h){const{delay:p=0,duration:v=300,easing:y=Eu,tick:g=Pe,css:m}=i||Ip,w={start:mp()+p,b:h};h||(w.group=Re,Re.r+=1),a||s?s=w:(m&&(f(),l=zu(t,o,h,v,p,y,m)),h&&g(0,1),a=u(w,v),oi(()=>Ko(t,h,"start")),yp(_=>{if(s&&_>s.start&&(a=u(s,v),s=null,Ko(t,a.b,"start"),m&&(f(),l=zu(t,o,a.b,a.duration,0,y,i.css))),a){if(_>=a.end)g(o=a.b,1-o),Ko(t,a.b,"end"),s||(a.b?f():--a.group.r||_n(a.group.c)),a=null;else if(_>=a.start){const d=_-a.start;o=a.a+a.d*y(d/a.duration),g(o,1-o)}}return!!(a||s)}))}return{run(h){Yo(i)?Cp().then(()=>{i=i(),c(h)}):c(h)},end(){f(),a=s=null}}}function C_(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function z_(t){t&&t.c()}function Np(t,e,n,r){const{fragment:i,on_mount:o,on_destroy:a,after_update:s}=t.$$;i&&i.m(e,n),r||oi(()=>{const l=o.map(Su).filter(Yo);a?a.push(...l):_n(l),t.$$.on_mount=[]}),s.forEach(oi)}function Lp(t,e){const n=t.$$;n.fragment!==null&&(_n(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Dp(t,e){t.$$.dirty[0]===-1&&(rr.push(t),Tp(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I_(t,e,n,r,i,o,a,s=[-1]){const l=er;nr(t);const f=t.$$={fragment:null,ctx:null,props:o,update:Pe,not_equal:i,bound:ku(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:ku(),dirty:s,skip_bound:!1,root:e.target||l.$$.root};a&&a(f.root);let u=!1;if(f.ctx=n?n(t,e.props||{},(c,h,...p)=>{const v=p.length?p[0]:h;return f.ctx&&i(f.ctx[c],f.ctx[c]=v)&&(!f.skip_bound&&f.bound[c]&&f.bound[c](v),u&&Dp(t,c)),h}):[],f.update(),u=!0,_n(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const c=bp(e.target);f.fragment&&f.fragment.l(c),c.forEach(Ho)}else f.fragment&&f.fragment.c();e.intro&&zp(t.$$.fragment),Np(t,e.target,e.anchor,e.customElement),Nu()}nr(l)}class N_{$destroy(){Lp(this,1),this.$destroy=Pe}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!vp(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const En=[];function L_(t,e=Pe){let n;const r=new Set;function i(s){if(gp(t,s)&&(t=s,n)){const l=!En.length;for(const f of r)f[1](),En.push(f,t);if(l){for(let f=0;f<En.length;f+=2)En[f][0](En[f+1]);En.length=0}}}function o(s){i(s(t))}function a(s,l=Pe){const f=[s,l];return r.add(f),r.size===1&&(n=e(i)||Pe),s(t),()=>{r.delete(f),r.size===0&&(n(),n=null)}}return{set:i,update:o,subscribe:a}}var Jo="http://www.w3.org/1999/xhtml",Lu={svg:"http://www.w3.org/2000/svg",xhtml:Jo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ui(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Lu.hasOwnProperty(e)?{space:Lu[e],local:t}:t}function Bp(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Jo&&e.documentElement.namespaceURI===Jo?e.createElement(t):e.createElementNS(n,t)}}function Fp(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Du(t){var e=ui(t);return(e.local?Fp:Bp)(e)}function qp(){}function jo(t){return t==null?qp:function(){return this.querySelector(t)}}function Vp(t){typeof t!="function"&&(t=jo(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,f,u=0;u<a;++u)(l=o[u])&&(f=t.call(l,l.__data__,u,o))&&("__data__"in l&&(f.__data__=l.__data__),s[u]=f);return new $t(r,this._parents)}function Bu(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Xp(){return[]}function Fu(t){return t==null?Xp:function(){return this.querySelectorAll(t)}}function Yp(t){return function(){return Bu(t.apply(this,arguments))}}function Up(t){typeof t=="function"?t=Yp(t):t=Fu(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,f=0;f<s;++f)(l=a[f])&&(r.push(t.call(l,l.__data__,f,a)),i.push(l));return new $t(r,i)}function qu(t){return function(){return this.matches(t)}}function Vu(t){return function(e){return e.matches(t)}}var Hp=Array.prototype.find;function Gp(t){return function(){return Hp.call(this.children,t)}}function Wp(){return this.firstElementChild}function Zp(t){return this.select(t==null?Wp:Gp(typeof t=="function"?t:Vu(t)))}var Qp=Array.prototype.filter;function Kp(){return Array.from(this.children)}function Jp(t){return function(){return Qp.call(this.children,t)}}function jp(t){return this.selectAll(t==null?Kp:Jp(typeof t=="function"?t:Vu(t)))}function t0(t){typeof t!="function"&&(t=qu(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,f=0;f<a;++f)(l=o[f])&&t.call(l,l.__data__,f,o)&&s.push(l);return new $t(r,this._parents)}function Xu(t){return new Array(t.length)}function e0(){return new $t(this._enter||this._groups.map(Xu),this._parents)}function li(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}li.prototype={constructor:li,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function n0(t){return function(){return t}}function r0(t,e,n,r,i,o){for(var a=0,s,l=e.length,f=o.length;a<f;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new li(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function i0(t,e,n,r,i,o,a){var s,l,f=new Map,u=e.length,c=o.length,h=new Array(u),p;for(s=0;s<u;++s)(l=e[s])&&(h[s]=p=a.call(l,l.__data__,s,e)+"",f.has(p)?i[s]=l:f.set(p,l));for(s=0;s<c;++s)p=a.call(t,o[s],s,o)+"",(l=f.get(p))?(r[s]=l,l.__data__=o[s],f.delete(p)):n[s]=new li(t,o[s]);for(s=0;s<u;++s)(l=e[s])&&f.get(h[s])===l&&(i[s]=l)}function o0(t){return t.__data__}function a0(t,e){if(!arguments.length)return Array.from(this,o0);var n=e?i0:r0,r=this._parents,i=this._groups;typeof t!="function"&&(t=n0(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),f=0;f<o;++f){var u=r[f],c=i[f],h=c.length,p=s0(t.call(u,u&&u.__data__,f,r)),v=p.length,y=s[f]=new Array(v),g=a[f]=new Array(v),m=l[f]=new Array(h);n(u,c,y,g,m,p,e);for(var w=0,_=0,d,S;w<v;++w)if(d=y[w]){for(w>=_&&(_=w+1);!(S=g[_])&&++_<v;);d._next=S||null}}return a=new $t(a,r),a._enter=s,a._exit=l,a}function s0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function u0(){return new $t(this._exit||this._groups.map(Xu),this._parents)}function l0(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function f0(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var f=n[l],u=r[l],c=f.length,h=s[l]=new Array(c),p,v=0;v<c;++v)(p=f[v]||u[v])&&(h[v]=p);for(;l<i;++l)s[l]=n[l];return new $t(s,this._parents)}function c0(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function h0(t){t||(t=p0);function e(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),f,u=0;u<s;++u)(f=a[u])&&(l[u]=f);l.sort(e)}return new $t(i,this._parents).order()}function p0(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function d0(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function g0(){return Array.from(this)}function v0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function m0(){let t=0;for(const e of this)++t;return t}function y0(){return!this.node()}function w0(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function x0(t){return function(){this.removeAttribute(t)}}function _0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function b0(t,e){return function(){this.setAttribute(t,e)}}function E0(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function S0(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function k0(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function $0(t,e){var n=ui(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?_0:x0:typeof e=="function"?n.local?k0:S0:n.local?E0:b0)(n,e))}function Yu(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function M0(t){return function(){this.style.removeProperty(t)}}function A0(t,e,n){return function(){this.style.setProperty(t,e,n)}}function P0(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function R0(t,e,n){return arguments.length>1?this.each((e==null?M0:typeof e=="function"?P0:A0)(t,e,n??"")):Sn(this.node(),t)}function Sn(t,e){return t.style.getPropertyValue(e)||Yu(t).getComputedStyle(t,null).getPropertyValue(e)}function T0(t){return function(){delete this[t]}}function O0(t,e){return function(){this[t]=e}}function C0(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function z0(t,e){return arguments.length>1?this.each((e==null?T0:typeof e=="function"?C0:O0)(t,e)):this.node()[t]}function Uu(t){return t.trim().split(/^|\s+/)}function ta(t){return t.classList||new Hu(t)}function Hu(t){this._node=t,this._names=Uu(t.getAttribute("class")||"")}Hu.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Gu(t,e){for(var n=ta(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Wu(t,e){for(var n=ta(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function I0(t){return function(){Gu(this,t)}}function N0(t){return function(){Wu(this,t)}}function L0(t,e){return function(){(e.apply(this,arguments)?Gu:Wu)(this,t)}}function D0(t,e){var n=Uu(t+"");if(arguments.length<2){for(var r=ta(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?L0:e?I0:N0)(n,e))}function B0(){this.textContent=""}function F0(t){return function(){this.textContent=t}}function q0(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function V0(t){return arguments.length?this.each(t==null?B0:(typeof t=="function"?q0:F0)(t)):this.node().textContent}function X0(){this.innerHTML=""}function Y0(t){return function(){this.innerHTML=t}}function U0(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function H0(t){return arguments.length?this.each(t==null?X0:(typeof t=="function"?U0:Y0)(t)):this.node().innerHTML}function G0(){this.nextSibling&&this.parentNode.appendChild(this)}function W0(){return this.each(G0)}function Z0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Q0(){return this.each(Z0)}function K0(t){var e=typeof t=="function"?t:Du(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function J0(){return null}function j0(t,e){var n=typeof t=="function"?t:Du(t),r=e==null?J0:typeof e=="function"?e:jo(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function td(){var t=this.parentNode;t&&t.removeChild(this)}function ed(){return this.each(td)}function nd(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function rd(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function id(t){return this.select(t?rd:nd)}function od(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ad(t){return function(e){t.call(this,e,this.__data__)}}function sd(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ud(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function ld(t,e,n){return function(){var r=this.__on,i,o=ad(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function fd(t,e,n){var r=sd(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,f=s.length,u;l<f;++l)for(i=0,u=s[l];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(s=e?ld:ud,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Zu(t,e,n){var r=Yu(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function cd(t,e){return function(){return Zu(this,t,e)}}function hd(t,e){return function(){return Zu(this,t,e.apply(this,arguments))}}function pd(t,e){return this.each((typeof e=="function"?hd:cd)(t,e))}function*dd(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var ea=[null];function $t(t,e){this._groups=t,this._parents=e}function or(){return new $t([[document.documentElement]],ea)}function gd(){return this}$t.prototype=or.prototype={constructor:$t,select:Vp,selectAll:Up,selectChild:Zp,selectChildren:jp,filter:t0,data:a0,enter:e0,exit:u0,join:l0,merge:f0,selection:gd,order:c0,sort:h0,call:d0,nodes:g0,node:v0,size:m0,empty:y0,each:w0,attr:$0,style:R0,property:z0,classed:D0,text:V0,html:H0,raise:W0,lower:Q0,append:K0,insert:j0,remove:ed,clone:id,datum:od,on:fd,dispatch:pd,[Symbol.iterator]:dd};function It(t){return typeof t=="string"?new $t([[document.querySelector(t)]],[document.documentElement]):new $t([[t]],ea)}function vd(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ae(t,e){if(t=vd(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function D_(t){return typeof t=="string"?new $t([document.querySelectorAll(t)],[document.documentElement]):new $t([Bu(t)],ea)}function md(t){const e=t-1;return e*e*e+1}function B_(t,{delay:e=0,duration:n=400,easing:r=Eu}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:o=>`opacity: ${o*i}`}}function F_(t,{delay:e=0,duration:n=400,easing:r=md}={}){const i=getComputedStyle(t),o=+i.opacity,a=parseFloat(i.height),s=parseFloat(i.paddingTop),l=parseFloat(i.paddingBottom),f=parseFloat(i.marginTop),u=parseFloat(i.marginBottom),c=parseFloat(i.borderTopWidth),h=parseFloat(i.borderBottomWidth);return{delay:e,duration:n,easing:r,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*o};height: ${p*a}px;padding-top: ${p*s}px;padding-bottom: ${p*l}px;margin-top: ${p*f}px;margin-bottom: ${p*u}px;border-top-width: ${p*c}px;border-bottom-width: ${p*h}px;`}}var Nt="top",Kt="bottom",Jt="right",Lt="left",na="auto",ar=[Nt,Kt,Jt,Lt],kn="start",sr="end",yd="clippingParents",Qu="viewport",ur="popper",wd="reference",Ku=ar.reduce(function(t,e){return t.concat([e+"-"+kn,e+"-"+sr])},[]),Ju=[].concat(ar,[na]).reduce(function(t,e){return t.concat([e,e+"-"+kn,e+"-"+sr])},[]),xd="beforeRead",_d="read",bd="afterRead",Ed="beforeMain",Sd="main",kd="afterMain",$d="beforeWrite",Md="write",Ad="afterWrite",Pd=[xd,_d,bd,Ed,Sd,kd,$d,Md,Ad];function ye(t){return t?(t.nodeName||"").toLowerCase():null}function se(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function $n(t){var e=se(t).Element;return t instanceof e||t instanceof Element}function jt(t){var e=se(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ju(t){if(typeof ShadowRoot=="undefined")return!1;var e=se(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Rd(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!jt(o)||!ye(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function Td(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),s=a.reduce(function(l,f){return l[f]="",l},{});!jt(i)||!ye(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var tl={name:"applyStyles",enabled:!0,phase:"write",fn:Rd,effect:Td,requires:["computeStyles"]};function we(t){return t.split("-")[0]}var an=Math.max,fi=Math.min,Mn=Math.round;function An(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(jt(t)&&e){var o=t.offsetHeight,a=t.offsetWidth;a>0&&(r=Mn(n.width)/a||1),o>0&&(i=Mn(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function ra(t){var e=An(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function el(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ju(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Te(t){return se(t).getComputedStyle(t)}function Od(t){return["table","td","th"].indexOf(ye(t))>=0}function Ge(t){return(($n(t)?t.ownerDocument:t.document)||window.document).documentElement}function ci(t){return ye(t)==="html"?t:t.assignedSlot||t.parentNode||(ju(t)?t.host:null)||Ge(t)}function nl(t){return!jt(t)||Te(t).position==="fixed"?null:t.offsetParent}function Cd(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&jt(t)){var r=Te(t);if(r.position==="fixed")return null}for(var i=ci(t);jt(i)&&["html","body"].indexOf(ye(i))<0;){var o=Te(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function lr(t){for(var e=se(t),n=nl(t);n&&Od(n)&&Te(n).position==="static";)n=nl(n);return n&&(ye(n)==="html"||ye(n)==="body"&&Te(n).position==="static")?e:n||Cd(t)||e}function ia(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function fr(t,e,n){return an(t,fi(e,n))}function zd(t,e,n){var r=fr(t,e,n);return r>n?n:r}function rl(){return{top:0,right:0,bottom:0,left:0}}function il(t){return Object.assign({},rl(),t)}function ol(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Id=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,il(typeof e!="number"?e:ol(e,ar))};function Nd(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=we(n.placement),l=ia(s),f=[Lt,Jt].indexOf(s)>=0,u=f?"height":"width";if(!(!o||!a)){var c=Id(i.padding,n),h=ra(o),p=l==="y"?Nt:Lt,v=l==="y"?Kt:Jt,y=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],g=a[l]-n.rects.reference[l],m=lr(o),w=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,_=y/2-g/2,d=c[p],S=w-h[u]-c[v],b=w/2-h[u]/2+_,A=fr(d,b,S),M=l;n.modifiersData[r]=(e={},e[M]=A,e.centerOffset=A-b,e)}}function Ld(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!el(e.elements.popper,i)||(e.elements.arrow=i))}var Dd={name:"arrow",enabled:!0,phase:"main",fn:Nd,effect:Ld,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Pn(t){return t.split("-")[1]}var Bd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Fd(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Mn(e*i)/i||0,y:Mn(n*i)/i||0}}function al(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,l=t.gpuAcceleration,f=t.adaptive,u=t.roundOffsets,c=t.isFixed,h=a.x,p=h===void 0?0:h,v=a.y,y=v===void 0?0:v,g=typeof u=="function"?u({x:p,y}):{x:p,y};p=g.x,y=g.y;var m=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),_=Lt,d=Nt,S=window;if(f){var b=lr(n),A="clientHeight",M="clientWidth";if(b===se(n)&&(b=Ge(n),Te(b).position!=="static"&&s==="absolute"&&(A="scrollHeight",M="scrollWidth")),b=b,i===Nt||(i===Lt||i===Jt)&&o===sr){d=Kt;var P=c&&S.visualViewport?S.visualViewport.height:b[A];y-=P-r.height,y*=l?1:-1}if(i===Lt||(i===Nt||i===Kt)&&o===sr){_=Jt;var R=c&&S.visualViewport?S.visualViewport.width:b[M];p-=R-r.width,p*=l?1:-1}}var $=Object.assign({position:s},f&&Bd),D=u===!0?Fd({x:p,y}):{x:p,y};if(p=D.x,y=D.y,l){var C;return Object.assign({},$,(C={},C[d]=w?"0":"",C[_]=m?"0":"",C.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",C))}return Object.assign({},$,(e={},e[d]=w?y+"px":"",e[_]=m?p+"px":"",e.transform="",e))}function qd(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,l=s===void 0?!0:s,f={placement:we(e.placement),variation:Pn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,al(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,al(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Vd={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:qd,data:{}},hi={passive:!0};function Xd(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,l=se(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&f.forEach(function(u){u.addEventListener("scroll",n.update,hi)}),s&&l.addEventListener("resize",n.update,hi),function(){o&&f.forEach(function(u){u.removeEventListener("scroll",n.update,hi)}),s&&l.removeEventListener("resize",n.update,hi)}}var Yd={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Xd,data:{}},Ud={left:"right",right:"left",bottom:"top",top:"bottom"};function pi(t){return t.replace(/left|right|bottom|top/g,function(e){return Ud[e]})}var Hd={start:"end",end:"start"};function sl(t){return t.replace(/start|end/g,function(e){return Hd[e]})}function oa(t){var e=se(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function aa(t){return An(Ge(t)).left+oa(t).scrollLeft}function Gd(t){var e=se(t),n=Ge(t),r=e.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+aa(t),y:s}}function Wd(t){var e,n=Ge(t),r=oa(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=an(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=an(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+aa(t),l=-r.scrollTop;return Te(i||n).direction==="rtl"&&(s+=an(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function sa(t){var e=Te(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ul(t){return["html","body","#document"].indexOf(ye(t))>=0?t.ownerDocument.body:jt(t)&&sa(t)?t:ul(ci(t))}function cr(t,e){var n;e===void 0&&(e=[]);var r=ul(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=se(r),a=i?[o].concat(o.visualViewport||[],sa(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(cr(ci(a)))}function ua(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Zd(t){var e=An(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function ll(t,e){return e===Qu?ua(Gd(t)):$n(e)?Zd(e):ua(Wd(Ge(t)))}function Qd(t){var e=cr(ci(t)),n=["absolute","fixed"].indexOf(Te(t).position)>=0,r=n&&jt(t)?lr(t):t;return $n(r)?e.filter(function(i){return $n(i)&&el(i,r)&&ye(i)!=="body"}):[]}function Kd(t,e,n){var r=e==="clippingParents"?Qd(t):[].concat(e),i=[].concat(r,[n]),o=i[0],a=i.reduce(function(s,l){var f=ll(t,l);return s.top=an(f.top,s.top),s.right=fi(f.right,s.right),s.bottom=fi(f.bottom,s.bottom),s.left=an(f.left,s.left),s},ll(t,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function fl(t){var e=t.reference,n=t.element,r=t.placement,i=r?we(r):null,o=r?Pn(r):null,a=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,l;switch(i){case Nt:l={x:a,y:e.y-n.height};break;case Kt:l={x:a,y:e.y+e.height};break;case Jt:l={x:e.x+e.width,y:s};break;case Lt:l={x:e.x-n.width,y:s};break;default:l={x:e.x,y:e.y}}var f=i?ia(i):null;if(f!=null){var u=f==="y"?"height":"width";switch(o){case kn:l[f]=l[f]-(e[u]/2-n[u]/2);break;case sr:l[f]=l[f]+(e[u]/2-n[u]/2);break}}return l}function hr(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.boundary,a=o===void 0?yd:o,s=n.rootBoundary,l=s===void 0?Qu:s,f=n.elementContext,u=f===void 0?ur:f,c=n.altBoundary,h=c===void 0?!1:c,p=n.padding,v=p===void 0?0:p,y=il(typeof v!="number"?v:ol(v,ar)),g=u===ur?wd:ur,m=t.rects.popper,w=t.elements[h?g:u],_=Kd($n(w)?w:w.contextElement||Ge(t.elements.popper),a,l),d=An(t.elements.reference),S=fl({reference:d,element:m,strategy:"absolute",placement:i}),b=ua(Object.assign({},m,S)),A=u===ur?b:d,M={top:_.top-A.top+y.top,bottom:A.bottom-_.bottom+y.bottom,left:_.left-A.left+y.left,right:A.right-_.right+y.right},P=t.modifiersData.offset;if(u===ur&&P){var R=P[i];Object.keys(M).forEach(function($){var D=[Jt,Kt].indexOf($)>=0?1:-1,C=[Nt,Kt].indexOf($)>=0?"y":"x";M[$]+=R[C]*D})}return M}function Jd(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,f=l===void 0?Ju:l,u=Pn(r),c=u?s?Ku:Ku.filter(function(v){return Pn(v)===u}):ar,h=c.filter(function(v){return f.indexOf(v)>=0});h.length===0&&(h=c);var p=h.reduce(function(v,y){return v[y]=hr(t,{placement:y,boundary:i,rootBoundary:o,padding:a})[we(y)],v},{});return Object.keys(p).sort(function(v,y){return p[v]-p[y]})}function jd(t){if(we(t)===na)return[];var e=pi(t);return[sl(t),e,sl(e)]}function tg(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,l=n.fallbackPlacements,f=n.padding,u=n.boundary,c=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,v=p===void 0?!0:p,y=n.allowedAutoPlacements,g=e.options.placement,m=we(g),w=m===g,_=l||(w||!v?[pi(g)]:jd(g)),d=[g].concat(_).reduce(function(Q,Z){return Q.concat(we(Z)===na?Jd(e,{placement:Z,boundary:u,rootBoundary:c,padding:f,flipVariations:v,allowedAutoPlacements:y}):Z)},[]),S=e.rects.reference,b=e.rects.popper,A=new Map,M=!0,P=d[0],R=0;R<d.length;R++){var $=d[R],D=we($),C=Pn($)===kn,E=[Nt,Kt].indexOf(D)>=0,x=E?"width":"height",k=hr(e,{placement:$,boundary:u,rootBoundary:c,altBoundary:h,padding:f}),T=E?C?Jt:Lt:C?Kt:Nt;S[x]>b[x]&&(T=pi(T));var z=pi(T),I=[];if(o&&I.push(k[D]<=0),s&&I.push(k[T]<=0,k[z]<=0),I.every(function(Q){return Q})){P=$,M=!1;break}A.set($,I)}if(M)for(var L=v?3:1,N=function(Z){var ot=d.find(function(j){var ut=A.get(j);if(ut)return ut.slice(0,Z).every(function(Xt){return Xt})});if(ot)return P=ot,"break"},B=L;B>0;B--){var Y=N(B);if(Y==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}var eg={name:"flip",enabled:!0,phase:"main",fn:tg,requiresIfExists:["offset"],data:{_skip:!1}};function cl(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function hl(t){return[Nt,Jt,Kt,Lt].some(function(e){return t[e]>=0})}function ng(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=hr(e,{elementContext:"reference"}),s=hr(e,{altBoundary:!0}),l=cl(a,r),f=cl(s,i,o),u=hl(l),c=hl(f);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:u,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":c})}var rg={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ng};function ig(t,e,n){var r=we(t),i=[Lt,Nt].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Lt,Jt].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function og(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=Ju.reduce(function(u,c){return u[c]=ig(c,e.rects,o),u},{}),s=a[e.placement],l=s.x,f=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=a}var ag={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:og};function sg(t){var e=t.state,n=t.name;e.modifiersData[n]=fl({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var ug={name:"popperOffsets",enabled:!0,phase:"read",fn:sg,data:{}};function lg(t){return t==="x"?"y":"x"}function fg(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,l=n.boundary,f=n.rootBoundary,u=n.altBoundary,c=n.padding,h=n.tether,p=h===void 0?!0:h,v=n.tetherOffset,y=v===void 0?0:v,g=hr(e,{boundary:l,rootBoundary:f,padding:c,altBoundary:u}),m=we(e.placement),w=Pn(e.placement),_=!w,d=ia(m),S=lg(d),b=e.modifiersData.popperOffsets,A=e.rects.reference,M=e.rects.popper,P=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,R=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),$=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(!!b){if(o){var C,E=d==="y"?Nt:Lt,x=d==="y"?Kt:Jt,k=d==="y"?"height":"width",T=b[d],z=T+g[E],I=T-g[x],L=p?-M[k]/2:0,N=w===kn?A[k]:M[k],B=w===kn?-M[k]:-A[k],Y=e.elements.arrow,Q=p&&Y?ra(Y):{width:0,height:0},Z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:rl(),ot=Z[E],j=Z[x],ut=fr(0,A[k],Q[k]),Xt=_?A[k]/2-L-ut-ot-R.mainAxis:N-ut-ot-R.mainAxis,zt=_?-A[k]/2+L+ut+j+R.mainAxis:B+ut+j+R.mainAxis,Ae=e.elements.arrow&&lr(e.elements.arrow),tn=Ae?d==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,Yt=(C=$==null?void 0:$[d])!=null?C:0,en=T+Xt-Yt-tn,yn=T+zt-Yt,nn=fr(p?fi(z,en):z,T,p?an(I,yn):I);b[d]=nn,D[d]=nn-T}if(s){var H,lt=d==="x"?Nt:Lt,me=d==="x"?Kt:Jt,wt=b[S],He=S==="y"?"height":"width",jn=wt+g[lt],rn=wt-g[me],tr=[Nt,Lt].indexOf(m)!==-1,Zr=(H=$==null?void 0:$[S])!=null?H:0,Qr=tr?jn:wt-A[He]-M[He]-Zr+R.altAxis,Kr=tr?wt+A[He]+M[He]-Zr-R.altAxis:rn,Jr=p&&tr?zd(Qr,wt,Kr):fr(p?Qr:jn,wt,p?Kr:rn);b[S]=Jr,D[S]=Jr-wt}e.modifiersData[r]=D}}var cg={name:"preventOverflow",enabled:!0,phase:"main",fn:fg,requiresIfExists:["offset"]};function hg(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function pg(t){return t===se(t)||!jt(t)?oa(t):hg(t)}function dg(t){var e=t.getBoundingClientRect(),n=Mn(e.width)/t.offsetWidth||1,r=Mn(e.height)/t.offsetHeight||1;return n!==1||r!==1}function gg(t,e,n){n===void 0&&(n=!1);var r=jt(e),i=jt(e)&&dg(e),o=Ge(e),a=An(t,i),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((ye(e)!=="body"||sa(o))&&(s=pg(e)),jt(e)?(l=An(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=aa(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function vg(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var l=e.get(s);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function mg(t){var e=vg(t);return Pd.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function yg(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function wg(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var pl={placement:"bottom",modifiers:[],strategy:"absolute"};function dl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function xg(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?pl:i;return function(s,l,f){f===void 0&&(f=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},pl,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},c=[],h=!1,p={state:u,setOptions:function(m){var w=typeof m=="function"?m(u.options):m;y(),u.options=Object.assign({},o,u.options,w),u.scrollParents={reference:$n(s)?cr(s):s.contextElement?cr(s.contextElement):[],popper:cr(l)};var _=mg(wg([].concat(r,u.options.modifiers)));return u.orderedModifiers=_.filter(function(d){return d.enabled}),v(),p.update()},forceUpdate:function(){if(!h){var m=u.elements,w=m.reference,_=m.popper;if(!!dl(w,_)){u.rects={reference:gg(w,lr(_),u.options.strategy==="fixed"),popper:ra(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(R){return u.modifiersData[R.name]=Object.assign({},R.data)});for(var d=0;d<u.orderedModifiers.length;d++){if(u.reset===!0){u.reset=!1,d=-1;continue}var S=u.orderedModifiers[d],b=S.fn,A=S.options,M=A===void 0?{}:A,P=S.name;typeof b=="function"&&(u=b({state:u,options:M,name:P,instance:p})||u)}}}},update:yg(function(){return new Promise(function(g){p.forceUpdate(),g(u)})}),destroy:function(){y(),h=!0}};if(!dl(s,l))return p;p.setOptions(f).then(function(g){!h&&f.onFirstUpdate&&f.onFirstUpdate(g)});function v(){u.orderedModifiers.forEach(function(g){var m=g.name,w=g.options,_=w===void 0?{}:w,d=g.effect;if(typeof d=="function"){var S=d({state:u,name:m,instance:p,options:_}),b=function(){};c.push(S||b)}})}function y(){c.forEach(function(g){return g()}),c=[]}return p}}var _g=[Yd,ug,Vd,tl,ag,eg,cg,Dd,rg],bg=xg({defaultModifiers:_g}),Eg="tippy-box",gl="tippy-content",Sg="tippy-backdrop",vl="tippy-arrow",ml="tippy-svg-arrow",sn={passive:!0,capture:!0},yl=function(){return document.body};function la(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function fa(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function wl(t,e){return typeof t=="function"?t.apply(void 0,e):t}function xl(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function kg(t){return t.split(/\s+/).filter(Boolean)}function Rn(t){return[].concat(t)}function _l(t,e){t.indexOf(e)===-1&&t.push(e)}function $g(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Mg(t){return t.split("-")[0]}function di(t){return[].slice.call(t)}function bl(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function pr(){return document.createElement("div")}function gi(t){return["Element","Fragment"].some(function(e){return fa(t,e)})}function Ag(t){return fa(t,"NodeList")}function El(t){return fa(t,"MouseEvent")}function Pg(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Rg(t){return gi(t)?[t]:Ag(t)?di(t):Array.isArray(t)?t:di(document.querySelectorAll(t))}function ca(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Sl(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function kl(t){var e,n=Rn(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function Tg(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,a=i.popperState,s=i.props,l=s.interactiveBorder,f=Mg(a.placement),u=a.modifiersData.offset;if(!u)return!0;var c=f==="bottom"?u.top.y:0,h=f==="top"?u.bottom.y:0,p=f==="right"?u.left.x:0,v=f==="left"?u.right.x:0,y=o.top-r+c>l,g=r-o.bottom-h>l,m=o.left-n+p>l,w=n-o.right-v>l;return y||g||m||w})}function ha(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function $l(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var xe={isTouch:!1},Ml=0;function Og(){xe.isTouch||(xe.isTouch=!0,window.performance&&document.addEventListener("mousemove",Al))}function Al(){var t=performance.now();t-Ml<20&&(xe.isTouch=!1,document.removeEventListener("mousemove",Al)),Ml=t}function Cg(){var t=document.activeElement;if(Pg(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function zg(){document.addEventListener("touchstart",Og,sn),window.addEventListener("blur",Cg)}var Ig=typeof window!="undefined"&&typeof document!="undefined",Ng=Ig?!!window.msCrypto:!1,Lg={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Dg={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ue=Object.assign({appendTo:yl,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Lg,Dg),Bg=Object.keys(ue),Fg=function(e){var n=Object.keys(e);n.forEach(function(r){ue[r]=e[r]})};function Pl(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,a=i.defaultValue;if(o){var s;r[o]=t[o]!==void 0?t[o]:(s=ue[o])!=null?s:a}return r},{});return Object.assign({},t,n)}function qg(t,e){var n=e?Object.keys(Pl(Object.assign({},ue,{plugins:e}))):Bg,r=n.reduce(function(i,o){var a=(t.getAttribute("data-tippy-"+o)||"").trim();if(!a)return i;if(o==="content")i[o]=a;else try{i[o]=JSON.parse(a)}catch{i[o]=a}return i},{});return r}function Rl(t,e){var n=Object.assign({},e,{content:wl(e.content,[t])},e.ignoreAttributes?{}:qg(t,e.plugins));return n.aria=Object.assign({},ue.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Vg=function(){return"innerHTML"};function pa(t,e){t[Vg()]=e}function Tl(t){var e=pr();return t===!0?e.className=vl:(e.className=ml,gi(t)?e.appendChild(t):pa(e,t)),e}function Ol(t,e){gi(e.content)?(pa(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?pa(t,e.content):t.textContent=e.content)}function da(t){var e=t.firstElementChild,n=di(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(gl)}),arrow:n.find(function(r){return r.classList.contains(vl)||r.classList.contains(ml)}),backdrop:n.find(function(r){return r.classList.contains(Sg)})}}function Cl(t){var e=pr(),n=pr();n.className=Eg,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=pr();r.className=gl,r.setAttribute("data-state","hidden"),Ol(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,a){var s=da(e),l=s.box,f=s.content,u=s.arrow;a.theme?l.setAttribute("data-theme",a.theme):l.removeAttribute("data-theme"),typeof a.animation=="string"?l.setAttribute("data-animation",a.animation):l.removeAttribute("data-animation"),a.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?l.setAttribute("role",a.role):l.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&Ol(f,t.props),a.arrow?u?o.arrow!==a.arrow&&(l.removeChild(u),l.appendChild(Tl(a.arrow))):l.appendChild(Tl(a.arrow)):u&&l.removeChild(u)}return{popper:e,onUpdate:i}}Cl.$$tippy=!0;var Xg=1,vi=[],ga=[];function Yg(t,e){var n=Rl(t,Object.assign({},ue,Pl(bl(e)))),r,i,o,a=!1,s=!1,l=!1,f=!1,u,c,h,p=[],v=xl(en,n.interactiveDebounce),y,g=Xg++,m=null,w=$g(n.plugins),_={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},d={id:g,reference:t,popper:pr(),popperInstance:m,props:n,state:_,plugins:w,clearDelayTimeouts:Qr,setProps:Kr,setContent:Jr,show:up,hide:lp,hideWithInteractivity:fp,enable:tr,disable:Zr,unmount:cp,destroy:hp};if(!n.render)return d;var S=n.render(d),b=S.popper,A=S.onUpdate;b.setAttribute("data-tippy-root",""),b.id="tippy-"+d.id,d.popper=b,t._tippy=d,b._tippy=d;var M=w.map(function(O){return O.fn(d)}),P=t.hasAttribute("aria-expanded");return Ae(),L(),T(),z("onCreate",[d]),n.showOnCreate&&jn(),b.addEventListener("mouseenter",function(){d.props.interactive&&d.state.isVisible&&d.clearDelayTimeouts()}),b.addEventListener("mouseleave",function(){d.props.interactive&&d.props.trigger.indexOf("mouseenter")>=0&&E().addEventListener("mousemove",v)}),d;function R(){var O=d.props.touch;return Array.isArray(O)?O:[O,0]}function $(){return R()[0]==="hold"}function D(){var O;return!!((O=d.props.render)!=null&&O.$$tippy)}function C(){return y||t}function E(){var O=C().parentNode;return O?kl(O):document}function x(){return da(b)}function k(O){return d.state.isMounted&&!d.state.isVisible||xe.isTouch||u&&u.type==="focus"?0:la(d.props.delay,O?0:1,ue.delay)}function T(O){O===void 0&&(O=!1),b.style.pointerEvents=d.props.interactive&&!O?"":"none",b.style.zIndex=""+d.props.zIndex}function z(O,q,G){if(G===void 0&&(G=!0),M.forEach(function(nt){nt[O]&&nt[O].apply(nt,q)}),G){var rt;(rt=d.props)[O].apply(rt,q)}}function I(){var O=d.props.aria;if(!!O.content){var q="aria-"+O.content,G=b.id,rt=Rn(d.props.triggerTarget||t);rt.forEach(function(nt){var kt=nt.getAttribute(q);if(d.state.isVisible)nt.setAttribute(q,kt?kt+" "+G:G);else{var Qt=kt&&kt.replace(G,"").trim();Qt?nt.setAttribute(q,Qt):nt.removeAttribute(q)}})}}function L(){if(!(P||!d.props.aria.expanded)){var O=Rn(d.props.triggerTarget||t);O.forEach(function(q){d.props.interactive?q.setAttribute("aria-expanded",d.state.isVisible&&q===C()?"true":"false"):q.removeAttribute("aria-expanded")})}}function N(){E().removeEventListener("mousemove",v),vi=vi.filter(function(O){return O!==v})}function B(O){if(!(xe.isTouch&&(l||O.type==="mousedown"))){var q=O.composedPath&&O.composedPath()[0]||O.target;if(!(d.props.interactive&&$l(b,q))){if(Rn(d.props.triggerTarget||t).some(function(G){return $l(G,q)})){if(xe.isTouch||d.state.isVisible&&d.props.trigger.indexOf("click")>=0)return}else z("onClickOutside",[d,O]);d.props.hideOnClick===!0&&(d.clearDelayTimeouts(),d.hide(),s=!0,setTimeout(function(){s=!1}),d.state.isMounted||ot())}}}function Y(){l=!0}function Q(){l=!1}function Z(){var O=E();O.addEventListener("mousedown",B,!0),O.addEventListener("touchend",B,sn),O.addEventListener("touchstart",Q,sn),O.addEventListener("touchmove",Y,sn)}function ot(){var O=E();O.removeEventListener("mousedown",B,!0),O.removeEventListener("touchend",B,sn),O.removeEventListener("touchstart",Q,sn),O.removeEventListener("touchmove",Y,sn)}function j(O,q){Xt(O,function(){!d.state.isVisible&&b.parentNode&&b.parentNode.contains(b)&&q()})}function ut(O,q){Xt(O,q)}function Xt(O,q){var G=x().box;function rt(nt){nt.target===G&&(ha(G,"remove",rt),q())}if(O===0)return q();ha(G,"remove",c),ha(G,"add",rt),c=rt}function zt(O,q,G){G===void 0&&(G=!1);var rt=Rn(d.props.triggerTarget||t);rt.forEach(function(nt){nt.addEventListener(O,q,G),p.push({node:nt,eventType:O,handler:q,options:G})})}function Ae(){$()&&(zt("touchstart",Yt,{passive:!0}),zt("touchend",yn,{passive:!0})),kg(d.props.trigger).forEach(function(O){if(O!=="manual")switch(zt(O,Yt),O){case"mouseenter":zt("mouseleave",yn);break;case"focus":zt(Ng?"focusout":"blur",nn);break;case"focusin":zt("focusout",nn);break}})}function tn(){p.forEach(function(O){var q=O.node,G=O.eventType,rt=O.handler,nt=O.options;q.removeEventListener(G,rt,nt)}),p=[]}function Yt(O){var q,G=!1;if(!(!d.state.isEnabled||H(O)||s)){var rt=((q=u)==null?void 0:q.type)==="focus";u=O,y=O.currentTarget,L(),!d.state.isVisible&&El(O)&&vi.forEach(function(nt){return nt(O)}),O.type==="click"&&(d.props.trigger.indexOf("mouseenter")<0||a)&&d.props.hideOnClick!==!1&&d.state.isVisible?G=!0:jn(O),O.type==="click"&&(a=!G),G&&!rt&&rn(O)}}function en(O){var q=O.target,G=C().contains(q)||b.contains(q);if(!(O.type==="mousemove"&&G)){var rt=He().concat(b).map(function(nt){var kt,Qt=nt._tippy,wn=(kt=Qt.popperInstance)==null?void 0:kt.state;return wn?{popperRect:nt.getBoundingClientRect(),popperState:wn,props:n}:null}).filter(Boolean);Tg(rt,O)&&(N(),rn(O))}}function yn(O){var q=H(O)||d.props.trigger.indexOf("click")>=0&&a;if(!q){if(d.props.interactive){d.hideWithInteractivity(O);return}rn(O)}}function nn(O){d.props.trigger.indexOf("focusin")<0&&O.target!==C()||d.props.interactive&&O.relatedTarget&&b.contains(O.relatedTarget)||rn(O)}function H(O){return xe.isTouch?$()!==O.type.indexOf("touch")>=0:!1}function lt(){me();var O=d.props,q=O.popperOptions,G=O.placement,rt=O.offset,nt=O.getReferenceClientRect,kt=O.moveTransition,Qt=D()?da(b).arrow:null,wn=nt?{getBoundingClientRect:nt,contextElement:nt.contextElement||C()}:t,bu={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(jr){var xn=jr.state;if(D()){var pp=x(),Xo=pp.box;["placement","reference-hidden","escaped"].forEach(function(ti){ti==="placement"?Xo.setAttribute("data-placement",xn.placement):xn.attributes.popper["data-popper-"+ti]?Xo.setAttribute("data-"+ti,""):Xo.removeAttribute("data-"+ti)}),xn.attributes.popper={}}}},on=[{name:"offset",options:{offset:rt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!kt}},bu];D()&&Qt&&on.push({name:"arrow",options:{element:Qt,padding:3}}),on.push.apply(on,(q==null?void 0:q.modifiers)||[]),d.popperInstance=bg(wn,b,Object.assign({},q,{placement:G,onFirstUpdate:h,modifiers:on}))}function me(){d.popperInstance&&(d.popperInstance.destroy(),d.popperInstance=null)}function wt(){var O=d.props.appendTo,q,G=C();d.props.interactive&&O===yl||O==="parent"?q=G.parentNode:q=wl(O,[G]),q.contains(b)||q.appendChild(b),d.state.isMounted=!0,lt()}function He(){return di(b.querySelectorAll("[data-tippy-root]"))}function jn(O){d.clearDelayTimeouts(),O&&z("onTrigger",[d,O]),Z();var q=k(!0),G=R(),rt=G[0],nt=G[1];xe.isTouch&&rt==="hold"&&nt&&(q=nt),q?r=setTimeout(function(){d.show()},q):d.show()}function rn(O){if(d.clearDelayTimeouts(),z("onUntrigger",[d,O]),!d.state.isVisible){ot();return}if(!(d.props.trigger.indexOf("mouseenter")>=0&&d.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(O.type)>=0&&a)){var q=k(!1);q?i=setTimeout(function(){d.state.isVisible&&d.hide()},q):o=requestAnimationFrame(function(){d.hide()})}}function tr(){d.state.isEnabled=!0}function Zr(){d.hide(),d.state.isEnabled=!1}function Qr(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function Kr(O){if(!d.state.isDestroyed){z("onBeforeUpdate",[d,O]),tn();var q=d.props,G=Rl(t,Object.assign({},q,bl(O),{ignoreAttributes:!0}));d.props=G,Ae(),q.interactiveDebounce!==G.interactiveDebounce&&(N(),v=xl(en,G.interactiveDebounce)),q.triggerTarget&&!G.triggerTarget?Rn(q.triggerTarget).forEach(function(rt){rt.removeAttribute("aria-expanded")}):G.triggerTarget&&t.removeAttribute("aria-expanded"),L(),T(),A&&A(q,G),d.popperInstance&&(lt(),He().forEach(function(rt){requestAnimationFrame(rt._tippy.popperInstance.forceUpdate)})),z("onAfterUpdate",[d,O])}}function Jr(O){d.setProps({content:O})}function up(){var O=d.state.isVisible,q=d.state.isDestroyed,G=!d.state.isEnabled,rt=xe.isTouch&&!d.props.touch,nt=la(d.props.duration,0,ue.duration);if(!(O||q||G||rt)&&!C().hasAttribute("disabled")&&(z("onShow",[d],!1),d.props.onShow(d)!==!1)){if(d.state.isVisible=!0,D()&&(b.style.visibility="visible"),T(),Z(),d.state.isMounted||(b.style.transition="none"),D()){var kt=x(),Qt=kt.box,wn=kt.content;ca([Qt,wn],0)}h=function(){var on;if(!(!d.state.isVisible||f)){if(f=!0,b.offsetHeight,b.style.transition=d.props.moveTransition,D()&&d.props.animation){var Vo=x(),jr=Vo.box,xn=Vo.content;ca([jr,xn],nt),Sl([jr,xn],"visible")}I(),L(),_l(ga,d),(on=d.popperInstance)==null||on.forceUpdate(),z("onMount",[d]),d.props.animation&&D()&&ut(nt,function(){d.state.isShown=!0,z("onShown",[d])})}},wt()}}function lp(){var O=!d.state.isVisible,q=d.state.isDestroyed,G=!d.state.isEnabled,rt=la(d.props.duration,1,ue.duration);if(!(O||q||G)&&(z("onHide",[d],!1),d.props.onHide(d)!==!1)){if(d.state.isVisible=!1,d.state.isShown=!1,f=!1,a=!1,D()&&(b.style.visibility="hidden"),N(),ot(),T(!0),D()){var nt=x(),kt=nt.box,Qt=nt.content;d.props.animation&&(ca([kt,Qt],rt),Sl([kt,Qt],"hidden"))}I(),L(),d.props.animation?D()&&j(rt,d.unmount):d.unmount()}}function fp(O){E().addEventListener("mousemove",v),_l(vi,v),v(O)}function cp(){d.state.isVisible&&d.hide(),!!d.state.isMounted&&(me(),He().forEach(function(O){O._tippy.unmount()}),b.parentNode&&b.parentNode.removeChild(b),ga=ga.filter(function(O){return O!==d}),d.state.isMounted=!1,z("onHidden",[d]))}function hp(){d.state.isDestroyed||(d.clearDelayTimeouts(),d.unmount(),tn(),delete t._tippy,d.state.isDestroyed=!0,z("onDestroy",[d]))}}function mi(t,e){e===void 0&&(e={});var n=ue.plugins.concat(e.plugins||[]);zg();var r=Object.assign({},e,{plugins:n}),i=Rg(t),o=i.reduce(function(a,s){var l=s&&Yg(s,r);return l&&a.push(l),a},[]);return gi(t)?o[0]:o}mi.defaultProps=ue;mi.setDefaultProps=Fg;mi.currentInput=xe;Object.assign({},tl,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});var va={clientX:0,clientY:0},yi=[];function zl(t){var e=t.clientX,n=t.clientY;va={clientX:e,clientY:n}}function Ug(t){t.addEventListener("mousemove",zl)}function Hg(t){t.removeEventListener("mousemove",zl)}var q_={name:"followCursor",defaultValue:!1,fn:function(e){var n=e.reference,r=kl(e.props.triggerTarget||n),i=!1,o=!1,a=!0,s=e.props;function l(){return e.props.followCursor==="initial"&&e.state.isVisible}function f(){r.addEventListener("mousemove",h)}function u(){r.removeEventListener("mousemove",h)}function c(){i=!0,e.setProps({getReferenceClientRect:null}),i=!1}function h(y){var g=y.target?n.contains(y.target):!0,m=e.props.followCursor,w=y.clientX,_=y.clientY,d=n.getBoundingClientRect(),S=w-d.left,b=_-d.top;(g||!e.props.interactive)&&e.setProps({getReferenceClientRect:function(){var M=n.getBoundingClientRect(),P=w,R=_;m==="initial"&&(P=M.left+S,R=M.top+b);var $=m==="horizontal"?M.top:R,D=m==="vertical"?M.right:P,C=m==="horizontal"?M.bottom:R,E=m==="vertical"?M.left:P;return{width:D-E,height:C-$,top:$,right:D,bottom:C,left:E}}})}function p(){e.props.followCursor&&(yi.push({instance:e,doc:r}),Ug(r))}function v(){yi=yi.filter(function(y){return y.instance!==e}),yi.filter(function(y){return y.doc===r}).length===0&&Hg(r)}return{onCreate:p,onDestroy:v,onBeforeUpdate:function(){s=e.props},onAfterUpdate:function(g,m){var w=m.followCursor;i||w!==void 0&&s.followCursor!==w&&(v(),w?(p(),e.state.isMounted&&!o&&!l()&&f()):(u(),c()))},onMount:function(){e.props.followCursor&&!o&&(a&&(h(va),a=!1),l()||f())},onTrigger:function(g,m){El(m)&&(va={clientX:m.clientX,clientY:m.clientY}),o=m.type==="focus"},onHidden:function(){e.props.followCursor&&(c(),u(),a=!0)}}}};mi.setDefaultProps({render:Cl});class Mt{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=e+o,s=Math.abs(e)<Math.abs(o)?e-(a-o):o-(a-e);s&&(n[r++]=s),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}function*Gg(t){for(const e of t)yield*e}function Il(t){return Array.from(Gg(t))}function Tn(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}var J=1e-6,dr=1e-12,tt=Math.PI,Dt=tt/2,wi=tt/4,At=tt*2,gt=180/tt,W=tt/180,it=Math.abs,ma=Math.atan,te=Math.atan2,U=Math.cos,xi=Math.ceil,Wg=Math.exp,ya=Math.hypot,Zg=Math.log,V=Math.sin,Qg=Math.sign||function(t){return t>0?1:t<0?-1:0},Bt=Math.sqrt,Kg=Math.tan;function Jg(t){return t>1?0:t<-1?tt:Math.acos(t)}function Ut(t){return t>1?Dt:t<-1?-Dt:Math.asin(t)}function Nl(t){return(t=V(t/2))*t}function ht(){}function _i(t,e){t&&Dl.hasOwnProperty(t.type)&&Dl[t.type](t,e)}var Ll={Feature:function(t,e){_i(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)_i(n[r].geometry,e)}},Dl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){wa(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)wa(n[r],e,0)},Polygon:function(t,e){Bl(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Bl(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)_i(n[r],e)}};function wa(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function Bl(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)wa(t[n],e,1);e.polygonEnd()}function Oe(t,e){t&&Ll.hasOwnProperty(t.type)?Ll[t.type](t,e):_i(t,e)}var bi=new Mt,Fl=new Mt,ql,Vl,xa,_a,ba,Ce={point:ht,lineStart:ht,lineEnd:ht,polygonStart:function(){bi=new Mt,Ce.lineStart=jg,Ce.lineEnd=tv},polygonEnd:function(){var t=+bi;Fl.add(t<0?At+t:t),this.lineStart=this.lineEnd=this.point=ht},sphere:function(){Fl.add(At)}};function jg(){Ce.point=ev}function tv(){Xl(ql,Vl)}function ev(t,e){Ce.point=Xl,ql=t,Vl=e,t*=W,e*=W,xa=t,_a=U(e=e/2+wi),ba=V(e)}function Xl(t,e){t*=W,e*=W,e=e/2+wi;var n=t-xa,r=n>=0?1:-1,i=r*n,o=U(e),a=V(e),s=ba*a,l=_a*o+s*U(i),f=s*r*V(i);bi.add(te(f,l)),xa=t,_a=o,ba=a}function Ei(t){return[te(t[1],t[0]),Ut(t[2])]}function un(t){var e=t[0],n=t[1],r=U(n);return[r*U(e),r*V(e),V(n)]}function Si(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function On(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ea(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ki(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function $i(t){var e=Bt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var pt,Ft,vt,Ht,ln,Yl,Ul,Cn,gr,We,ze,Ie={point:Sa,lineStart:Gl,lineEnd:Wl,polygonStart:function(){Ie.point=Zl,Ie.lineStart=nv,Ie.lineEnd=rv,gr=new Mt,Ce.polygonStart()},polygonEnd:function(){Ce.polygonEnd(),Ie.point=Sa,Ie.lineStart=Gl,Ie.lineEnd=Wl,bi<0?(pt=-(vt=180),Ft=-(Ht=90)):gr>J?Ht=90:gr<-J&&(Ft=-90),ze[0]=pt,ze[1]=vt},sphere:function(){pt=-(vt=180),Ft=-(Ht=90)}};function Sa(t,e){We.push(ze=[pt=t,vt=t]),e<Ft&&(Ft=e),e>Ht&&(Ht=e)}function Hl(t,e){var n=un([t*W,e*W]);if(Cn){var r=On(Cn,n),i=[r[1],-r[0],0],o=On(i,r);$i(o),o=Ei(o);var a=t-ln,s=a>0?1:-1,l=o[0]*gt*s,f,u=it(a)>180;u^(s*ln<l&&l<s*t)?(f=o[1]*gt,f>Ht&&(Ht=f)):(l=(l+360)%360-180,u^(s*ln<l&&l<s*t)?(f=-o[1]*gt,f<Ft&&(Ft=f)):(e<Ft&&(Ft=e),e>Ht&&(Ht=e))),u?t<ln?Gt(pt,t)>Gt(pt,vt)&&(vt=t):Gt(t,vt)>Gt(pt,vt)&&(pt=t):vt>=pt?(t<pt&&(pt=t),t>vt&&(vt=t)):t>ln?Gt(pt,t)>Gt(pt,vt)&&(vt=t):Gt(t,vt)>Gt(pt,vt)&&(pt=t)}else We.push(ze=[pt=t,vt=t]);e<Ft&&(Ft=e),e>Ht&&(Ht=e),Cn=n,ln=t}function Gl(){Ie.point=Hl}function Wl(){ze[0]=pt,ze[1]=vt,Ie.point=Sa,Cn=null}function Zl(t,e){if(Cn){var n=t-ln;gr.add(it(n)>180?n+(n>0?360:-360):n)}else Yl=t,Ul=e;Ce.point(t,e),Hl(t,e)}function nv(){Ce.lineStart()}function rv(){Zl(Yl,Ul),Ce.lineEnd(),it(gr)>J&&(pt=-(vt=180)),ze[0]=pt,ze[1]=vt,Cn=null}function Gt(t,e){return(e-=t)<0?e+360:e}function iv(t,e){return t[0]-e[0]}function Ql(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function ov(t){var e,n,r,i,o,a,s;if(Ht=vt=-(pt=Ft=1/0),We=[],Oe(t,Ie),n=We.length){for(We.sort(iv),e=1,r=We[0],o=[r];e<n;++e)i=We[e],Ql(r,i[0])||Ql(r,i[1])?(Gt(r[0],i[1])>Gt(r[0],r[1])&&(r[1]=i[1]),Gt(i[0],r[1])>Gt(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=o.length-1,e=0,r=o[n];e<=n;r=i,++e)i=o[e],(s=Gt(r[1],i[0]))>a&&(a=s,pt=i[0],vt=r[1])}return We=ze=null,pt===1/0||Ft===1/0?[[NaN,NaN],[NaN,NaN]]:[[pt,Ft],[vt,Ht]]}var vr,Mi,Ai,Pi,Ri,Ti,Oi,Ci,ka,$a,Ma,Kl,Jl,Pt,Rt,Tt,le={sphere:ht,point:Aa,lineStart:jl,lineEnd:tf,polygonStart:function(){le.lineStart=uv,le.lineEnd=lv},polygonEnd:function(){le.lineStart=jl,le.lineEnd=tf}};function Aa(t,e){t*=W,e*=W;var n=U(e);mr(n*U(t),n*V(t),V(e))}function mr(t,e,n){++vr,Ai+=(t-Ai)/vr,Pi+=(e-Pi)/vr,Ri+=(n-Ri)/vr}function jl(){le.point=av}function av(t,e){t*=W,e*=W;var n=U(e);Pt=n*U(t),Rt=n*V(t),Tt=V(e),le.point=sv,mr(Pt,Rt,Tt)}function sv(t,e){t*=W,e*=W;var n=U(e),r=n*U(t),i=n*V(t),o=V(e),a=te(Bt((a=Rt*o-Tt*i)*a+(a=Tt*r-Pt*o)*a+(a=Pt*i-Rt*r)*a),Pt*r+Rt*i+Tt*o);Mi+=a,Ti+=a*(Pt+(Pt=r)),Oi+=a*(Rt+(Rt=i)),Ci+=a*(Tt+(Tt=o)),mr(Pt,Rt,Tt)}function tf(){le.point=Aa}function uv(){le.point=fv}function lv(){ef(Kl,Jl),le.point=Aa}function fv(t,e){Kl=t,Jl=e,t*=W,e*=W,le.point=ef;var n=U(e);Pt=n*U(t),Rt=n*V(t),Tt=V(e),mr(Pt,Rt,Tt)}function ef(t,e){t*=W,e*=W;var n=U(e),r=n*U(t),i=n*V(t),o=V(e),a=Rt*o-Tt*i,s=Tt*r-Pt*o,l=Pt*i-Rt*r,f=ya(a,s,l),u=Ut(f),c=f&&-u/f;ka.add(c*a),$a.add(c*s),Ma.add(c*l),Mi+=u,Ti+=u*(Pt+(Pt=r)),Oi+=u*(Rt+(Rt=i)),Ci+=u*(Tt+(Tt=o)),mr(Pt,Rt,Tt)}function nf(t){vr=Mi=Ai=Pi=Ri=Ti=Oi=Ci=0,ka=new Mt,$a=new Mt,Ma=new Mt,Oe(t,le);var e=+ka,n=+$a,r=+Ma,i=ya(e,n,r);return i<dr&&(e=Ti,n=Oi,r=Ci,Mi<J&&(e=Ai,n=Pi,r=Ri),i=ya(e,n,r),i<dr)?[NaN,NaN]:[te(n,e)*gt,Ut(r/i)*gt]}function Pa(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function Ra(t,e){return[it(t)>tt?t+Math.round(-t/At)*At:t,e]}Ra.invert=Ra;function rf(t,e,n){return(t%=At)?e||n?Pa(af(t),sf(e,n)):af(t):e||n?sf(e,n):Ra}function of(t){return function(e,n){return e+=t,[e>tt?e-At:e<-tt?e+At:e,n]}}function af(t){var e=of(t);return e.invert=of(-t),e}function sf(t,e){var n=U(t),r=V(t),i=U(e),o=V(e);function a(s,l){var f=U(l),u=U(s)*f,c=V(s)*f,h=V(l),p=h*n+u*r;return[te(c*i-p*o,u*n-h*r),Ut(p*i+c*o)]}return a.invert=function(s,l){var f=U(l),u=U(s)*f,c=V(s)*f,h=V(l),p=h*i-c*o;return[te(c*i+h*o,u*n+p*r),Ut(p*n-u*r)]},a}function cv(t){t=rf(t[0]*W,t[1]*W,t.length>2?t[2]*W:0);function e(n){return n=t(n[0]*W,n[1]*W),n[0]*=gt,n[1]*=gt,n}return e.invert=function(n){return n=t.invert(n[0]*W,n[1]*W),n[0]*=gt,n[1]*=gt,n},e}function hv(t,e,n,r,i,o){if(!!n){var a=U(e),s=V(e),l=r*n;i==null?(i=e+r*At,o=e-l/2):(i=uf(a,i),o=uf(a,o),(r>0?i<o:i>o)&&(i+=r*At));for(var f,u=i;r>0?u>o:u<o;u-=l)f=Ei([a,-s*U(u),-s*V(u)]),t.point(f[0],f[1])}}function uf(t,e){e=un(e),e[0]-=t,$i(e);var n=Jg(-e[1]);return((-e[2]<0?-n:n)+At-J)%At}function lf(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:ht,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function zi(t,e){return it(t[0]-e[0])<J&&it(t[1]-e[1])<J}function Ii(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ff(t,e,n,r,i){var o=[],a=[],s,l;if(t.forEach(function(v){if(!((y=v.length-1)<=0)){var y,g=v[0],m=v[y],w;if(zi(g,m)){if(!g[2]&&!m[2]){for(i.lineStart(),s=0;s<y;++s)i.point((g=v[s])[0],g[1]);i.lineEnd();return}m[0]+=2*J}o.push(w=new Ii(g,v,null,!0)),a.push(w.o=new Ii(g,null,w,!1)),o.push(w=new Ii(m,v,null,!1)),a.push(w.o=new Ii(m,null,w,!0))}}),!!o.length){for(a.sort(e),cf(o),cf(a),s=0,l=a.length;s<l;++s)a[s].e=n=!n;for(var f=o[0],u,c;;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(s=0,l=u.length;s<l;++s)i.point((c=u[s])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,s=u.length-1;s>=0;--s)i.point((c=u[s])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function cf(t){if(!!(e=t.length)){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Ta(t){return it(t[0])<=tt?t[0]:Qg(t[0])*((it(t[0])+tt)%At-tt)}function hf(t,e){var n=Ta(e),r=e[1],i=V(r),o=[V(n),-U(n),0],a=0,s=0,l=new Mt;i===1?r=Dt+J:i===-1&&(r=-Dt-J);for(var f=0,u=t.length;f<u;++f)if(!!(h=(c=t[f]).length))for(var c,h,p=c[h-1],v=Ta(p),y=p[1]/2+wi,g=V(y),m=U(y),w=0;w<h;++w,v=d,g=b,m=A,p=_){var _=c[w],d=Ta(_),S=_[1]/2+wi,b=V(S),A=U(S),M=d-v,P=M>=0?1:-1,R=P*M,$=R>tt,D=g*b;if(l.add(te(D*P*V(R),m*A+D*U(R))),a+=$?M+P*At:M,$^v>=n^d>=n){var C=On(un(p),un(_));$i(C);var E=On(o,C);$i(E);var x=($^M>=0?-1:1)*Ut(E[2]);(r>x||r===x&&(C[0]||C[1]))&&(s+=$^M>=0?1:-1)}}return(a<-J||a<J&&l<-dr)^s&1}function pf(t,e,n,r){return function(i){var o=e(i),a=lf(),s=e(a),l=!1,f,u,c,h={point:p,lineStart:y,lineEnd:g,polygonStart:function(){h.point=m,h.lineStart=w,h.lineEnd=_,u=[],f=[]},polygonEnd:function(){h.point=p,h.lineStart=y,h.lineEnd=g,u=Il(u);var d=hf(f,r);u.length?(l||(i.polygonStart(),l=!0),ff(u,dv,d,n,i)):d&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(d,S){t(d,S)&&i.point(d,S)}function v(d,S){o.point(d,S)}function y(){h.point=v,o.lineStart()}function g(){h.point=p,o.lineEnd()}function m(d,S){c.push([d,S]),s.point(d,S)}function w(){s.lineStart(),c=[]}function _(){m(c[0][0],c[0][1]),s.lineEnd();var d=s.clean(),S=a.result(),b,A=S.length,M,P,R;if(c.pop(),f.push(c),c=null,!!A){if(d&1){if(P=S[0],(M=P.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),b=0;b<M;++b)i.point((R=P[b])[0],R[1]);i.lineEnd()}return}A>1&&d&2&&S.push(S.pop().concat(S.shift())),u.push(S.filter(pv))}}return h}}function pv(t){return t.length>1}function dv(t,e){return((t=t.x)[0]<0?t[1]-Dt-J:Dt-t[1])-((e=e.x)[0]<0?e[1]-Dt-J:Dt-e[1])}var df=pf(function(){return!0},gv,mv,[-tt,-Dt]);function gv(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var s=o>0?tt:-tt,l=it(o-e);it(l-tt)<J?(t.point(e,n=(n+a)/2>0?Dt:-Dt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(o,n),i=0):r!==s&&l>=tt&&(it(e-r)<J&&(e-=r*J),it(o-s)<J&&(o-=s*J),n=vv(e,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=o,n=a),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function vv(t,e,n,r){var i,o,a=V(t-n);return it(a)>J?ma((V(e)*(o=U(r))*V(n)-V(r)*(i=U(e))*V(t))/(i*o*a)):(e+r)/2}function mv(t,e,n,r){var i;if(t==null)i=n*Dt,r.point(-tt,i),r.point(0,i),r.point(tt,i),r.point(tt,0),r.point(tt,-i),r.point(0,-i),r.point(-tt,-i),r.point(-tt,0),r.point(-tt,i);else if(it(t[0]-e[0])>J){var o=t[0]<e[0]?tt:-tt;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function yv(t){var e=U(t),n=6*W,r=e>0,i=it(e)>J;function o(u,c,h,p){hv(p,t,n,h,u,c)}function a(u,c){return U(u)*U(c)>e}function s(u){var c,h,p,v,y;return{lineStart:function(){v=p=!1,y=1},point:function(g,m){var w=[g,m],_,d=a(g,m),S=r?d?0:f(g,m):d?f(g+(g<0?tt:-tt),m):0;if(!c&&(v=p=d)&&u.lineStart(),d!==p&&(_=l(c,w),(!_||zi(c,_)||zi(w,_))&&(w[2]=1)),d!==p)y=0,d?(u.lineStart(),_=l(w,c),u.point(_[0],_[1])):(_=l(c,w),u.point(_[0],_[1],2),u.lineEnd()),c=_;else if(i&&c&&r^d){var b;!(S&h)&&(b=l(w,c,!0))&&(y=0,r?(u.lineStart(),u.point(b[0][0],b[0][1]),u.point(b[1][0],b[1][1]),u.lineEnd()):(u.point(b[1][0],b[1][1]),u.lineEnd(),u.lineStart(),u.point(b[0][0],b[0][1],3)))}d&&(!c||!zi(c,w))&&u.point(w[0],w[1]),c=w,p=d,h=S},lineEnd:function(){p&&u.lineEnd(),c=null},clean:function(){return y|(v&&p)<<1}}}function l(u,c,h){var p=un(u),v=un(c),y=[1,0,0],g=On(p,v),m=Si(g,g),w=g[0],_=m-w*w;if(!_)return!h&&u;var d=e*m/_,S=-e*w/_,b=On(y,g),A=ki(y,d),M=ki(g,S);Ea(A,M);var P=b,R=Si(A,P),$=Si(P,P),D=R*R-$*(Si(A,A)-1);if(!(D<0)){var C=Bt(D),E=ki(P,(-R-C)/$);if(Ea(E,A),E=Ei(E),!h)return E;var x=u[0],k=c[0],T=u[1],z=c[1],I;k<x&&(I=x,x=k,k=I);var L=k-x,N=it(L-tt)<J,B=N||L<J;if(!N&&z<T&&(I=T,T=z,z=I),B?N?T+z>0^E[1]<(it(E[0]-x)<J?T:z):T<=E[1]&&E[1]<=z:L>tt^(x<=E[0]&&E[0]<=k)){var Y=ki(P,(-R+C)/$);return Ea(Y,A),[E,Ei(Y)]}}}function f(u,c){var h=r?t:tt-t,p=0;return u<-h?p|=1:u>h&&(p|=2),c<-h?p|=4:c>h&&(p|=8),p}return pf(a,s,o,r?[0,-t]:[-tt,t-tt])}function wv(t,e,n,r,i,o){var a=t[0],s=t[1],l=e[0],f=e[1],u=0,c=1,h=l-a,p=f-s,v;if(v=n-a,!(!h&&v>0)){if(v/=h,h<0){if(v<u)return;v<c&&(c=v)}else if(h>0){if(v>c)return;v>u&&(u=v)}if(v=i-a,!(!h&&v<0)){if(v/=h,h<0){if(v>c)return;v>u&&(u=v)}else if(h>0){if(v<u)return;v<c&&(c=v)}if(v=r-s,!(!p&&v>0)){if(v/=p,p<0){if(v<u)return;v<c&&(c=v)}else if(p>0){if(v>c)return;v>u&&(u=v)}if(v=o-s,!(!p&&v<0)){if(v/=p,p<0){if(v>c)return;v>u&&(u=v)}else if(p>0){if(v<u)return;v<c&&(c=v)}return u>0&&(t[0]=a+u*h,t[1]=s+u*p),c<1&&(e[0]=a+c*h,e[1]=s+c*p),!0}}}}}var yr=1e9,Ni=-yr;function xv(t,e,n,r){function i(f,u){return t<=f&&f<=n&&e<=u&&u<=r}function o(f,u,c,h){var p=0,v=0;if(f==null||(p=a(f,c))!==(v=a(u,c))||l(f,u)<0^c>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+c+4)%4)!==v);else h.point(u[0],u[1])}function a(f,u){return it(f[0]-t)<J?u>0?0:3:it(f[0]-n)<J?u>0?2:1:it(f[1]-e)<J?u>0?1:0:u>0?3:2}function s(f,u){return l(f.x,u.x)}function l(f,u){var c=a(f,1),h=a(u,1);return c!==h?c-h:c===0?u[1]-f[1]:c===1?f[0]-u[0]:c===2?f[1]-u[1]:u[0]-f[0]}return function(f){var u=f,c=lf(),h,p,v,y,g,m,w,_,d,S,b,A={point:M,lineStart:D,lineEnd:C,polygonStart:R,polygonEnd:$};function M(x,k){i(x,k)&&u.point(x,k)}function P(){for(var x=0,k=0,T=p.length;k<T;++k)for(var z=p[k],I=1,L=z.length,N=z[0],B,Y,Q=N[0],Z=N[1];I<L;++I)B=Q,Y=Z,N=z[I],Q=N[0],Z=N[1],Y<=r?Z>r&&(Q-B)*(r-Y)>(Z-Y)*(t-B)&&++x:Z<=r&&(Q-B)*(r-Y)<(Z-Y)*(t-B)&&--x;return x}function R(){u=c,h=[],p=[],b=!0}function $(){var x=P(),k=b&&x,T=(h=Il(h)).length;(k||T)&&(f.polygonStart(),k&&(f.lineStart(),o(null,null,1,f),f.lineEnd()),T&&ff(h,s,x,o,f),f.polygonEnd()),u=f,h=p=v=null}function D(){A.point=E,p&&p.push(v=[]),S=!0,d=!1,w=_=NaN}function C(){h&&(E(y,g),m&&d&&c.rejoin(),h.push(c.result())),A.point=M,d&&u.lineEnd()}function E(x,k){var T=i(x,k);if(p&&v.push([x,k]),S)y=x,g=k,m=T,S=!1,T&&(u.lineStart(),u.point(x,k));else if(T&&d)u.point(x,k);else{var z=[w=Math.max(Ni,Math.min(yr,w)),_=Math.max(Ni,Math.min(yr,_))],I=[x=Math.max(Ni,Math.min(yr,x)),k=Math.max(Ni,Math.min(yr,k))];wv(z,I,t,e,n,r)?(d||(u.lineStart(),u.point(z[0],z[1])),u.point(I[0],I[1]),T||u.lineEnd(),b=!1):T&&(u.lineStart(),u.point(x,k),b=!1)}w=x,_=k,d=T}return A}}var Oa,Ca,Li,Di,zn={sphere:ht,point:ht,lineStart:_v,lineEnd:ht,polygonStart:ht,polygonEnd:ht};function _v(){zn.point=Ev,zn.lineEnd=bv}function bv(){zn.point=zn.lineEnd=ht}function Ev(t,e){t*=W,e*=W,Ca=t,Li=V(e),Di=U(e),zn.point=Sv}function Sv(t,e){t*=W,e*=W;var n=V(e),r=U(e),i=it(t-Ca),o=U(i),a=V(i),s=r*a,l=Di*n-Li*r*o,f=Li*n+Di*r*o;Oa.add(te(Bt(s*s+l*l),f)),Ca=t,Li=n,Di=r}function kv(t){return Oa=new Mt,Oe(t,zn),+Oa}var za=[null,null],$v={type:"LineString",coordinates:za};function Ia(t,e){return za[0]=t,za[1]=e,kv($v)}var gf={Feature:function(t,e){return Bi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Bi(n[r].geometry,e))return!0;return!1}},vf={Sphere:function(){return!0},Point:function(t,e){return mf(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(mf(n[r],e))return!0;return!1},LineString:function(t,e){return yf(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(yf(n[r],e))return!0;return!1},Polygon:function(t,e){return wf(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(wf(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Bi(n[r],e))return!0;return!1}};function Bi(t,e){return t&&vf.hasOwnProperty(t.type)?vf[t.type](t,e):!1}function mf(t,e){return Ia(t,e)===0}function yf(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(r=Ia(t[o],e),r===0||o>0&&(i=Ia(t[o],t[o-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<dr*i))return!0;n=r}return!1}function wf(t,e){return!!hf(t.map(Mv),xf(e))}function Mv(t){return t=t.map(xf),t.pop(),t}function xf(t){return[t[0]*W,t[1]*W]}function Av(t,e){return(t&&gf.hasOwnProperty(t.type)?gf[t.type]:Bi)(t,e)}function _f(t,e,n){var r=Tn(t,e-J,n).concat(e);return function(i){return r.map(function(o){return[i,o]})}}function bf(t,e,n){var r=Tn(t,e-J,n).concat(e);return function(i){return r.map(function(o){return[o,i]})}}function Pv(){var t,e,n,r,i,o,a,s,l=10,f=l,u=90,c=360,h,p,v,y,g=2.5;function m(){return{type:"MultiLineString",coordinates:w()}}function w(){return Tn(xi(r/u)*u,n,u).map(v).concat(Tn(xi(s/c)*c,a,c).map(y)).concat(Tn(xi(e/l)*l,t,l).filter(function(_){return it(_%u)>J}).map(h)).concat(Tn(xi(o/f)*f,i,f).filter(function(_){return it(_%c)>J}).map(p))}return m.lines=function(){return w().map(function(_){return{type:"LineString",coordinates:_}})},m.outline=function(){return{type:"Polygon",coordinates:[v(r).concat(y(a).slice(1),v(n).reverse().slice(1),y(s).reverse().slice(1))]}},m.extent=function(_){return arguments.length?m.extentMajor(_).extentMinor(_):m.extentMinor()},m.extentMajor=function(_){return arguments.length?(r=+_[0][0],n=+_[1][0],s=+_[0][1],a=+_[1][1],r>n&&(_=r,r=n,n=_),s>a&&(_=s,s=a,a=_),m.precision(g)):[[r,s],[n,a]]},m.extentMinor=function(_){return arguments.length?(e=+_[0][0],t=+_[1][0],o=+_[0][1],i=+_[1][1],e>t&&(_=e,e=t,t=_),o>i&&(_=o,o=i,i=_),m.precision(g)):[[e,o],[t,i]]},m.step=function(_){return arguments.length?m.stepMajor(_).stepMinor(_):m.stepMinor()},m.stepMajor=function(_){return arguments.length?(u=+_[0],c=+_[1],m):[u,c]},m.stepMinor=function(_){return arguments.length?(l=+_[0],f=+_[1],m):[l,f]},m.precision=function(_){return arguments.length?(g=+_,h=_f(o,i,90),p=bf(e,t,g),v=_f(s,a,90),y=bf(r,n,g),m):g},m.extentMajor([[-180,-90+J],[180,90-J]]).extentMinor([[-180,-80-J],[180,80+J]])}function V_(){return Pv()()}function Ef(t,e){var n=t[0]*W,r=t[1]*W,i=e[0]*W,o=e[1]*W,a=U(r),s=V(r),l=U(o),f=V(o),u=a*U(n),c=a*V(n),h=l*U(i),p=l*V(i),v=2*Ut(Bt(Nl(o-r)+a*l*Nl(i-n))),y=V(v),g=v?function(m){var w=V(m*=v)/y,_=V(v-m)/y,d=_*u+w*h,S=_*c+w*p,b=_*s+w*f;return[te(S,d)*gt,te(b,Bt(d*d+S*S))*gt]}:function(){return[n*gt,r*gt]};return g.distance=v,g}var Na=t=>t,La=new Mt,Da=new Mt,Sf,kf,Ba,Fa,Ze={point:ht,lineStart:ht,lineEnd:ht,polygonStart:function(){Ze.lineStart=Rv,Ze.lineEnd=Ov},polygonEnd:function(){Ze.lineStart=Ze.lineEnd=Ze.point=ht,La.add(it(Da)),Da=new Mt},result:function(){var t=La/2;return La=new Mt,t}};function Rv(){Ze.point=Tv}function Tv(t,e){Ze.point=$f,Sf=Ba=t,kf=Fa=e}function $f(t,e){Da.add(Fa*t-Ba*e),Ba=t,Fa=e}function Ov(){$f(Sf,kf)}var Mf=Ze,In=1/0,Fi=In,wr=-In,qi=wr,Cv={point:zv,lineStart:ht,lineEnd:ht,polygonStart:ht,polygonEnd:ht,result:function(){var t=[[In,Fi],[wr,qi]];return wr=qi=-(Fi=In=1/0),t}};function zv(t,e){t<In&&(In=t),t>wr&&(wr=t),e<Fi&&(Fi=e),e>qi&&(qi=e)}var Vi=Cv,qa=0,Va=0,xr=0,Xi=0,Yi=0,Nn=0,Xa=0,Ya=0,_r=0,Af,Pf,_e,be,fe={point:fn,lineStart:Rf,lineEnd:Tf,polygonStart:function(){fe.lineStart=Lv,fe.lineEnd=Dv},polygonEnd:function(){fe.point=fn,fe.lineStart=Rf,fe.lineEnd=Tf},result:function(){var t=_r?[Xa/_r,Ya/_r]:Nn?[Xi/Nn,Yi/Nn]:xr?[qa/xr,Va/xr]:[NaN,NaN];return qa=Va=xr=Xi=Yi=Nn=Xa=Ya=_r=0,t}};function fn(t,e){qa+=t,Va+=e,++xr}function Rf(){fe.point=Iv}function Iv(t,e){fe.point=Nv,fn(_e=t,be=e)}function Nv(t,e){var n=t-_e,r=e-be,i=Bt(n*n+r*r);Xi+=i*(_e+t)/2,Yi+=i*(be+e)/2,Nn+=i,fn(_e=t,be=e)}function Tf(){fe.point=fn}function Lv(){fe.point=Bv}function Dv(){Of(Af,Pf)}function Bv(t,e){fe.point=Of,fn(Af=_e=t,Pf=be=e)}function Of(t,e){var n=t-_e,r=e-be,i=Bt(n*n+r*r);Xi+=i*(_e+t)/2,Yi+=i*(be+e)/2,Nn+=i,i=be*t-_e*e,Xa+=i*(_e+t),Ya+=i*(be+e),_r+=i*3,fn(_e=t,be=e)}var Cf=fe;function zf(t){this._context=t}zf.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,At);break}}},result:ht};var Ua=new Mt,Ha,If,Nf,br,Er,Ui={point:ht,lineStart:function(){Ui.point=Fv},lineEnd:function(){Ha&&Lf(If,Nf),Ui.point=ht},polygonStart:function(){Ha=!0},polygonEnd:function(){Ha=null},result:function(){var t=+Ua;return Ua=new Mt,t}};function Fv(t,e){Ui.point=Lf,If=br=t,Nf=Er=e}function Lf(t,e){br-=t,Er-=e,Ua.add(Bt(br*br+Er*Er)),br=t,Er=e}var Df=Ui;function Bf(){this._string=[]}Bf.prototype={_radius:4.5,_circle:Ff(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=Ff(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function Ff(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function X_(t,e){var n=4.5,r,i;function o(a){return a&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),Oe(a,r(i))),i.result()}return o.area=function(a){return Oe(a,r(Mf)),Mf.result()},o.measure=function(a){return Oe(a,r(Df)),Df.result()},o.bounds=function(a){return Oe(a,r(Vi)),Vi.result()},o.centroid=function(a){return Oe(a,r(Cf)),Cf.result()},o.projection=function(a){return arguments.length?(r=a==null?(t=null,Na):(t=a).stream,o):t},o.context=function(a){return arguments.length?(i=a==null?(e=null,new Bf):new zf(e=a),typeof n!="function"&&i.pointRadius(n),o):e},o.pointRadius=function(a){return arguments.length?(n=typeof a=="function"?a:(i.pointRadius(+a),+a),o):n},o.projection(t).context(e)}function Ga(t){return function(e){var n=new Wa;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Wa(){}Wa.prototype={constructor:Wa,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Za(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Oe(n,t.stream(Vi)),e(Vi.result()),r!=null&&t.clipExtent(r),t}function qf(t,e,n){return Za(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,l])},n)}function qv(t,e,n){return qf(t,[[0,0],e],n)}function Vv(t,e,n){return Za(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];t.scale(150*o).translate([a,s])},n)}function Xv(t,e,n){return Za(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,s])},n)}var Vf=16,Yv=U(30*W);function Xf(t,e){return+e?Hv(t,e):Uv(t)}function Uv(t){return Ga({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Hv(t,e){function n(r,i,o,a,s,l,f,u,c,h,p,v,y,g){var m=f-r,w=u-i,_=m*m+w*w;if(_>4*e&&y--){var d=a+h,S=s+p,b=l+v,A=Bt(d*d+S*S+b*b),M=Ut(b/=A),P=it(it(b)-1)<J||it(o-c)<J?(o+c)/2:te(S,d),R=t(P,M),$=R[0],D=R[1],C=$-r,E=D-i,x=w*C-m*E;(x*x/_>e||it((m*C+w*E)/_-.5)>.3||a*h+s*p+l*v<Yv)&&(n(r,i,o,a,s,l,$,D,P,d/=A,S/=A,b,y,g),g.point($,D),n($,D,P,d,S,b,f,u,c,h,p,v,y,g))}}return function(r){var i,o,a,s,l,f,u,c,h,p,v,y,g={point:m,lineStart:w,lineEnd:d,polygonStart:function(){r.polygonStart(),g.lineStart=S},polygonEnd:function(){r.polygonEnd(),g.lineStart=w}};function m(M,P){M=t(M,P),r.point(M[0],M[1])}function w(){c=NaN,g.point=_,r.lineStart()}function _(M,P){var R=un([M,P]),$=t(M,P);n(c,h,u,p,v,y,c=$[0],h=$[1],u=M,p=R[0],v=R[1],y=R[2],Vf,r),r.point(c,h)}function d(){g.point=m,r.lineEnd()}function S(){w(),g.point=b,g.lineEnd=A}function b(M,P){_(i=M,P),o=c,a=h,s=p,l=v,f=y,g.point=_}function A(){n(c,h,u,p,v,y,o,a,i,s,l,f,Vf,r),g.lineEnd=d,d()}return g}}var Gv=Ga({point:function(t,e){this.stream.point(t*W,e*W)}});function Wv(t){return Ga({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Zv(t,e,n,r,i){function o(a,s){return a*=r,s*=i,[e+t*a,n-t*s]}return o.invert=function(a,s){return[(a-e)/t*r,(n-s)/t*i]},o}function Yf(t,e,n,r,i,o){if(!o)return Zv(t,e,n,r,i);var a=U(o),s=V(o),l=a*t,f=s*t,u=a/t,c=s/t,h=(s*n-a*e)/t,p=(s*e+a*n)/t;function v(y,g){return y*=r,g*=i,[l*y-f*g+e,n-f*y-l*g]}return v.invert=function(y,g){return[r*(u*y-c*g+h),i*(p-c*y-u*g)]},v}function Qe(t){return Qv(function(){return t})()}function Qv(t){var e,n=150,r=480,i=250,o=0,a=0,s=0,l=0,f=0,u,c=0,h=1,p=1,v=null,y=df,g=null,m,w,_,d=Na,S=.5,b,A,M,P,R;function $(x){return M(x[0]*W,x[1]*W)}function D(x){return x=M.invert(x[0],x[1]),x&&[x[0]*gt,x[1]*gt]}$.stream=function(x){return P&&R===x?P:P=Gv(Wv(u)(y(b(d(R=x)))))},$.preclip=function(x){return arguments.length?(y=x,v=void 0,E()):y},$.postclip=function(x){return arguments.length?(d=x,g=m=w=_=null,E()):d},$.clipAngle=function(x){return arguments.length?(y=+x?yv(v=x*W):(v=null,df),E()):v*gt},$.clipExtent=function(x){return arguments.length?(d=x==null?(g=m=w=_=null,Na):xv(g=+x[0][0],m=+x[0][1],w=+x[1][0],_=+x[1][1]),E()):g==null?null:[[g,m],[w,_]]},$.scale=function(x){return arguments.length?(n=+x,C()):n},$.translate=function(x){return arguments.length?(r=+x[0],i=+x[1],C()):[r,i]},$.center=function(x){return arguments.length?(o=x[0]%360*W,a=x[1]%360*W,C()):[o*gt,a*gt]},$.rotate=function(x){return arguments.length?(s=x[0]%360*W,l=x[1]%360*W,f=x.length>2?x[2]%360*W:0,C()):[s*gt,l*gt,f*gt]},$.angle=function(x){return arguments.length?(c=x%360*W,C()):c*gt},$.reflectX=function(x){return arguments.length?(h=x?-1:1,C()):h<0},$.reflectY=function(x){return arguments.length?(p=x?-1:1,C()):p<0},$.precision=function(x){return arguments.length?(b=Xf(A,S=x*x),E()):Bt(S)},$.fitExtent=function(x,k){return qf($,x,k)},$.fitSize=function(x,k){return qv($,x,k)},$.fitWidth=function(x,k){return Vv($,x,k)},$.fitHeight=function(x,k){return Xv($,x,k)};function C(){var x=Yf(n,0,0,h,p,c).apply(null,e(o,a)),k=Yf(n,r-x[0],i-x[1],h,p,c);return u=rf(s,l,f),A=Pa(e,k),M=Pa(u,A),b=Xf(A,S),E()}function E(){return P=R=null,$}return function(){return e=t.apply(this,arguments),$.invert=e.invert&&D,C()}}function Kv(t){return function(e,n){var r=U(e),i=U(n),o=t(r*i);return o===1/0?[2,0]:[o*i*V(e),o*V(n)]}}function Qa(t){return function(e,n){var r=Bt(e*e+n*n),i=t(r),o=V(i),a=U(i);return[te(e*o,r*a),Ut(r&&n*o/r)]}}var Uf=Kv(function(t){return Bt(2/(1+t))});Uf.invert=Qa(function(t){return 2*Ut(t/2)});function Y_(){return Qe(Uf).scale(124.75).clipAngle(180-.001)}function Ka(t,e){return[t,Zg(Kg((Dt+e)/2))]}Ka.invert=function(t,e){return[t,2*ma(Wg(e))-Dt]};function U_(){return Jv(Ka).scale(961/At)}function Jv(t){var e=Qe(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,a=null,s,l,f;e.scale=function(c){return arguments.length?(r(c),u()):r()},e.translate=function(c){return arguments.length?(i(c),u()):i()},e.center=function(c){return arguments.length?(n(c),u()):n()},e.clipExtent=function(c){return arguments.length?(c==null?a=s=l=f=null:(a=+c[0][0],s=+c[0][1],l=+c[1][0],f=+c[1][1]),u()):a==null?null:[[a,s],[l,f]]};function u(){var c=tt*r(),h=e(cv(e.rotate()).invert([0,0]));return o(a==null?[[h[0]-c,h[1]-c],[h[0]+c,h[1]+c]]:t===Ka?[[Math.max(h[0]-c,a),s],[Math.min(h[0]+c,l),f]]:[[a,Math.max(h[1]-c,s)],[l,Math.min(h[1]+c,f)]])}return u()}function Ja(t,e){return[t,e]}Ja.invert=Ja;function H_(){return Qe(Ja).scale(152.63)}var Sr=1.340264,kr=-.081106,$r=893e-6,Mr=.003796,Hi=Bt(3)/2,jv=12;function Hf(t,e){var n=Ut(Hi*V(e)),r=n*n,i=r*r*r;return[t*U(n)/(Hi*(Sr+3*kr*r+i*(7*$r+9*Mr*r))),n*(Sr+kr*r+i*($r+Mr*r))]}Hf.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,o=0,a,s,l;o<jv&&(s=n*(Sr+kr*r+i*($r+Mr*r))-e,l=Sr+3*kr*r+i*(7*$r+9*Mr*r),n-=a=s/l,r=n*n,i=r*r*r,!(it(a)<dr));++o);return[Hi*t*(Sr+3*kr*r+i*(7*$r+9*Mr*r))/U(n),Ut(V(n)/Hi)]};function G_(){return Qe(Hf).scale(177.158)}function ja(t,e){var n=U(e),r=U(t)*n;return[n*V(t)/r,V(e)/r]}ja.invert=Qa(ma);function Gf(){return Qe(ja).scale(144.049).clipAngle(60)}function Wf(t,e){return[U(e)*V(t),V(e)]}Wf.invert=Qa(Ut);function W_(){return Qe(Wf).scale(249.5).clipAngle(90+J)}function t1(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function e1(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class n1{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=e+o,s=Math.abs(e)<Math.abs(o)?e-(a-o):o-(a-e);s&&(n[r++]=s),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}var ts=Math.sqrt(50),es=Math.sqrt(10),ns=Math.sqrt(2);function r1(t,e,n){var r,i=-1,o,a,s;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(s=i1(t,e,n))===0||!isFinite(s))return[];if(s>0){let l=Math.round(t/s),f=Math.round(e/s);for(l*s<t&&++l,f*s>e&&--f,a=new Array(o=f-l+1);++i<o;)a[i]=(l+i)*s}else{s=-s;let l=Math.round(t*s),f=Math.round(e*s);for(l/s<t&&++l,f/s>e&&--f,a=new Array(o=f-l+1);++i<o;)a[i]=(l+i)/s}return r&&a.reverse(),a}function i1(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=ts?10:o>=es?5:o>=ns?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=ts?10:o>=es?5:o>=ns?2:1)}function o1(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=ts?i*=10:o>=es?i*=5:o>=ns&&(i*=2),e<t?-i:i}function a1(t){return Math.ceil(Math.log(t1(t))/Math.LN2)+1}function*s1(t){for(const e of t)yield*e}function rs(t){return Array.from(s1(t))}function Z_(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}var st=1e-6,u1=1e-12,et=Math.PI,ee=et/2,Zf=et/4,ce=et*2,Ne=180/et,Wt=et/180,mt=Math.abs,l1=Math.atan,Ln=Math.atan2,ft=Math.cos,ct=Math.sin,f1=Math.sign||function(t){return t>0?1:t<0?-1:0},Dn=Math.sqrt;function c1(t){return t>1?0:t<-1?et:Math.acos(t)}function cn(t){return t>1?ee:t<-1?-ee:Math.asin(t)}function Ar(){}function Gi(t,e){t&&Kf.hasOwnProperty(t.type)&&Kf[t.type](t,e)}var Qf={Feature:function(t,e){Gi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Gi(n[r].geometry,e)}},Kf={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){is(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)is(n[r],e,0)},Polygon:function(t,e){Jf(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Jf(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Gi(n[r],e)}};function is(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function Jf(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)is(t[n],e,1);e.polygonEnd()}function jf(t,e){t&&Qf.hasOwnProperty(t.type)?Qf[t.type](t,e):Gi(t,e)}function os(t){return[Ln(t[1],t[0]),cn(t[2])]}function Bn(t){var e=t[0],n=t[1],r=ft(n);return[r*ft(e),r*ct(e),ct(n)]}function Wi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Zi(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function as(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Qi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ss(t){var e=Dn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function us(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function ls(t,e){return[mt(t)>et?t+Math.round(-t/ce)*ce:t,e]}ls.invert=ls;function h1(t,e,n){return(t%=ce)?e||n?us(ec(t),nc(e,n)):ec(t):e||n?nc(e,n):ls}function tc(t){return function(e,n){return e+=t,[e>et?e-ce:e<-et?e+ce:e,n]}}function ec(t){var e=tc(t);return e.invert=tc(-t),e}function nc(t,e){var n=ft(t),r=ct(t),i=ft(e),o=ct(e);function a(s,l){var f=ft(l),u=ft(s)*f,c=ct(s)*f,h=ct(l),p=h*n+u*r;return[Ln(c*i-p*o,u*n-h*r),cn(p*i+c*o)]}return a.invert=function(s,l){var f=ft(l),u=ft(s)*f,c=ct(s)*f,h=ct(l),p=h*i-c*o;return[Ln(c*i+h*o,u*n+p*r),cn(p*n-u*r)]},a}function p1(t,e,n,r,i,o){if(!!n){var a=ft(e),s=ct(e),l=r*n;i==null?(i=e+r*ce,o=e-l/2):(i=rc(a,i),o=rc(a,o),(r>0?i<o:i>o)&&(i+=r*ce));for(var f,u=i;r>0?u>o:u<o;u-=l)f=os([a,-s*ft(u),-s*ct(u)]),t.point(f[0],f[1])}}function rc(t,e){e=Bn(e),e[0]-=t,ss(e);var n=c1(-e[1]);return((-e[2]<0?-n:n)+ce-st)%ce}function ic(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Ar,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Ki(t,e){return mt(t[0]-e[0])<st&&mt(t[1]-e[1])<st}function Ji(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function oc(t,e,n,r,i){var o=[],a=[],s,l;if(t.forEach(function(v){if(!((y=v.length-1)<=0)){var y,g=v[0],m=v[y],w;if(Ki(g,m)){if(!g[2]&&!m[2]){for(i.lineStart(),s=0;s<y;++s)i.point((g=v[s])[0],g[1]);i.lineEnd();return}m[0]+=2*st}o.push(w=new Ji(g,v,null,!0)),a.push(w.o=new Ji(g,null,w,!1)),o.push(w=new Ji(m,v,null,!1)),a.push(w.o=new Ji(m,null,w,!0))}}),!!o.length){for(a.sort(e),ac(o),ac(a),s=0,l=a.length;s<l;++s)a[s].e=n=!n;for(var f=o[0],u,c;;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(s=0,l=u.length;s<l;++s)i.point((c=u[s])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,s=u.length-1;s>=0;--s)i.point((c=u[s])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function ac(t){if(!!(e=t.length)){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function fs(t){return mt(t[0])<=et?t[0]:f1(t[0])*((mt(t[0])+et)%ce-et)}function d1(t,e){var n=fs(e),r=e[1],i=ct(r),o=[ct(n),-ft(n),0],a=0,s=0,l=new n1;i===1?r=ee+st:i===-1&&(r=-ee-st);for(var f=0,u=t.length;f<u;++f)if(!!(h=(c=t[f]).length))for(var c,h,p=c[h-1],v=fs(p),y=p[1]/2+Zf,g=ct(y),m=ft(y),w=0;w<h;++w,v=d,g=b,m=A,p=_){var _=c[w],d=fs(_),S=_[1]/2+Zf,b=ct(S),A=ft(S),M=d-v,P=M>=0?1:-1,R=P*M,$=R>et,D=g*b;if(l.add(Ln(D*P*ct(R),m*A+D*ft(R))),a+=$?M+P*ce:M,$^v>=n^d>=n){var C=Zi(Bn(p),Bn(_));ss(C);var E=Zi(o,C);ss(E);var x=($^M>=0?-1:1)*cn(E[2]);(r>x||r===x&&(C[0]||C[1]))&&(s+=$^M>=0?1:-1)}}return(a<-st||a<st&&l<-u1)^s&1}function sc(t,e,n,r){return function(i){var o=e(i),a=ic(),s=e(a),l=!1,f,u,c,h={point:p,lineStart:y,lineEnd:g,polygonStart:function(){h.point=m,h.lineStart=w,h.lineEnd=_,u=[],f=[]},polygonEnd:function(){h.point=p,h.lineStart=y,h.lineEnd=g,u=rs(u);var d=d1(f,r);u.length?(l||(i.polygonStart(),l=!0),oc(u,v1,d,n,i)):d&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(d,S){t(d,S)&&i.point(d,S)}function v(d,S){o.point(d,S)}function y(){h.point=v,o.lineStart()}function g(){h.point=p,o.lineEnd()}function m(d,S){c.push([d,S]),s.point(d,S)}function w(){s.lineStart(),c=[]}function _(){m(c[0][0],c[0][1]),s.lineEnd();var d=s.clean(),S=a.result(),b,A=S.length,M,P,R;if(c.pop(),f.push(c),c=null,!!A){if(d&1){if(P=S[0],(M=P.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),b=0;b<M;++b)i.point((R=P[b])[0],R[1]);i.lineEnd()}return}A>1&&d&2&&S.push(S.pop().concat(S.shift())),u.push(S.filter(g1))}}return h}}function g1(t){return t.length>1}function v1(t,e){return((t=t.x)[0]<0?t[1]-ee-st:ee-t[1])-((e=e.x)[0]<0?e[1]-ee-st:ee-e[1])}var uc=sc(function(){return!0},m1,w1,[-et,-ee]);function m1(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var s=o>0?et:-et,l=mt(o-e);mt(l-et)<st?(t.point(e,n=(n+a)/2>0?ee:-ee),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(o,n),i=0):r!==s&&l>=et&&(mt(e-r)<st&&(e-=r*st),mt(o-s)<st&&(o-=s*st),n=y1(e,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=o,n=a),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function y1(t,e,n,r){var i,o,a=ct(t-n);return mt(a)>st?l1((ct(e)*(o=ft(r))*ct(n)-ct(r)*(i=ft(e))*ct(t))/(i*o*a)):(e+r)/2}function w1(t,e,n,r){var i;if(t==null)i=n*ee,r.point(-et,i),r.point(0,i),r.point(et,i),r.point(et,0),r.point(et,-i),r.point(0,-i),r.point(-et,-i),r.point(-et,0),r.point(-et,i);else if(mt(t[0]-e[0])>st){var o=t[0]<e[0]?et:-et;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function x1(t){var e=ft(t),n=6*Wt,r=e>0,i=mt(e)>st;function o(u,c,h,p){p1(p,t,n,h,u,c)}function a(u,c){return ft(u)*ft(c)>e}function s(u){var c,h,p,v,y;return{lineStart:function(){v=p=!1,y=1},point:function(g,m){var w=[g,m],_,d=a(g,m),S=r?d?0:f(g,m):d?f(g+(g<0?et:-et),m):0;if(!c&&(v=p=d)&&u.lineStart(),d!==p&&(_=l(c,w),(!_||Ki(c,_)||Ki(w,_))&&(w[2]=1)),d!==p)y=0,d?(u.lineStart(),_=l(w,c),u.point(_[0],_[1])):(_=l(c,w),u.point(_[0],_[1],2),u.lineEnd()),c=_;else if(i&&c&&r^d){var b;!(S&h)&&(b=l(w,c,!0))&&(y=0,r?(u.lineStart(),u.point(b[0][0],b[0][1]),u.point(b[1][0],b[1][1]),u.lineEnd()):(u.point(b[1][0],b[1][1]),u.lineEnd(),u.lineStart(),u.point(b[0][0],b[0][1],3)))}d&&(!c||!Ki(c,w))&&u.point(w[0],w[1]),c=w,p=d,h=S},lineEnd:function(){p&&u.lineEnd(),c=null},clean:function(){return y|(v&&p)<<1}}}function l(u,c,h){var p=Bn(u),v=Bn(c),y=[1,0,0],g=Zi(p,v),m=Wi(g,g),w=g[0],_=m-w*w;if(!_)return!h&&u;var d=e*m/_,S=-e*w/_,b=Zi(y,g),A=Qi(y,d),M=Qi(g,S);as(A,M);var P=b,R=Wi(A,P),$=Wi(P,P),D=R*R-$*(Wi(A,A)-1);if(!(D<0)){var C=Dn(D),E=Qi(P,(-R-C)/$);if(as(E,A),E=os(E),!h)return E;var x=u[0],k=c[0],T=u[1],z=c[1],I;k<x&&(I=x,x=k,k=I);var L=k-x,N=mt(L-et)<st,B=N||L<st;if(!N&&z<T&&(I=T,T=z,z=I),B?N?T+z>0^E[1]<(mt(E[0]-x)<st?T:z):T<=E[1]&&E[1]<=z:L>et^(x<=E[0]&&E[0]<=k)){var Y=Qi(P,(-R+C)/$);return as(Y,A),[E,os(Y)]}}}function f(u,c){var h=r?t:et-t,p=0;return u<-h?p|=1:u>h&&(p|=2),c<-h?p|=4:c>h&&(p|=8),p}return sc(a,s,o,r?[0,-t]:[-et,t-et])}function _1(t,e,n,r,i,o){var a=t[0],s=t[1],l=e[0],f=e[1],u=0,c=1,h=l-a,p=f-s,v;if(v=n-a,!(!h&&v>0)){if(v/=h,h<0){if(v<u)return;v<c&&(c=v)}else if(h>0){if(v>c)return;v>u&&(u=v)}if(v=i-a,!(!h&&v<0)){if(v/=h,h<0){if(v>c)return;v>u&&(u=v)}else if(h>0){if(v<u)return;v<c&&(c=v)}if(v=r-s,!(!p&&v>0)){if(v/=p,p<0){if(v<u)return;v<c&&(c=v)}else if(p>0){if(v>c)return;v>u&&(u=v)}if(v=o-s,!(!p&&v<0)){if(v/=p,p<0){if(v>c)return;v>u&&(u=v)}else if(p>0){if(v<u)return;v<c&&(c=v)}return u>0&&(t[0]=a+u*h,t[1]=s+u*p),c<1&&(e[0]=a+c*h,e[1]=s+c*p),!0}}}}}var Pr=1e9,ji=-Pr;function b1(t,e,n,r){function i(f,u){return t<=f&&f<=n&&e<=u&&u<=r}function o(f,u,c,h){var p=0,v=0;if(f==null||(p=a(f,c))!==(v=a(u,c))||l(f,u)<0^c>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+c+4)%4)!==v);else h.point(u[0],u[1])}function a(f,u){return mt(f[0]-t)<st?u>0?0:3:mt(f[0]-n)<st?u>0?2:1:mt(f[1]-e)<st?u>0?1:0:u>0?3:2}function s(f,u){return l(f.x,u.x)}function l(f,u){var c=a(f,1),h=a(u,1);return c!==h?c-h:c===0?u[1]-f[1]:c===1?f[0]-u[0]:c===2?f[1]-u[1]:u[0]-f[0]}return function(f){var u=f,c=ic(),h,p,v,y,g,m,w,_,d,S,b,A={point:M,lineStart:D,lineEnd:C,polygonStart:R,polygonEnd:$};function M(x,k){i(x,k)&&u.point(x,k)}function P(){for(var x=0,k=0,T=p.length;k<T;++k)for(var z=p[k],I=1,L=z.length,N=z[0],B,Y,Q=N[0],Z=N[1];I<L;++I)B=Q,Y=Z,N=z[I],Q=N[0],Z=N[1],Y<=r?Z>r&&(Q-B)*(r-Y)>(Z-Y)*(t-B)&&++x:Z<=r&&(Q-B)*(r-Y)<(Z-Y)*(t-B)&&--x;return x}function R(){u=c,h=[],p=[],b=!0}function $(){var x=P(),k=b&&x,T=(h=rs(h)).length;(k||T)&&(f.polygonStart(),k&&(f.lineStart(),o(null,null,1,f),f.lineEnd()),T&&oc(h,s,x,o,f),f.polygonEnd()),u=f,h=p=v=null}function D(){A.point=E,p&&p.push(v=[]),S=!0,d=!1,w=_=NaN}function C(){h&&(E(y,g),m&&d&&c.rejoin(),h.push(c.result())),A.point=M,d&&u.lineEnd()}function E(x,k){var T=i(x,k);if(p&&v.push([x,k]),S)y=x,g=k,m=T,S=!1,T&&(u.lineStart(),u.point(x,k));else if(T&&d)u.point(x,k);else{var z=[w=Math.max(ji,Math.min(Pr,w)),_=Math.max(ji,Math.min(Pr,_))],I=[x=Math.max(ji,Math.min(Pr,x)),k=Math.max(ji,Math.min(Pr,k))];_1(z,I,t,e,n,r)?(d||(u.lineStart(),u.point(z[0],z[1])),u.point(I[0],I[1]),T||u.lineEnd(),b=!1):T&&(u.lineStart(),u.point(x,k),b=!1)}w=x,_=k,d=T}return A}}var lc=t=>t,Fn=1/0,to=Fn,Rr=-Fn,eo=Rr,E1={point:S1,lineStart:Ar,lineEnd:Ar,polygonStart:Ar,polygonEnd:Ar,result:function(){var t=[[Fn,to],[Rr,eo]];return Rr=eo=-(to=Fn=1/0),t}};function S1(t,e){t<Fn&&(Fn=t),t>Rr&&(Rr=t),e<to&&(to=e),e>eo&&(eo=e)}var fc=E1;function cs(t){return function(e){var n=new hs;for(var r in t)n[r]=t[r];return n.stream=e,n}}function hs(){}hs.prototype={constructor:hs,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ps(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),jf(n,t.stream(fc)),e(fc.result()),r!=null&&t.clipExtent(r),t}function cc(t,e,n){return ps(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,l])},n)}function k1(t,e,n){return cc(t,[[0,0],e],n)}function $1(t,e,n){return ps(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];t.scale(150*o).translate([a,s])},n)}function M1(t,e,n){return ps(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,s])},n)}var hc=16,A1=ft(30*Wt);function pc(t,e){return+e?R1(t,e):P1(t)}function P1(t){return cs({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function R1(t,e){function n(r,i,o,a,s,l,f,u,c,h,p,v,y,g){var m=f-r,w=u-i,_=m*m+w*w;if(_>4*e&&y--){var d=a+h,S=s+p,b=l+v,A=Dn(d*d+S*S+b*b),M=cn(b/=A),P=mt(mt(b)-1)<st||mt(o-c)<st?(o+c)/2:Ln(S,d),R=t(P,M),$=R[0],D=R[1],C=$-r,E=D-i,x=w*C-m*E;(x*x/_>e||mt((m*C+w*E)/_-.5)>.3||a*h+s*p+l*v<A1)&&(n(r,i,o,a,s,l,$,D,P,d/=A,S/=A,b,y,g),g.point($,D),n($,D,P,d,S,b,f,u,c,h,p,v,y,g))}}return function(r){var i,o,a,s,l,f,u,c,h,p,v,y,g={point:m,lineStart:w,lineEnd:d,polygonStart:function(){r.polygonStart(),g.lineStart=S},polygonEnd:function(){r.polygonEnd(),g.lineStart=w}};function m(M,P){M=t(M,P),r.point(M[0],M[1])}function w(){c=NaN,g.point=_,r.lineStart()}function _(M,P){var R=Bn([M,P]),$=t(M,P);n(c,h,u,p,v,y,c=$[0],h=$[1],u=M,p=R[0],v=R[1],y=R[2],hc,r),r.point(c,h)}function d(){g.point=m,r.lineEnd()}function S(){w(),g.point=b,g.lineEnd=A}function b(M,P){_(i=M,P),o=c,a=h,s=p,l=v,f=y,g.point=_}function A(){n(c,h,u,p,v,y,o,a,i,s,l,f,hc,r),g.lineEnd=d,d()}return g}}var T1=cs({point:function(t,e){this.stream.point(t*Wt,e*Wt)}});function O1(t){return cs({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function C1(t,e,n,r,i){function o(a,s){return a*=r,s*=i,[e+t*a,n-t*s]}return o.invert=function(a,s){return[(a-e)/t*r,(n-s)/t*i]},o}function dc(t,e,n,r,i,o){if(!o)return C1(t,e,n,r,i);var a=ft(o),s=ct(o),l=a*t,f=s*t,u=a/t,c=s/t,h=(s*n-a*e)/t,p=(s*e+a*n)/t;function v(y,g){return y*=r,g*=i,[l*y-f*g+e,n-f*y-l*g]}return v.invert=function(y,g){return[r*(u*y-c*g+h),i*(p-c*y-u*g)]},v}function no(t){return ro(function(){return t})()}function ro(t){var e,n=150,r=480,i=250,o=0,a=0,s=0,l=0,f=0,u,c=0,h=1,p=1,v=null,y=uc,g=null,m,w,_,d=lc,S=.5,b,A,M,P,R;function $(x){return M(x[0]*Wt,x[1]*Wt)}function D(x){return x=M.invert(x[0],x[1]),x&&[x[0]*Ne,x[1]*Ne]}$.stream=function(x){return P&&R===x?P:P=T1(O1(u)(y(b(d(R=x)))))},$.preclip=function(x){return arguments.length?(y=x,v=void 0,E()):y},$.postclip=function(x){return arguments.length?(d=x,g=m=w=_=null,E()):d},$.clipAngle=function(x){return arguments.length?(y=+x?x1(v=x*Wt):(v=null,uc),E()):v*Ne},$.clipExtent=function(x){return arguments.length?(d=x==null?(g=m=w=_=null,lc):b1(g=+x[0][0],m=+x[0][1],w=+x[1][0],_=+x[1][1]),E()):g==null?null:[[g,m],[w,_]]},$.scale=function(x){return arguments.length?(n=+x,C()):n},$.translate=function(x){return arguments.length?(r=+x[0],i=+x[1],C()):[r,i]},$.center=function(x){return arguments.length?(o=x[0]%360*Wt,a=x[1]%360*Wt,C()):[o*Ne,a*Ne]},$.rotate=function(x){return arguments.length?(s=x[0]%360*Wt,l=x[1]%360*Wt,f=x.length>2?x[2]%360*Wt:0,C()):[s*Ne,l*Ne,f*Ne]},$.angle=function(x){return arguments.length?(c=x%360*Wt,C()):c*Ne},$.reflectX=function(x){return arguments.length?(h=x?-1:1,C()):h<0},$.reflectY=function(x){return arguments.length?(p=x?-1:1,C()):p<0},$.precision=function(x){return arguments.length?(b=pc(A,S=x*x),E()):Dn(S)},$.fitExtent=function(x,k){return cc($,x,k)},$.fitSize=function(x,k){return k1($,x,k)},$.fitWidth=function(x,k){return $1($,x,k)},$.fitHeight=function(x,k){return M1($,x,k)};function C(){var x=dc(n,0,0,h,p,c).apply(null,e(o,a)),k=dc(n,r-x[0],i-x[1],h,p,c);return u=h1(s,l,f),A=us(e,k),M=us(u,A),b=pc(A,S),E()}function E(){return P=R=null,$}return function(){return e=t.apply(this,arguments),$.invert=e.invert&&D,C()}}function z1(t){return function(e,n){var r=ft(e),i=ft(n),o=t(r*i);return o===1/0?[2,0]:[o*i*ct(e),o*ct(n)]}}function I1(t){return function(e,n){var r=Dn(e*e+n*n),i=t(r),o=ct(i),a=ft(i);return[Ln(e*o,r*a),cn(r&&n*o/r)]}}var io=z1(function(t){return Dn(2/(1+t))});io.invert=I1(function(t){return 2*cn(t/2)});var ne=Math.abs,Tr=Math.atan2,dt=Math.cos,Ot=Math.sin,oo=Math.tan,yt=1e-6,gc=1e-12,qn=Math.PI,ds=qn/2,vc=Or(2),he=180/qn,pe=qn/180;function ao(t){return t>1?ds:t<-1?-ds:Math.asin(t)}function N1(t){return t>1?0:t<-1?qn:Math.acos(t)}function Or(t){return t>0?Math.sqrt(t):0}function L1(t){var e=Ot(t),n=dt(t),r=t>=0?1:-1,i=oo(r*t),o=(1+e-n)/2;function a(s,l){var f=dt(l),u=dt(s/=2);return[(1+f)*Ot(s),(r*l>-Tr(u,i)-.001?0:-r*10)+o+Ot(l)*n-(1+f)*e*u]}return a.invert=function(s,l){var f=0,u=0,c=50;do{var h=dt(f),p=Ot(f),v=dt(u),y=Ot(u),g=1+v,m=g*p-s,w=o+y*n-g*e*h-l,_=g*h/2,d=-p*y,S=e*g*p/2,b=n*v+e*h*y,A=d*S-b*_,M=(w*d-m*b)/A/2,P=(m*S-w*_)/A;ne(P)>2&&(P/=2),f-=M,u-=P}while((ne(M)>yt||ne(P)>yt)&&--c>0);return r*u>-Tr(dt(f),i)-.001?[f*2,u]:null},a}function Q_(){var t=20*pe,e=t>=0?1:-1,n=oo(e*t),r=ro(L1),i=r(t),o=i.stream;return i.parallel=function(a){return arguments.length?(n=oo((e=(t=a*pe)>=0?1:-1)*t),r(t)):t*he},i.stream=function(a){var s=i.rotate(),l=o(a),f=(i.rotate([0,0]),o(a)),u=i.precision();return i.rotate(s),l.sphere=function(){f.polygonStart(),f.lineStart();for(var c=e*-180;e*c<180;c+=e*90)f.point(c,e*90);if(t)for(;e*(c-=3*e*u)>=-180;)f.point(c,e*-Tr(dt(c*pe/2),n)*he);f.lineEnd(),f.polygonEnd()},l},i.scale(218.695).center([0,28.0974])}function D1(t,e){if(arguments.length<2&&(e=t),e===1)return io;if(e===1/0)return mc;function n(r,i){var o=io(r/e,i);return o[0]*=t,o}return n.invert=function(r,i){var o=io.invert(r/t,i);return o[0]*=e,o},n}function mc(t,e){return[t*dt(e)/dt(e/=2),2*Ot(e)]}mc.invert=function(t,e){var n=2*ao(e/2);return[t*dt(n/2)/dt(n),n]};function B1(t,e,n){return e===void 0&&(e=40),n===void 0&&(n=gc),function(r,i,o,a){var s,l,f;o=o===void 0?0:+o,a=a===void 0?0:+a;for(var u=0;u<e;u++){var c=t(o,a),h=c[0]-r,p=c[1]-i;if(ne(h)<n&&ne(p)<n)break;var v=h*h+p*p;if(v>s){o-=l/=2,a-=f/=2;continue}s=v;var y=(o>0?-1:1)*n,g=(a>0?-1:1)*n,m=t(o+y,a),w=t(o,a+g),_=(m[0]-c[0])/y,d=(m[1]-c[1])/y,S=(w[0]-c[0])/g,b=(w[1]-c[1])/g,A=b*_-d*S,M=(ne(A)<.5?.5:1)/A;if(l=(p*S-h*b)*M,f=(h*d-p*_)*M,o+=l,a+=f,ne(l)<n&&ne(f)<n)break}return[o,a]}}function F1(){var t=D1(1.68,2),e=1.4,n=12;function r(i,o){if(i+o<-e){var a=(i-o+1.6)*(i+o+e)/8;i+=a,o-=.8*a*Ot(o+qn/2)}var s=t(i,o),l=(1-dt(i*o))/n;return s[1]<0&&(s[0]*=1+l),s[1]>0&&(s[1]*=1+l/1.5*s[0]*s[0]),s}return r.invert=B1(r),r}function K_(){return no(F1()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function q1(t,e){var n=t*Ot(e),r=30,i;do e-=i=(e+Ot(e)-n)/(1+dt(e));while(ne(i)>yt&&--r>0);return e/2}function V1(t,e,n){function r(i,o){return[t*i*dt(o=q1(n,o)),e*Ot(o)]}return r.invert=function(i,o){return o=ao(o/e),[i/(t*dt(o)),ao((2*o+Ot(2*o))/n)]},r}var gs=V1(vc/ds,vc,qn);function J_(){return no(gs).scale(169.529)}function X1(t){var e=0,n=ro(t),r=n(e);return r.parallel=function(i){return arguments.length?n(e=i*pe):e*he},r}function yc(t,e){return[t*dt(e),e]}yc.invert=function(t,e){return[t/dt(e),e]};function Y1(t){if(!t)return yc;var e=1/oo(t);function n(r,i){var o=e+t-i,a=o&&r*dt(i)/o;return[o*Ot(a),e-o*dt(a)]}return n.invert=function(r,i){var o=Or(r*r+(i=e-i)*i),a=e+t-o;return[o/dt(a)*Tr(r,i),a]},n}function j_(){return X1(Y1).scale(123.082).center([0,26.1441]).parallel(45)}function U1(t,e){return ne(t[0]-e[0])<yt&&ne(t[1]-e[1])<yt}function wc(t,e){for(var n=-1,r=t.length,i=t[0],o,a,s,l=[];++n<r;){o=t[n],a=(o[0]-i[0])/e,s=(o[1]-i[1])/e;for(var f=0;f<e;++f)l.push([i[0]+f*a,i[1]+f*s]);i=o}return l.push(o),l}function H1(t){var e=[],n,r,i,o,a,s,l,f=t[0].length;for(l=0;l<f;++l)n=t[0][l],r=n[0][0],i=n[0][1],o=n[1][1],a=n[2][0],s=n[2][1],e.push(wc([[r+yt,i+yt],[r+yt,o-yt],[a-yt,o-yt],[a-yt,s+yt]],30));for(l=t[1].length-1;l>=0;--l)n=t[1][l],r=n[0][0],i=n[0][1],o=n[1][1],a=n[2][0],s=n[2][1],e.push(wc([[a-yt,s-yt],[a-yt,o+yt],[r+yt,o+yt],[r+yt,i-yt]],30));return{type:"Polygon",coordinates:[rs(e)]}}function xc(t,e,n){var r,i;function o(l,f){for(var u=f<0?-1:1,c=e[+(f<0)],h=0,p=c.length-1;h<p&&l>c[h][2][0];++h);var v=t(l-c[h][1][0],f);return v[0]+=t(c[h][1][0],u*f>u*c[h][0][1]?c[h][0][1]:f)[0],v}n?o.invert=n(o):t.invert&&(o.invert=function(l,f){for(var u=i[+(f<0)],c=e[+(f<0)],h=0,p=u.length;h<p;++h){var v=u[h];if(v[0][0]<=l&&l<v[1][0]&&v[0][1]<=f&&f<v[1][1]){var y=t.invert(l-t(c[h][1][0],0)[0],f);return y[0]+=c[h][1][0],U1(o(y[0],y[1]),[l,f])?y:null}}});var a=no(o),s=a.stream;return a.stream=function(l){var f=a.rotate(),u=s(l),c=(a.rotate([0,0]),s(l));return a.rotate(f),u.sphere=function(){jf(r,c)},u},a.lobes=function(l){return arguments.length?(r=H1(l),e=l.map(function(f){return f.map(function(u){return[[u[0][0]*pe,u[0][1]*pe],[u[1][0]*pe,u[1][1]*pe],[u[2][0]*pe,u[2][1]*pe]]})}),i=e.map(function(f){return f.map(function(u){var c=t(u[0][0],u[0][1])[0],h=t(u[2][0],u[2][1])[0],p=t(u[1][0],u[0][1])[1],v=t(u[1][0],u[1][1])[1],y;return p>v&&(y=p,p=v,v=y),[[c,p],[h,v]]})}),a):e.map(function(f){return f.map(function(u){return[[u[0][0]*he,u[0][1]*he],[u[1][0]*he,u[1][1]*he],[u[2][0]*he,u[2][1]*he]]})})},e!=null&&a.lobes(e),a}var G1=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function tb(){return xc(gs,G1).scale(169.529)}var W1=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function eb(){return xc(gs,W1).scale(169.529).rotate([20,0])}function _c(t,e){var n=e*e,r=n*n,i=n*r;return[t*(.84719-.13063*n+i*i*(-.04515+.05494*n-.02326*r+.00331*i)),e*(1.01183+r*r*(-.02625+.01926*n-.00396*r))]}_c.invert=function(t,e){var n=e,r=25,i,o,a,s;do o=n*n,a=o*o,n-=i=(n*(1.01183+a*a*(-.02625+.01926*o-.00396*a))-e)/(1.01183+a*a*(9*-.02625+11*.01926*o+13*-.00396*a));while(ne(i)>gc&&--r>0);return o=n*n,a=o*o,s=o*a,[t/(.84719-.13063*o+s*s*(-.04515+.05494*o-.02326*a+.00331*s)),n]};function nb(){return no(_c).scale(175.295)}function Z1(t){function e(n,r){var i=dt(r),o=(t-1)/(t-i*dt(n));return[o*i*Ot(n),o*Ot(r)]}return e.invert=function(n,r){var i=n*n+r*r,o=Or(i),a=(t-Or(1-i*(t+1)/(t-1)))/((t-1)/o+o/(t-1));return[Tr(n*a,o*Or(1-a*a)),o?ao(r*a/o):0]},e}function Q1(t,e){var n=Z1(t);if(!e)return n;var r=dt(e),i=Ot(e);function o(a,s){var l=n(a,s),f=l[1],u=f*i/(t-1)+r;return[l[0]*r/u,f/u]}return o.invert=function(a,s){var l=(t-1)/(t-1-s*i);return n.invert(l*a,l*s*r)},o}function rb(){var t=2,e=0,n=ro(Q1),r=n(t,e);return r.distance=function(i){return arguments.length?n(t=+i,e):t},r.tilt=function(i){return arguments.length?n(t,e=i*pe):e*he},r.scale(432.147).clipAngle(N1(1/t)*he-1e-6)}var so=1e-4,bc=1e4,vs=-180,ms=vs+so,Ec=180,ys=Ec-so,ws=-90,xs=ws+so,_s=90,bs=_s-so;function K1(t){return t.length>0}function J1(t){return Math.floor(t*bc)/bc}function Sc(t){return t===ws||t===_s?[0,t]:[vs,J1(t)]}function Es(t){var e=t[0],n=t[1],r=!1;return e<=ms?(e=vs,r=!0):e>=ys&&(e=Ec,r=!0),n<=xs?(n=ws,r=!0):n>=bs&&(n=_s,r=!0),r?[e,n]:t}function kc(t){return t.map(Es)}function $c(t,e,n){for(var r=0,i=t.length;r<i;++r){var o=t[r].slice();n.push({index:-1,polygon:e,ring:o});for(var a=0,s=o.length;a<s;++a){var l=o[a],f=l[0],u=l[1];if(f<=ms||f>=ys||u<=xs||u>=bs){o[a]=Es(l);for(var c=a+1;c<s;++c){var h=o[c],p=h[0],v=h[1];if(p>ms&&p<ys&&v>xs&&v<bs)break}if(c===a+1)continue;if(a){var y={index:-1,polygon:e,ring:o.slice(0,a+1)};y.ring[y.ring.length-1]=Sc(u),n[n.length-1]=y}else n.pop();if(c>=s)break;n.push({index:-1,polygon:e,ring:o=o.slice(c-1)}),o[0]=Sc(o[0][1]),a=-1,s=o.length}}}}function Mc(t){var e,n=t.length,r={},i={},o,a,s,l,f;for(e=0;e<n;++e){if(o=t[e],a=o.ring[0],l=o.ring[o.ring.length-1],a[0]===l[0]&&a[1]===l[1]){o.polygon.push(o.ring),t[e]=null;continue}o.index=e,r[a]=i[l]=o}for(e=0;e<n;++e)if(o=t[e],o){if(a=o.ring[0],l=o.ring[o.ring.length-1],s=i[a],f=r[l],delete r[a],delete i[l],a[0]===l[0]&&a[1]===l[1]){o.polygon.push(o.ring);continue}s?(delete i[a],delete r[s.ring[0]],s.ring.pop(),t[s.index]=null,o={index:-1,polygon:s.polygon,ring:s.ring.concat(o.ring)},s===f?o.polygon.push(o.ring):(o.index=n++,t.push(r[o.ring[0]]=i[o.ring[o.ring.length-1]]=o))):f?(delete r[l],delete i[f.ring[f.ring.length-1]],o.ring.pop(),o={index:n++,polygon:f.polygon,ring:o.ring.concat(f.ring)},t[f.index]=null,t.push(r[o.ring[0]]=i[o.ring[o.ring.length-1]]=o)):(o.ring.push(o.ring[0]),o.polygon.push(o.ring))}}function Ac(t){var e={type:"Feature",geometry:Ss(t.geometry)};return t.id!=null&&(e.id=t.id),t.bbox!=null&&(e.bbox=t.bbox),t.properties!=null&&(e.properties=t.properties),e}function Ss(t){if(t==null)return t;var e,n,r,i;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(Ss)};break;case"Point":e={type:"Point",coordinates:Es(t.coordinates)};break;case"MultiPoint":case"LineString":e={type:t.type,coordinates:kc(t.coordinates)};break;case"MultiLineString":e={type:"MultiLineString",coordinates:t.coordinates.map(kc)};break;case"Polygon":{var o=[];$c(t.coordinates,o,n=[]),Mc(n),e={type:"Polygon",coordinates:o};break}case"MultiPolygon":{n=[],r=-1,i=t.coordinates.length;for(var a=new Array(i);++r<i;)$c(t.coordinates[r],a[r]=[],n);Mc(n),e={type:"MultiPolygon",coordinates:a.filter(K1)};break}default:return t}return t.bbox!=null&&(e.bbox=t.bbox),e}function ib(t){if(t==null)return t;switch(t.type){case"Feature":return Ac(t);case"FeatureCollection":{var e={type:"FeatureCollection",features:t.features.map(Ac)};return t.bbox!=null&&(e.bbox=t.bbox),e}default:return Ss(t)}}function j1(){}function tm(){var t=[],e;return{point:function(n,r,i,o){var a=[n,r];arguments.length>2&&(a.index=i,a.t=o),e.push(a)},lineStart:function(){t.push(e=[])},lineEnd:j1,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Le(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}function uo(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function em(t,e,n,r,i){var o=[],a=[],s,l;if(t.forEach(function(v){if(!((y=v.length-1)<=0)){var y,g=v[0],m=v[y],w;if(Le(g,m)){for(i.lineStart(),s=0;s<y;++s)i.point((g=v[s])[0],g[1]);i.lineEnd();return}o.push(w=new uo(g,v,null,!0)),a.push(w.o=new uo(g,null,w,!1)),o.push(w=new uo(m,v,null,!1)),a.push(w.o=new uo(m,null,w,!0))}}),!!o.length){for(a.sort(e),Pc(o),Pc(a),s=0,l=a.length;s<l;++s)a[s].e=n=!n;for(var f=o[0],u,c;;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(s=0,l=u.length;s<l;++s)i.point((c=u[s])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,s=u.length-1;s>=0;--s)i.point((c=u[s])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function Pc(t){if(!!(e=t.length)){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}var lo=Math.abs,nm=Math.atan,hn=Math.atan2,re=Math.cos,Rc=Math.max,Tc=Math.min,Oc=Math.sign||function(t){return t>0?1:t<0?-1:0},ie=Math.sin,De=1e-6,pn=1e-12,xt=Math.PI,Vn=xt/2,Cc=xt/4,rm=xt*2,Cr=180/xt,Xn=xt/180;function zc(t){return t>1?Vn:t<-1?-Vn:Math.asin(t)}function im(t){return t>1?0:t<-1?xt:Math.acos(t)}function qt(t){return t>0?Math.sqrt(t):0}function om(){return new fo}function fo(){this.reset()}fo.prototype={constructor:fo,reset:function(){this.s=this.t=0},add:function(t){Ic(co,t,this.t),Ic(this,co.s,this.s),this.s?this.t+=co.t:this.s=co.t},valueOf:function(){return this.s}};var co=new fo;function Ic(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function ks(t){return[hn(t[1],t[0]),zc(t[2])]}function Yn(t){var e=t[0],n=t[1],r=re(n);return[r*re(e),r*ie(e),ie(n)]}function Vt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function dn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function $s(t){var e=qt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function bt(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i<pn*pn}var Ms=om();function Nc(t,e){var n=e[0],r=e[1],i=[ie(n),-re(n),0],o=0,a=0;Ms.reset();for(var s=0,l=t.length;s<l;++s)if(!!(u=(f=t[s]).length))for(var f,u,c=f[u-1],h=c[0],p=c[1]/2+Cc,v=ie(p),y=re(p),g=0;g<u;++g,h=w,v=d,y=S,c=m){var m=f[g],w=m[0],_=m[1]/2+Cc,d=ie(_),S=re(_),b=w-h,A=b>=0?1:-1,M=A*b,P=M>xt,R=v*d;if(Ms.add(hn(R*A*ie(M),y*S+R*re(M))),o+=P?b+A*rm:b,P^h>=n^w>=n){var $=dn(Yn(c),Yn(m));$s($);var D=dn(i,$);$s(D);var C=(P^b>=0?-1:1)*zc(D[2]);(r>C||r===C&&($[0]||$[1]))&&(a+=P^b>=0?1:-1)}}return(o<-De||o<De&&Ms<-De)^a&1}function*am(t){for(const e of t)yield*e}function sm(t){return Array.from(am(t))}function um(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function lm(t,e,n,r,i){return typeof i=="undefined"&&(i=cm),function(o){var a=e(o),s=tm(),l=e(s),f=!1,u,c,h,p={point:v,lineStart:g,lineEnd:m,polygonStart:function(){p.point=w,p.lineStart=_,p.lineEnd=d,c=[],u=[]},polygonEnd:function(){p.point=v,p.lineStart=g,p.lineEnd=m,c=sm(c);var S=Nc(u,r);c.length?(f||(o.polygonStart(),f=!0),em(c,i,S,n,o)):S&&(f||(o.polygonStart(),f=!0),n(null,null,1,o)),f&&(o.polygonEnd(),f=!1),c=u=null},sphere:function(){n(null,null,1,o)}};function v(S,b){t(S,b)&&o.point(S,b)}function y(S,b){a.point(S,b)}function g(){p.point=y,a.lineStart()}function m(){p.point=v,a.lineEnd()}function w(S,b,A){h.push([S,b]),l.point(S,b,A)}function _(){l.lineStart(),h=[]}function d(){w(h[0][0],h[0][1],!0),l.lineEnd();var S=l.clean(),b=s.result(),A,M=b.length,P,R,$;if(h.pop(),u.push(h),h=null,!!M){if(S&1){if(R=b[0],(P=R.length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),A=0;A<P;++A)o.point(($=R[A])[0],$[1]);o.lineEnd()}return}M>1&&S&2&&b.push(b.pop().concat(b.shift())),c.push(b.filter(fm))}}return p}}function fm(t){return t.length>1}function cm(t,e){return((t=t.x)[0]<0?t[1]-Vn-De:Vn-t[1])-((e=e.x)[0]<0?e[1]-Vn-De:Vn-e[1])}function As(t,e){this.from=t,this.to=e,this.normal=dn(t,e),this.fromNormal=dn(this.normal,t),this.toNormal=dn(this.normal,e),this.l=im(Vt(t,e))}function hm(t,e){if(bt(t.from,e.from)||bt(t.from,e.to))return t.from;if(bt(t.to,e.from)||bt(t.to,e.to))return t.to;var n=t.l+e.l<xt?re(t.l+e.l)-De:-1;if(!(Vt(t.from,e.from)<n||Vt(t.from,e.to)<n||Vt(t.to,e.from)<n||Vt(t.to,e.to)<n)){var r=dn(t.normal,e.normal);$s(r);var i=Vt(r,t.fromNormal),o=Vt(r,t.toNormal),a=Vt(r,e.fromNormal),s=Vt(r,e.toNormal);if(i>0&&o<0&&a>0&&s<0||i>=0&&o<=0&&a>=0&&s<=0&&(bt(r,t.from)||bt(r,t.to)||bt(r,e.from)||bt(r,e.to))||(r[0]=-r[0],r[1]=-r[1],r[2]=-r[2],i=-i,o=-o,a=-a,s=-s,i>0&&o<0&&a>0&&s<0||i>=0&&o<=0&&a>=0&&s<=0&&(bt(r,t.from)||bt(r,t.to)||bt(r,e.from)||bt(r,e.to))))return r}}function pm(t,e){var n=Vt(t,e.fromNormal),r=Vt(t,e.toNormal);return t=Vt(t,e.normal),lo(t)<pn&&(n>-pn&&r<pn||n<pn&&r>-pn)}var dm={},gm=function(t){return t};function vm(t){function e(n){var r;if(n.type==="MultiPolygon")r=n.coordinates;else if(n.type==="Polygon")r=[n.coordinates];else return gm;var i=r.map(function(a){a=a.map(mm);var s=_m(a),l=ym(a[0]);return lm(s,bm(l,s),xm(l,a),a[0][0],wm)}),o=function(a){var s=i.map(l=>l(a));return{point:function(l,f){s.forEach(u=>u.point(l,f))},lineStart:function(){s.forEach(l=>l.lineStart())},lineEnd:function(){s.forEach(l=>l.lineEnd())},polygonStart:function(){s.forEach(l=>l.polygonStart())},polygonEnd:function(){s.forEach(l=>l.polygonEnd())},sphere:function(){s.forEach(l=>l.sphere())}}};return o.polygon=function(a){return a?(n=a,e(n)):n},o}return e(t)}function mm(t){return t.map(function(e){return[e[0]*Xn,e[1]*Xn]})}function ym(t){var e,n,r=[];return t.forEach(function(i,o){return e=Yn(i),o&&r.push(new As(n,e)),n=e,i}),r}function wm(t,e){return t=t.x,e=e.x,t.index-e.index||t.t-e.t}function xm(t,e){return function(n,r,i,o){if(n==null)o.polygonStart(),e.forEach(function(f){o.lineStart(),f.forEach(function(u){o.point(u[0],u[1])}),o.lineEnd()}),o.polygonEnd();else if(n.index!==r.index&&n.index!=null&&r.index!=null)for(var a=n.index;a!==r.index;a=(a+i+t.length)%t.length){var s=t[a],l=ks(i>0?s.to:s.from);o.point(l[0],l[1])}else if(n.index===r.index&&n.t>r.t&&n.index!=null&&r.index!=null)for(a=0;a<t.length;a++)s=t[(n.index+a*i+t.length)%t.length],l=ks(i>0?s.to:s.from),o.point(l[0],l[1])}}function Lc(t,e){var n=dn(t,e);return hn(qt(Vt(n,n)),Vt(t,e))}function _m(t){return function(e,n){return Nc(t,[e,n])}}function ho(t,e){return Oc(ie(100*t+e))}function bm(t,e){return function(n){var r,i,o,a,s,l,f,u=[];return{lineStart:function(){r=null,l=1,f=[]},lineEnd:function(){s&&u.push(f),u.forEach(function(c){n.lineStart(),c.forEach(function(h){n.point(...h)}),n.lineEnd()}),u=[]},point:function(c,h,p){re(c)==-1&&(c-=Oc(ie(c))*1e-5),p&&(c=i,h=o);var v=Yn([c,h]),y=s,g,m,w,_,d;if(r){var S=new As(r,v),b=[];for(m=0,w=100;m<t.length&&w>0;++m)if(_=t[m],g=hm(S,_),g){if(g===dm||bt(g,r)||bt(g,v)||bt(g,_.from)||bt(g,_.to)){d=1e-4,c=(c+3*xt+ho(m,w)*d)%(2*xt)-xt,h=Tc(xt/2-1e-4,Rc(1e-4-xt/2,h+ho(m,w)*d)),S=new As(r,v=Yn([c,h])),m=-1,--w,b.length=0;continue}var A=ks(g);g.distance=Lc(r,g),g.index=m,g.t=Lc(_.from,g),g[0]=A[0],g[1]=A[1],g.pop(),b.push(g)}if(b.length)for(l=0,b.sort(function(M,P){return M.distance-P.distance}),m=0;m<b.length;++m)g=b[m],y=!y,y?(f=[],f.push([g[0],g[1],g.index,g.t])):(f.push([g[0],g[1],g.index,g.t]),u.push(f));y&&f.push([c,h])}else{for(m=0,w=100;m<t.length&&w>0;++m)_=t[m],pm(v,_)&&(d=1e-4,c=(c+3*xt+ho(m,w)*d)%(2*xt)-xt,h=Tc(xt/2-1e-4,Rc(1e-4-xt/2,h+ho(m,w)*d)),v=Yn([c,h]),m=-1,--w);a=y=e(i=c,o=h),y&&(f=[],f.push([c,h]))}r=v,s=y},clean:function(){return l|(a&&s)<<1}}}}function Em(t,e){var n=Dc(t[1],t[0]),r=Dc(e[1],e[0]),i=km(n,r),o=Bc(n)/Bc(r);return po([1,0,t[0][0],0,1,t[0][1]],po([o,0,0,0,o,0],po([re(i),ie(i),0,-ie(i),re(i),0],[1,0,-e[0][0],0,1,-e[0][1]])))}function Sm(t){var e=1/(t[0]*t[4]-t[1]*t[3]);return[e*t[4],-e*t[1],e*(t[1]*t[5]-t[2]*t[4]),-e*t[3],e*t[0],e*(t[2]*t[3]-t[0]*t[5])]}function po(t,e){return[t[0]*e[0]+t[1]*e[3],t[0]*e[1]+t[1]*e[4],t[0]*e[2]+t[1]*e[5]+t[2],t[3]*e[0]+t[4]*e[3],t[3]*e[1]+t[4]*e[4],t[3]*e[2]+t[4]*e[5]+t[5]]}function Dc(t,e){return[t[0]-e[0],t[1]-e[1]]}function Bc(t){return qt(t[0]*t[0]+t[1]*t[1])}function km(t,e){return hn(t[0]*e[1]-t[1]*e[0],t[0]*e[0]+t[1]*e[1])}function $m(t,e){n(t,{transform:null});function n(l,f){if(l.edges=Am(l.face),f.face){var u=l.shared=Mm(l.face,f.face),c=Em(u.map(f.project),u.map(l.project));l.transform=f.transform?po(f.transform,c):c;for(var h=f.edges,p=0,v=h.length;p<v;++p)Le(u[0],h[p][1])&&Le(u[1],h[p][0])&&(h[p]=l),Le(u[0],h[p][0])&&Le(u[1],h[p][1])&&(h[p]=l);for(h=l.edges,p=0,v=h.length;p<v;++p)Le(u[0],h[p][0])&&Le(u[1],h[p][1])&&(h[p]=f),Le(u[0],h[p][1])&&Le(u[1],h[p][0])&&(h[p]=f)}else l.transform=f.transform;return l.children&&l.children.forEach(function(y){n(y,l)}),l}function r(l,f){var u=e(l,f),c=u.project([l*Cr,f*Cr]),h;return(h=u.transform)?[h[0]*c[0]+h[1]*c[1]+h[2],-(h[3]*c[0]+h[4]*c[1]+h[5])]:(c[1]=-c[1],c)}qc(t)&&(r.invert=function(l,f){var u=i(t,[l,-f]);return u&&(u[0]*=Xn,u[1]*=Xn,u)});function i(l,f){var u=l.project.invert,c=l.transform,h=f;if(c&&(c=Sm(c),h=[c[0]*h[0]+c[1]*h[1]+c[2],c[3]*h[0]+c[4]*h[1]+c[5]]),u&&l===o(p=u(h)))return p;for(var p,v=l.children,y=0,g=v&&v.length;y<g;++y)if(p=i(v[y],f))return p}function o(l){return e(l[0]*Xn,l[1]*Xn)}var a=Qe(r),s=[];return Fc({point:function(l,f){s.push([l,f])}},t),s.push(s[0]),a.preclip(vm({type:"Polygon",coordinates:[s]})),a.tree=function(){return t},a}function Fc(t,e,n){var r,i=e.edges,o=i.length,a,s={type:"MultiPoint",coordinates:e.face},l=e.face.filter(function(v){return lo(v[1])!==90}),f=ov({type:"MultiPoint",coordinates:l}),u=!1,c=-1,h=f[1][0]-f[0][0];if(e.centroid=h===180||h===360?[(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2]:nf(s),n)for(;++c<o&&i[c]!==n;);++c;for(var p=0;p<o;++p)a=i[(p+c)%o],Array.isArray(a)?(u||(t.point((r=Ef(a[0],e.centroid)(De))[0],r[1]),u=!0),t.point((r=Ef(a[1],e.centroid)(De))[0],r[1])):(u=!1,a!==n&&Fc(t,a,e))}function Mm(t,e){for(var n,r,i=t.length,o=null,a=0;a<i;++a){n=t[a];for(var s=e.length;--s>=0;)if(r=e[s],n[0]===r[0]&&n[1]===r[1]){if(o)return[o,n];o=n}}}function Am(t){for(var e=t.length,n=[],r=t[e-1],i=0;i<e;++i)n.push([r,r=t[i]]);return n}function qc(t){return t.project.invert||t.children&&t.children.some(qc)}function Pm(){var t=qt(3),e=qt(5+2*qt(5))/qt(15),n=qt(8)/qt(5+qt(5)),r=qt(3+qt(5))/qt(5+qt(5)),i=function(o,a){var s=re(a),l=e/(s*re(o)),f=s*ie(o)*l,u=ie(a)*l,c=hn(2*u/t+n/3-n/2,r),h=hn(f-u/t+n/3-n/2,r),p=hn(n/3-f-u/t-n/2,r);return[t*(h-p),2*c-h-p]};return i.invert=function(o,a){if(o*o+a*a>5)return[0,3];var s=2.9309936378128416,l=ja.invert(o/s,a/s),f=0;do{var u=i(l[0],l[1]),c=o-u[0],h=a-u[1];l[0]+=.2*c,l[1]+=.2*h}while(f++<30&&lo(c)+lo(h)>De);return l},i}function Rm(t){var e=nm(.5)*Cr,n=[[0,90],[0,-90]].concat(um(10).map(function(o){var a=(o*36+180)%360-180;return[a,o&1?e:-e]})),r=[[0,3,11],[0,5,3],[0,7,5],[0,9,7],[0,11,9],[2,11,3],[3,4,2],[4,3,5],[5,6,4],[6,5,7],[7,8,6],[8,7,9],[9,10,8],[10,9,11],[11,2,10],[1,2,4],[1,4,6],[1,6,8],[1,8,10],[1,10,2]].map(function(o){return o.map(function(a){return n[a]})});r.forEach(function(o){o.centroid=nf({type:"MultiPoint",coordinates:o})}),function(){var o,a,s,l;o=r[15],l=o.centroid,a=o.slice(),o[0]=l,o=[a[0],l,a[2]],o.centroid=l,r.push(o),o=[a[0],a[1],l],o.centroid=l,r.push(o),o=r[14],l=o.centroid,a=o.slice();var f=Gf().scale(1).translate([0,0]).rotate([-l[0],-l[1]]),u=f(o[1]),c=f(o[2]);s=f.invert([(u[0]+c[0])/2,(u[1]+c[1])/2]),o[1]=s,o=[a[0],a[1],s],o.centroid=l,r.push(o),o=r[19],l=o.centroid,a=o.slice(),o[1]=s,o=[s,a[0],a[1]],o.centroid=l,r.push(o)}();var i=function(o){o=o||function(u){var c=u.centroid;return Gf().scale(1).translate([0,0]).rotate([-c[0],-c[1]])};var a=r.map(function(u,c){var h=u.slice();return h.push(h[0]),{face:u,site:u.centroid,id:c,contains:function(p,v){return Av({type:"Polygon",coordinates:[h]},[p*Cr,v*Cr])},project:o(u)}}),s=[-1,0,1,11,13,6,7,1,7,8,9,10,11,12,13,6,8,10,17,21,16,15,19,19];s.forEach(function(u,c){var h=a[u];h&&(h.children||(h.children=[])).push(a[c])});function l(u,c){for(var h=0;h<a.length;h++)if(a[h].contains(u,c))return a[h]}var f=$m(a[0],l);return f.faces=a,f};return i(t)}function ob(){var t=Rm(function(e){var n=e.centroid;return e.direction=Math.abs(n[1]-52.62)<1||Math.abs(n[1]+10.81)<1?0:60,Qe(Pm()).scale(1).translate([0,0]).rotate([-n[0],-n[1],e.direction||0])});return t.rotate([-83.65929,25.44458,-87.45184]).angle(-60).scale(45.4631).center([126,0])}var Tm={value:()=>{}};function zr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new go(n)}function go(t){this._=t}function Om(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}go.prototype=zr.prototype={constructor:go,on:function(t,e){var n=this._,r=Om(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Cm(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Vc(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Vc(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new go(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Cm(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Vc(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Tm,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}const zm={passive:!1},Ir={capture:!0,passive:!1};function Ps(t){t.stopImmediatePropagation()}function Un(t){t.preventDefault(),t.stopImmediatePropagation()}function Rs(t){var e=t.document.documentElement,n=It(t).on("dragstart.drag",Un,Ir);"onselectstart"in e?n.on("selectstart.drag",Un,Ir):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ts(t,e){var n=t.document.documentElement,r=It(t).on("dragstart.drag",null);e&&(r.on("click.drag",Un,Ir),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var vo=t=>()=>t;function Os(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:f,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:u}})}Os.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Im(t){return!t.ctrlKey&&!t.button}function Nm(){return this.parentNode}function Lm(t,e){return e??{x:t.x,y:t.y}}function Dm(){return navigator.maxTouchPoints||"ontouchstart"in this}function ab(){var t=Im,e=Nm,n=Lm,r=Dm,i={},o=zr("start","drag","end"),a=0,s,l,f,u,c=0;function h(d){d.on("mousedown.drag",p).filter(r).on("touchstart.drag",g).on("touchmove.drag",m,zm).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(d,S){if(!(u||!t.call(this,d,S))){var b=_(this,e.call(this,d,S),d,S,"mouse");!b||(It(d.view).on("mousemove.drag",v,Ir).on("mouseup.drag",y,Ir),Rs(d.view),Ps(d),f=!1,s=d.clientX,l=d.clientY,b("start",d))}}function v(d){if(Un(d),!f){var S=d.clientX-s,b=d.clientY-l;f=S*S+b*b>c}i.mouse("drag",d)}function y(d){It(d.view).on("mousemove.drag mouseup.drag",null),Ts(d.view,f),Un(d),i.mouse("end",d)}function g(d,S){if(!!t.call(this,d,S)){var b=d.changedTouches,A=e.call(this,d,S),M=b.length,P,R;for(P=0;P<M;++P)(R=_(this,A,d,S,b[P].identifier,b[P]))&&(Ps(d),R("start",d,b[P]))}}function m(d){var S=d.changedTouches,b=S.length,A,M;for(A=0;A<b;++A)(M=i[S[A].identifier])&&(Un(d),M("drag",d,S[A]))}function w(d){var S=d.changedTouches,b=S.length,A,M;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),A=0;A<b;++A)(M=i[S[A].identifier])&&(Ps(d),M("end",d,S[A]))}function _(d,S,b,A,M,P){var R=o.copy(),$=ae(P||b,S),D,C,E;if((E=n.call(d,new Os("beforestart",{sourceEvent:b,target:h,identifier:M,active:a,x:$[0],y:$[1],dx:0,dy:0,dispatch:R}),A))!=null)return D=E.x-$[0]||0,C=E.y-$[1]||0,function x(k,T,z){var I=$,L;switch(k){case"start":i[M]=x,L=a++;break;case"end":delete i[M],--a;case"drag":$=ae(z||T,S),L=a;break}R.call(k,d,new Os(k,{sourceEvent:T,subject:E,target:h,identifier:M,active:L,x:$[0]+D,y:$[1]+C,dx:$[0]-I[0],dy:$[1]-I[1],dispatch:R}),A)}}return h.filter=function(d){return arguments.length?(t=typeof d=="function"?d:vo(!!d),h):t},h.container=function(d){return arguments.length?(e=typeof d=="function"?d:vo(d),h):e},h.subject=function(d){return arguments.length?(n=typeof d=="function"?d:vo(d),h):n},h.touchable=function(d){return arguments.length?(r=typeof d=="function"?d:vo(!!d),h):r},h.on=function(){var d=o.on.apply(o,arguments);return d===o?h:d},h.clickDistance=function(d){return arguments.length?(c=(d=+d)*d,h):Math.sqrt(c)},h}function Cs(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Xc(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Nr(){}var Lr=.7,mo=1/Lr,Hn="\\s*([+-]?\\d+)\\s*",Dr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ee="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bm=/^#([0-9a-f]{3,8})$/,Fm=new RegExp("^rgb\\("+[Hn,Hn,Hn]+"\\)$"),qm=new RegExp("^rgb\\("+[Ee,Ee,Ee]+"\\)$"),Vm=new RegExp("^rgba\\("+[Hn,Hn,Hn,Dr]+"\\)$"),Xm=new RegExp("^rgba\\("+[Ee,Ee,Ee,Dr]+"\\)$"),Ym=new RegExp("^hsl\\("+[Dr,Ee,Ee]+"\\)$"),Um=new RegExp("^hsla\\("+[Dr,Ee,Ee,Dr]+"\\)$"),Yc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cs(Nr,gn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Uc,formatHex:Uc,formatHsl:Hm,formatRgb:Hc,toString:Hc});function Uc(){return this.rgb().formatHex()}function Hm(){return Kc(this).formatHsl()}function Hc(){return this.rgb().formatRgb()}function gn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Bm.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Gc(e):n===3?new Zt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?yo(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?yo(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Fm.exec(t))?new Zt(e[1],e[2],e[3],1):(e=qm.exec(t))?new Zt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Vm.exec(t))?yo(e[1],e[2],e[3],e[4]):(e=Xm.exec(t))?yo(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ym.exec(t))?Qc(e[1],e[2]/100,e[3]/100,1):(e=Um.exec(t))?Qc(e[1],e[2]/100,e[3]/100,e[4]):Yc.hasOwnProperty(t)?Gc(Yc[t]):t==="transparent"?new Zt(NaN,NaN,NaN,0):null}function Gc(t){return new Zt(t>>16&255,t>>8&255,t&255,1)}function yo(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zt(t,e,n,r)}function Gm(t){return t instanceof Nr||(t=gn(t)),t?(t=t.rgb(),new Zt(t.r,t.g,t.b,t.opacity)):new Zt}function zs(t,e,n,r){return arguments.length===1?Gm(t):new Zt(t,e,n,r??1)}function Zt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Cs(Zt,zs,Xc(Nr,{brighter:function(t){return t=t==null?mo:Math.pow(mo,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Lr:Math.pow(Lr,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wc,formatHex:Wc,formatRgb:Zc,toString:Zc}));function Wc(){return"#"+Is(this.r)+Is(this.g)+Is(this.b)}function Zc(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Is(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Qc(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Se(t,e,n,r)}function Kc(t){if(t instanceof Se)return new Se(t.h,t.s,t.l,t.opacity);if(t instanceof Nr||(t=gn(t)),!t)return new Se;if(t instanceof Se)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Se(a,s,l,t.opacity)}function Wm(t,e,n,r){return arguments.length===1?Kc(t):new Se(t,e,n,r??1)}function Se(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Cs(Se,Wm,Xc(Nr,{brighter:function(t){return t=t==null?mo:Math.pow(mo,t),new Se(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Lr:Math.pow(Lr,t),new Se(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Zt(Ns(t>=240?t-240:t+120,i,r),Ns(t,i,r),Ns(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Ns(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var Ls=t=>()=>t;function Zm(t,e){return function(n){return t+n*e}}function Qm(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Km(t){return(t=+t)==1?Jc:function(e,n){return n-e?Qm(e,n,t):Ls(isNaN(e)?n:e)}}function Jc(t,e){var n=e-t;return n?Zm(t,n):Ls(isNaN(t)?e:t)}var wo=function t(e){var n=Km(e);function r(i,o){var a=n((i=zs(i)).r,(o=zs(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),f=Jc(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=f(u),i+""}}return r.gamma=t,r}(1);function Jm(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function jm(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ty(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Fs(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function ey(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ke(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ny(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Fs(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ds=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bs=new RegExp(Ds.source,"g");function ry(t){return function(){return t}}function iy(t){return function(e){return t(e)+""}}function jc(t,e){var n=Ds.lastIndex=Bs.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Ds.exec(t))&&(i=Bs.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:ke(r,i)})),n=Bs.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?iy(l[0].x):ry(e):(e=l.length,function(f){for(var u=0,c;u<e;++u)s[(c=l[u]).i]=c.x(f);return s.join("")})}function Fs(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ls(e):(n==="number"?ke:n==="string"?(r=gn(e))?(e=r,wo):jc:e instanceof gn?wo:e instanceof Date?ey:jm(e)?Jm:Array.isArray(e)?ty:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ny:ke)(t,e)}var th=180/Math.PI,qs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function eh(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*th,skewX:Math.atan(l)*th,scaleX:a,scaleY:s}}var xo;function oy(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?qs:eh(e.a,e.b,e.c,e.d,e.e,e.f)}function ay(t){return t==null||(xo||(xo=document.createElementNS("http://www.w3.org/2000/svg","g")),xo.setAttribute("transform",t),!(t=xo.transform.baseVal.consolidate()))?qs:(t=t.matrix,eh(t.a,t.b,t.c,t.d,t.e,t.f))}function nh(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function o(f,u,c,h,p,v){if(f!==c||u!==h){var y=p.push("translate(",null,e,null,n);v.push({i:y-4,x:ke(f,c)},{i:y-2,x:ke(u,h)})}else(c||h)&&p.push("translate("+c+e+h+n)}function a(f,u,c,h){f!==u?(f-u>180?u+=360:u-f>180&&(f+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:ke(f,u)})):u&&c.push(i(c)+"rotate("+u+r)}function s(f,u,c,h){f!==u?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:ke(f,u)}):u&&c.push(i(c)+"skewX("+u+r)}function l(f,u,c,h,p,v){if(f!==c||u!==h){var y=p.push(i(p)+"scale(",null,",",null,")");v.push({i:y-4,x:ke(f,c)},{i:y-2,x:ke(u,h)})}else(c!==1||h!==1)&&p.push(i(p)+"scale("+c+","+h+")")}return function(f,u){var c=[],h=[];return f=t(f),u=t(u),o(f.translateX,f.translateY,u.translateX,u.translateY,c,h),a(f.rotate,u.rotate,c,h),s(f.skewX,u.skewX,c,h),l(f.scaleX,f.scaleY,u.scaleX,u.scaleY,c,h),f=u=null,function(p){for(var v=-1,y=h.length,g;++v<y;)c[(g=h[v]).i]=g.x(p);return c.join("")}}}var sy=nh(oy,"px, ","px)","deg)"),uy=nh(ay,", ",")",")"),ly=1e-12;function rh(t){return((t=Math.exp(t))+1/t)/2}function fy(t){return((t=Math.exp(t))-1/t)/2}function cy(t){return((t=Math.exp(2*t))-1)/(t+1)}var hy=function t(e,n,r){function i(o,a){var s=o[0],l=o[1],f=o[2],u=a[0],c=a[1],h=a[2],p=u-s,v=c-l,y=p*p+v*v,g,m;if(y<ly)m=Math.log(h/f)/e,g=function(A){return[s+A*p,l+A*v,f*Math.exp(e*A*m)]};else{var w=Math.sqrt(y),_=(h*h-f*f+r*y)/(2*f*n*w),d=(h*h-f*f-r*y)/(2*h*n*w),S=Math.log(Math.sqrt(_*_+1)-_),b=Math.log(Math.sqrt(d*d+1)-d);m=(b-S)/e,g=function(A){var M=A*m,P=rh(S),R=f/(n*w)*(P*cy(e*M+S)-fy(S));return[s+R*p,l+R*v,f*P/rh(e*M+S)]}}return g.duration=m*1e3*e/Math.SQRT2,g}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return t(a,s,l)},i}(Math.SQRT2,2,4),Gn=0,Br=0,Fr=0,ih=1e3,_o,qr,bo=0,vn=0,Eo=0,Vr=typeof performance=="object"&&performance.now?performance:Date,oh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Vs(){return vn||(oh(py),vn=Vr.now()+Eo)}function py(){vn=0}function So(){this._call=this._time=this._next=null}So.prototype=ah.prototype={constructor:So,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Vs():+n)+(e==null?0:+e),!this._next&&qr!==this&&(qr?qr._next=this:_o=this,qr=this),this._call=t,this._time=n,Xs()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xs())}};function ah(t,e,n){var r=new So;return r.restart(t,e,n),r}function dy(){Vs(),++Gn;for(var t=_o,e;t;)(e=vn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Gn}function sh(){vn=(bo=Vr.now())+Eo,Gn=Br=0;try{dy()}finally{Gn=0,vy(),vn=0}}function gy(){var t=Vr.now(),e=t-bo;e>ih&&(Eo-=e,bo=t)}function vy(){for(var t,e=_o,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:_o=n);qr=t,Xs(r)}function Xs(t){if(!Gn){Br&&(Br=clearTimeout(Br));var e=t-vn;e>24?(t<1/0&&(Br=setTimeout(sh,t-Vr.now()-Eo)),Fr&&(Fr=clearInterval(Fr))):(Fr||(bo=Vr.now(),Fr=setInterval(gy,ih)),Gn=1,oh(sh))}}function uh(t,e,n){var r=new So;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var my=zr("start","end","cancel","interrupt"),yy=[],lh=0,fh=1,Ys=2,ko=3,ch=4,Us=5,$o=6;function Mo(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;wy(t,n,{name:e,index:r,group:i,on:my,tween:yy,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:lh})}function Hs(t,e){var n=de(t,e);if(n.state>lh)throw new Error("too late; already scheduled");return n}function $e(t,e){var n=de(t,e);if(n.state>ko)throw new Error("too late; already running");return n}function de(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function wy(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ah(o,0,n.time);function o(f){n.state=fh,n.timer.restart(a,n.delay,n.time),n.delay<=f&&a(f-n.delay)}function a(f){var u,c,h,p;if(n.state!==fh)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===ko)return uh(a);p.state===ch?(p.state=$o,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=$o,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(uh(function(){n.state===ko&&(n.state=ch,n.timer.restart(s,n.delay,n.time),s(f))}),n.state=Ys,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ys){for(n.state=ko,i=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=p);i.length=c+1}}function s(f){for(var u=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(l),n.state=Us,1),c=-1,h=i.length;++c<h;)i[c].call(t,u);n.state===Us&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=$o,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function Wn(t,e){var n=t.__transition,r,i,o=!0,a;if(!!n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>Ys&&r.state<Us,r.state=$o,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function xy(t){return this.each(function(){Wn(this,t)})}function _y(t,e){var n,r;return function(){var i=$e(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function by(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=$e(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,f=i.length;l<f;++l)if(i[l].name===e){i[l]=s;break}l===f&&i.push(s)}o.tween=i}}function Ey(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=de(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?_y:by)(n,t,e))}function Gs(t,e,n){var r=t._id;return t.each(function(){var i=$e(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return de(i,r).value[e]}}function hh(t,e){var n;return(typeof e=="number"?ke:e instanceof gn?wo:(n=gn(e))?(e=n,wo):jc)(t,e)}function Sy(t){return function(){this.removeAttribute(t)}}function ky(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $y(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function My(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function Ay(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function Py(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function Ry(t,e){var n=ui(t),r=n==="transform"?uy:hh;return this.attrTween(t,typeof e=="function"?(n.local?Py:Ay)(n,r,Gs(this,"attr."+t,e)):e==null?(n.local?ky:Sy)(n):(n.local?My:$y)(n,r,e))}function Ty(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Oy(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Cy(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Oy(t,o)),n}return i._value=e,i}function zy(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ty(t,o)),n}return i._value=e,i}function Iy(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ui(t);return this.tween(n,(r.local?Cy:zy)(r,e))}function Ny(t,e){return function(){Hs(this,t).delay=+e.apply(this,arguments)}}function Ly(t,e){return e=+e,function(){Hs(this,t).delay=e}}function Dy(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ny:Ly)(e,t)):de(this.node(),e).delay}function By(t,e){return function(){$e(this,t).duration=+e.apply(this,arguments)}}function Fy(t,e){return e=+e,function(){$e(this,t).duration=e}}function qy(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?By:Fy)(e,t)):de(this.node(),e).duration}function Vy(t,e){if(typeof e!="function")throw new Error;return function(){$e(this,t).ease=e}}function Xy(t){var e=this._id;return arguments.length?this.each(Vy(e,t)):de(this.node(),e).ease}function Yy(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;$e(this,t).ease=n}}function Uy(t){if(typeof t!="function")throw new Error;return this.each(Yy(this._id,t))}function Hy(t){typeof t!="function"&&(t=qu(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,f=0;f<a;++f)(l=o[f])&&t.call(l,l.__data__,f,o)&&s.push(l);return new Be(r,this._parents,this._name,this._id)}function Gy(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],f=n[s],u=l.length,c=a[s]=new Array(u),h,p=0;p<u;++p)(h=l[p]||f[p])&&(c[p]=h);for(;s<r;++s)a[s]=e[s];return new Be(a,this._parents,this._name,this._id)}function Wy(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Zy(t,e,n){var r,i,o=Wy(e)?Hs:$e;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function Qy(t,e){var n=this._id;return arguments.length<2?de(this.node(),n).on.on(t):this.each(Zy(n,t,e))}function Ky(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Jy(){return this.on("end.remove",Ky(this._id))}function jy(t){var e=this._name,n=this._id;typeof t!="function"&&(t=jo(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,f=o[a]=new Array(l),u,c,h=0;h<l;++h)(u=s[h])&&(c=t.call(u,u.__data__,h,s))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,Mo(f[h],e,n,h,f,de(u,n)));return new Be(o,this._parents,e,n)}function tw(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Fu(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],f=l.length,u,c=0;c<f;++c)if(u=l[c]){for(var h=t.call(u,u.__data__,c,l),p,v=de(u,n),y=0,g=h.length;y<g;++y)(p=h[y])&&Mo(p,e,n,y,h,v);o.push(h),a.push(u)}return new Be(o,a,e,n)}var ew=or.prototype.constructor;function nw(){return new ew(this._groups,this._parents)}function rw(t,e){var n,r,i;return function(){var o=Sn(this,t),a=(this.style.removeProperty(t),Sn(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function ph(t){return function(){this.style.removeProperty(t)}}function iw(t,e,n){var r,i=n+"",o;return function(){var a=Sn(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function ow(t,e,n){var r,i,o;return function(){var a=Sn(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Sn(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}function aw(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var l=$e(this,t),f=l.on,u=l.value[o]==null?s||(s=ph(e)):void 0;(f!==n||i!==u)&&(r=(n=f).copy()).on(a,i=u),l.on=r}}function sw(t,e,n){var r=(t+="")==="transform"?sy:hh;return e==null?this.styleTween(t,rw(t,r)).on("end.style."+t,ph(t)):typeof e=="function"?this.styleTween(t,ow(t,r,Gs(this,"style."+t,e))).each(aw(this._id,t)):this.styleTween(t,iw(t,r,e),n).on("end.style."+t,null)}function uw(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function lw(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&uw(t,a,n)),r}return o._value=e,o}function fw(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,lw(t,e,n??""))}function cw(t){return function(){this.textContent=t}}function hw(t){return function(){var e=t(this);this.textContent=e??""}}function pw(t){return this.tween("text",typeof t=="function"?hw(Gs(this,"text",t)):cw(t==null?"":t+""))}function dw(t){return function(e){this.textContent=t.call(this,e)}}function gw(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&dw(i)),e}return r._value=t,r}function vw(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,gw(t))}function mw(){for(var t=this._name,e=this._id,n=dh(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,f=0;f<s;++f)if(l=a[f]){var u=de(l,e);Mo(l,t,n,f,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Be(r,this._parents,t,n)}function yw(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i==0&&o()}};n.each(function(){var f=$e(this,r),u=f.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),f.on=e}),i===0&&o()})}var ww=0;function Be(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function dh(){return++ww}var Fe=or.prototype;Be.prototype={constructor:Be,select:jy,selectAll:tw,selectChild:Fe.selectChild,selectChildren:Fe.selectChildren,filter:Hy,merge:Gy,selection:nw,transition:mw,call:Fe.call,nodes:Fe.nodes,node:Fe.node,size:Fe.size,empty:Fe.empty,each:Fe.each,on:Qy,attr:Ry,attrTween:Iy,style:sw,styleTween:fw,text:pw,textTween:vw,remove:Jy,tween:Ey,delay:Dy,duration:qy,ease:Xy,easeVarying:Uy,end:yw,[Symbol.iterator]:Fe[Symbol.iterator]};function xw(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var _w={time:null,delay:0,duration:250,ease:xw};function bw(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ew(t){var e,n;t instanceof Be?(e=t._id,t=t._name):(e=dh(),(n=_w).time=Vs(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,f=0;f<s;++f)(l=a[f])&&Mo(l,t,e,f,a,n||bw(l,e));return new Be(r,this._parents,t,e)}or.prototype.interrupt=xy;or.prototype.transition=Ew;var Ws=t=>()=>t;function Sw(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function kw(t){t.stopImmediatePropagation()}function Zs(t){t.preventDefault(),t.stopImmediatePropagation()}var gh={name:"drag"},Qs={name:"space"},Zn={name:"handle"},Qn={name:"center"};const{abs:vh,max:Et,min:St}=Math;function mh(t){return[+t[0],+t[1]]}function Ks(t){return[mh(t[0]),mh(t[1])]}var Js={name:"x",handles:["w","e"].map(Xr),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},js={name:"y",handles:["n","s"].map(Xr),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},$w={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Xr),input:function(t){return t==null?null:Ks(t)},output:function(t){return t}},qe={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},yh={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},wh={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Mw={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Aw={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Xr(t){return{type:t}}function Pw(t){return!t.ctrlKey&&!t.button}function Rw(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Tw(){return navigator.maxTouchPoints||"ontouchstart"in this}function tu(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Ow(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function sb(){return Cw($w)}function Cw(t){var e=Rw,n=Pw,r=Tw,i=!0,o=zr("start","brush","end"),a=6,s;function l(g){var m=g.property("__brush",y).selectAll(".overlay").data([Xr("overlay")]);m.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",qe.overlay).merge(m).each(function(){var _=tu(this).extent;It(this).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1])}),g.selectAll(".selection").data([Xr("selection")]).enter().append("rect").attr("class","selection").attr("cursor",qe.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var w=g.selectAll(".handle").data(t.handles,function(_){return _.type});w.exit().remove(),w.enter().append("rect").attr("class",function(_){return"handle handle--"+_.type}).attr("cursor",function(_){return qe[_.type]}),g.each(f).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(g,m,w){g.tween?g.on("start.brush",function(_){u(this,arguments).beforestart().start(_)}).on("interrupt.brush end.brush",function(_){u(this,arguments).end(_)}).tween("brush",function(){var _=this,d=_.__brush,S=u(_,arguments),b=d.selection,A=t.input(typeof m=="function"?m.apply(this,arguments):m,d.extent),M=Fs(b,A);function P(R){d.selection=R===1&&A===null?null:M(R),f.call(_),S.brush()}return b!==null&&A!==null?P:P(1)}):g.each(function(){var _=this,d=arguments,S=_.__brush,b=t.input(typeof m=="function"?m.apply(_,d):m,S.extent),A=u(_,d).beforestart();Wn(_),S.selection=b===null?null:b,f.call(_),A.start(w).brush(w).end(w)})},l.clear=function(g,m){l.move(g,null,m)};function f(){var g=It(this),m=tu(this).selection;m?(g.selectAll(".selection").style("display",null).attr("x",m[0][0]).attr("y",m[0][1]).attr("width",m[1][0]-m[0][0]).attr("height",m[1][1]-m[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(w){return w.type[w.type.length-1]==="e"?m[1][0]-a/2:m[0][0]-a/2}).attr("y",function(w){return w.type[0]==="s"?m[1][1]-a/2:m[0][1]-a/2}).attr("width",function(w){return w.type==="n"||w.type==="s"?m[1][0]-m[0][0]+a:a}).attr("height",function(w){return w.type==="e"||w.type==="w"?m[1][1]-m[0][1]+a:a})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(g,m,w){var _=g.__brush.emitter;return _&&(!w||!_.clean)?_:new c(g,m,w)}function c(g,m,w){this.that=g,this.args=m,this.state=g.__brush,this.active=0,this.clean=w}c.prototype={beforestart:function(){return++this.active==1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,m){return this.starting?(this.starting=!1,this.emit("start",g,m)):this.emit("brush",g),this},brush:function(g,m){return this.emit("brush",g,m),this},end:function(g,m){return--this.active==0&&(delete this.state.emitter,this.emit("end",g,m)),this},emit:function(g,m,w){var _=It(this.that).datum();o.call(g,this.that,new Sw(g,{sourceEvent:m,target:l,selection:t.output(this.state.selection),mode:w,dispatch:o}),_)}};function h(g){if(s&&!g.touches||!n.apply(this,arguments))return;var m=this,w=g.target.__data__.type,_=(i&&g.metaKey?w="overlay":w)==="selection"?gh:i&&g.altKey?Qn:Zn,d=t===js?null:Mw[w],S=t===Js?null:Aw[w],b=tu(m),A=b.extent,M=b.selection,P=A[0][0],R,$,D=A[0][1],C,E,x=A[1][0],k,T,z=A[1][1],I,L,N=0,B=0,Y,Q=d&&S&&i&&g.shiftKey,Z,ot,j=Array.from(g.touches||[g],H=>{const lt=H.identifier;return H=ae(H,m),H.point0=H.slice(),H.identifier=lt,H});Wn(m);var ut=u(m,arguments,!0).beforestart();if(w==="overlay"){M&&(Y=!0);const H=[j[0],j[1]||j[0]];b.selection=M=[[R=t===js?P:St(H[0][0],H[1][0]),C=t===Js?D:St(H[0][1],H[1][1])],[k=t===js?x:Et(H[0][0],H[1][0]),I=t===Js?z:Et(H[0][1],H[1][1])]],j.length>1&&Yt(g)}else R=M[0][0],C=M[0][1],k=M[1][0],I=M[1][1];$=R,E=C,T=k,L=I;var Xt=It(m).attr("pointer-events","none"),zt=Xt.selectAll(".overlay").attr("cursor",qe[w]);if(g.touches)ut.moved=tn,ut.ended=en;else{var Ae=It(g.view).on("mousemove.brush",tn,!0).on("mouseup.brush",en,!0);i&&Ae.on("keydown.brush",yn,!0).on("keyup.brush",nn,!0),Rs(g.view)}f.call(m),ut.start(g,_.name);function tn(H){for(const lt of H.changedTouches||[H])for(const me of j)me.identifier===lt.identifier&&(me.cur=ae(lt,m));if(Q&&!Z&&!ot&&j.length===1){const lt=j[0];vh(lt.cur[0]-lt[0])>vh(lt.cur[1]-lt[1])?ot=!0:Z=!0}for(const lt of j)lt.cur&&(lt[0]=lt.cur[0],lt[1]=lt.cur[1]);Y=!0,Zs(H),Yt(H)}function Yt(H){const lt=j[0],me=lt.point0;var wt;switch(N=lt[0]-me[0],B=lt[1]-me[1],_){case Qs:case gh:{d&&(N=Et(P-R,St(x-k,N)),$=R+N,T=k+N),S&&(B=Et(D-C,St(z-I,B)),E=C+B,L=I+B);break}case Zn:{j[1]?(d&&($=Et(P,St(x,j[0][0])),T=Et(P,St(x,j[1][0])),d=1),S&&(E=Et(D,St(z,j[0][1])),L=Et(D,St(z,j[1][1])),S=1)):(d<0?(N=Et(P-R,St(x-R,N)),$=R+N,T=k):d>0&&(N=Et(P-k,St(x-k,N)),$=R,T=k+N),S<0?(B=Et(D-C,St(z-C,B)),E=C+B,L=I):S>0&&(B=Et(D-I,St(z-I,B)),E=C,L=I+B));break}case Qn:{d&&($=Et(P,St(x,R-N*d)),T=Et(P,St(x,k+N*d))),S&&(E=Et(D,St(z,C-B*S)),L=Et(D,St(z,I+B*S)));break}}T<$&&(d*=-1,wt=R,R=k,k=wt,wt=$,$=T,T=wt,w in yh&&zt.attr("cursor",qe[w=yh[w]])),L<E&&(S*=-1,wt=C,C=I,I=wt,wt=E,E=L,L=wt,w in wh&&zt.attr("cursor",qe[w=wh[w]])),b.selection&&(M=b.selection),Z&&($=M[0][0],T=M[1][0]),ot&&(E=M[0][1],L=M[1][1]),(M[0][0]!==$||M[0][1]!==E||M[1][0]!==T||M[1][1]!==L)&&(b.selection=[[$,E],[T,L]],f.call(m),ut.brush(H,_.name))}function en(H){if(kw(H),H.touches){if(H.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else Ts(H.view,Y),Ae.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Xt.attr("pointer-events","all"),zt.attr("cursor",qe.overlay),b.selection&&(M=b.selection),Ow(M)&&(b.selection=null,f.call(m)),ut.end(H,_.name)}function yn(H){switch(H.keyCode){case 16:{Q=d&&S;break}case 18:{_===Zn&&(d&&(k=T-N*d,R=$+N*d),S&&(I=L-B*S,C=E+B*S),_=Qn,Yt(H));break}case 32:{(_===Zn||_===Qn)&&(d<0?k=T-N:d>0&&(R=$-N),S<0?I=L-B:S>0&&(C=E-B),_=Qs,zt.attr("cursor",qe.selection),Yt(H));break}default:return}Zs(H)}function nn(H){switch(H.keyCode){case 16:{Q&&(Z=ot=Q=!1,Yt(H));break}case 18:{_===Qn&&(d<0?k=T:d>0&&(R=$),S<0?I=L:S>0&&(C=E),_=Zn,Yt(H));break}case 32:{_===Qs&&(H.altKey?(d&&(k=T-N*d,R=$+N*d),S&&(I=L-B*S,C=E+B*S),_=Qn):(d<0?k=T:d>0&&(R=$),S<0?I=L:S>0&&(C=E),_=Zn),zt.attr("cursor",qe[w]),Yt(H));break}default:return}Zs(H)}}function p(g){u(this,arguments).moved(g)}function v(g){u(this,arguments).ended(g)}function y(){var g=this.__brush||{selection:null};return g.extent=Ks(e.apply(this,arguments)),g.dim=t,g}return l.extent=function(g){return arguments.length?(e=typeof g=="function"?g:Ws(Ks(g)),l):e},l.filter=function(g){return arguments.length?(n=typeof g=="function"?g:Ws(!!g),l):n},l.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:Ws(!!g),l):r},l.handleSize=function(g){return arguments.length?(a=+g,l):a},l.keyModifiers=function(g){return arguments.length?(i=!!g,l):i},l.on=function(){var g=o.on.apply(o,arguments);return g===o?l:g},l}var Ao=t=>()=>t;function zw(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ve(t,e,n){this.k=t,this.x=e,this.y=n}Ve.prototype={constructor:Ve,scale:function(t){return t===1?this:new Ve(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ve(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var eu=new Ve(1,0,0);Iw.prototype=Ve.prototype;function Iw(t){for(;!t.__zoom;)if(!(t=t.parentNode))return eu;return t.__zoom}function nu(t){t.stopImmediatePropagation()}function Yr(t){t.preventDefault(),t.stopImmediatePropagation()}function Nw(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Lw(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function xh(){return this.__zoom||eu}function Dw(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Bw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Fw(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function ub(){var t=Nw,e=Lw,n=Fw,r=Dw,i=Bw,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=hy,f=zr("start","zoom","end"),u,c,h,p=500,v=150,y=0,g=10;function m(E){E.property("__zoom",xh).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",R).filter(i).on("touchstart.zoom",$).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(E,x,k,T){var z=E.selection?E.selection():E;z.property("__zoom",xh),E!==z?S(E,x,k,T):z.interrupt().each(function(){b(this,arguments).event(T).start().zoom(null,typeof x=="function"?x.apply(this,arguments):x).end()})},m.scaleBy=function(E,x,k,T){m.scaleTo(E,function(){var z=this.__zoom.k,I=typeof x=="function"?x.apply(this,arguments):x;return z*I},k,T)},m.scaleTo=function(E,x,k,T){m.transform(E,function(){var z=e.apply(this,arguments),I=this.__zoom,L=k==null?d(z):typeof k=="function"?k.apply(this,arguments):k,N=I.invert(L),B=typeof x=="function"?x.apply(this,arguments):x;return n(_(w(I,B),L,N),z,a)},k,T)},m.translateBy=function(E,x,k,T){m.transform(E,function(){return n(this.__zoom.translate(typeof x=="function"?x.apply(this,arguments):x,typeof k=="function"?k.apply(this,arguments):k),e.apply(this,arguments),a)},null,T)},m.translateTo=function(E,x,k,T,z){m.transform(E,function(){var I=e.apply(this,arguments),L=this.__zoom,N=T==null?d(I):typeof T=="function"?T.apply(this,arguments):T;return n(eu.translate(N[0],N[1]).scale(L.k).translate(typeof x=="function"?-x.apply(this,arguments):-x,typeof k=="function"?-k.apply(this,arguments):-k),I,a)},T,z)};function w(E,x){return x=Math.max(o[0],Math.min(o[1],x)),x===E.k?E:new Ve(x,E.x,E.y)}function _(E,x,k){var T=x[0]-k[0]*E.k,z=x[1]-k[1]*E.k;return T===E.x&&z===E.y?E:new Ve(E.k,T,z)}function d(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function S(E,x,k,T){E.on("start.zoom",function(){b(this,arguments).event(T).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(T).end()}).tween("zoom",function(){var z=this,I=arguments,L=b(z,I).event(T),N=e.apply(z,I),B=k==null?d(N):typeof k=="function"?k.apply(z,I):k,Y=Math.max(N[1][0]-N[0][0],N[1][1]-N[0][1]),Q=z.__zoom,Z=typeof x=="function"?x.apply(z,I):x,ot=l(Q.invert(B).concat(Y/Q.k),Z.invert(B).concat(Y/Z.k));return function(j){if(j===1)j=Z;else{var ut=ot(j),Xt=Y/ut[2];j=new Ve(Xt,B[0]-ut[0]*Xt,B[1]-ut[1]*Xt)}L.zoom(null,j)}})}function b(E,x,k){return!k&&E.__zooming||new A(E,x)}function A(E,x){this.that=E,this.args=x,this.active=0,this.sourceEvent=null,this.extent=e.apply(E,x),this.taps=0}A.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,x){return this.mouse&&E!=="mouse"&&(this.mouse[1]=x.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=x.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=x.invert(this.touch1[0])),this.that.__zoom=x,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var x=It(this.that).datum();f.call(E,this.that,new zw(E,{sourceEvent:this.sourceEvent,target:m,type:E,transform:this.that.__zoom,dispatch:f}),x)}};function M(E,...x){if(!t.apply(this,arguments))return;var k=b(this,x).event(E),T=this.__zoom,z=Math.max(o[0],Math.min(o[1],T.k*Math.pow(2,r.apply(this,arguments)))),I=ae(E);if(k.wheel)(k.mouse[0][0]!==I[0]||k.mouse[0][1]!==I[1])&&(k.mouse[1]=T.invert(k.mouse[0]=I)),clearTimeout(k.wheel);else{if(T.k===z)return;k.mouse=[I,T.invert(I)],Wn(this),k.start()}Yr(E),k.wheel=setTimeout(L,v),k.zoom("mouse",n(_(w(T,z),k.mouse[0],k.mouse[1]),k.extent,a));function L(){k.wheel=null,k.end()}}function P(E,...x){if(h||!t.apply(this,arguments))return;var k=E.currentTarget,T=b(this,x,!0).event(E),z=It(E.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",Y,!0),I=ae(E,k),L=E.clientX,N=E.clientY;Rs(E.view),nu(E),T.mouse=[I,this.__zoom.invert(I)],Wn(this),T.start();function B(Q){if(Yr(Q),!T.moved){var Z=Q.clientX-L,ot=Q.clientY-N;T.moved=Z*Z+ot*ot>y}T.event(Q).zoom("mouse",n(_(T.that.__zoom,T.mouse[0]=ae(Q,k),T.mouse[1]),T.extent,a))}function Y(Q){z.on("mousemove.zoom mouseup.zoom",null),Ts(Q.view,T.moved),Yr(Q),T.event(Q).end()}}function R(E,...x){if(!!t.apply(this,arguments)){var k=this.__zoom,T=ae(E.changedTouches?E.changedTouches[0]:E,this),z=k.invert(T),I=k.k*(E.shiftKey?.5:2),L=n(_(w(k,I),T,z),e.apply(this,x),a);Yr(E),s>0?It(this).transition().duration(s).call(S,L,T,E):It(this).call(m.transform,L,T,E)}}function $(E,...x){if(!!t.apply(this,arguments)){var k=E.touches,T=k.length,z=b(this,x,E.changedTouches.length===T).event(E),I,L,N,B;for(nu(E),L=0;L<T;++L)N=k[L],B=ae(N,this),B=[B,this.__zoom.invert(B),N.identifier],z.touch0?!z.touch1&&z.touch0[2]!==B[2]&&(z.touch1=B,z.taps=0):(z.touch0=B,I=!0,z.taps=1+!!u);u&&(u=clearTimeout(u)),I&&(z.taps<2&&(c=B[0],u=setTimeout(function(){u=null},p)),Wn(this),z.start())}}function D(E,...x){if(!!this.__zooming){var k=b(this,x).event(E),T=E.changedTouches,z=T.length,I,L,N,B;for(Yr(E),I=0;I<z;++I)L=T[I],N=ae(L,this),k.touch0&&k.touch0[2]===L.identifier?k.touch0[0]=N:k.touch1&&k.touch1[2]===L.identifier&&(k.touch1[0]=N);if(L=k.that.__zoom,k.touch1){var Y=k.touch0[0],Q=k.touch0[1],Z=k.touch1[0],ot=k.touch1[1],j=(j=Z[0]-Y[0])*j+(j=Z[1]-Y[1])*j,ut=(ut=ot[0]-Q[0])*ut+(ut=ot[1]-Q[1])*ut;L=w(L,Math.sqrt(j/ut)),N=[(Y[0]+Z[0])/2,(Y[1]+Z[1])/2],B=[(Q[0]+ot[0])/2,(Q[1]+ot[1])/2]}else if(k.touch0)N=k.touch0[0],B=k.touch0[1];else return;k.zoom("touch",n(_(L,N,B),k.extent,a))}}function C(E,...x){if(!!this.__zooming){var k=b(this,x).event(E),T=E.changedTouches,z=T.length,I,L;for(nu(E),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),I=0;I<z;++I)L=T[I],k.touch0&&k.touch0[2]===L.identifier?delete k.touch0:k.touch1&&k.touch1[2]===L.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(L=ae(L,this),Math.hypot(c[0]-L[0],c[1]-L[1])<g)){var N=It(this).on("dblclick.zoom");N&&N.apply(this,arguments)}}}return m.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:Ao(+E),m):r},m.filter=function(E){return arguments.length?(t=typeof E=="function"?E:Ao(!!E),m):t},m.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:Ao(!!E),m):i},m.extent=function(E){return arguments.length?(e=typeof E=="function"?E:Ao([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),m):e},m.scaleExtent=function(E){return arguments.length?(o[0]=+E[0],o[1]=+E[1],m):[o[0],o[1]]},m.translateExtent=function(E){return arguments.length?(a[0][0]=+E[0][0],a[1][0]=+E[1][0],a[0][1]=+E[0][1],a[1][1]=+E[1][1],m):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},m.constrain=function(E){return arguments.length?(n=E,m):n},m.duration=function(E){return arguments.length?(s=+E,m):s},m.interpolate=function(E){return arguments.length?(l=E,m):l},m.on=function(){var E=f.on.apply(f,arguments);return E===f?m:E},m.clickDistance=function(E){return arguments.length?(y=(E=+E)*E,m):Math.sqrt(y)},m.tapDistance=function(E){return arguments.length?(g=+E,m):g},m}function qw(){return new Po}function Po(){this.reset()}Po.prototype={constructor:Po,reset:function(){this.s=this.t=0},add:function(t){_h(Ro,t,this.t),_h(this,Ro.s,this.s),this.s?this.t+=Ro.t:this.s=Ro.t},valueOf:function(){return this.s}};const Ro=new Po;function _h(t,e,n){const r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function To(t,e){t&&Eh.hasOwnProperty(t.type)&&Eh[t.type](t,e)}const bh={Feature:function(t,e){To(t.geometry,e)},FeatureCollection:function(t,e){let n=t.features,r=-1,i=n.length;for(;++r<i;)To(n[r].geometry,e)}},Eh={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){let n=t.coordinates,r=-1,i=n.length;for(;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ru(t.coordinates,e,0)},MultiLineString:function(t,e){let n=t.coordinates,r=-1,i=n.length;for(;++r<i;)ru(n[r],e,0)},Polygon:function(t,e){Sh(t.coordinates,e)},MultiPolygon:function(t,e){let n=t.coordinates,r=-1,i=n.length;for(;++r<i;)Sh(n[r],e)},GeometryCollection:function(t,e){let n=t.geometries,r=-1,i=n.length;for(;++r<i;)To(n[r],e)}};function ru(t,e,n){let r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function Sh(t,e){let n=-1,r=t.length;for(e.polygonStart();++n<r;)ru(t[n],e,1);e.polygonEnd()}function Vw(t,e){t&&bh.hasOwnProperty(t.type)?bh[t.type](t,e):To(t,e)}let iu=qw(),ou,Oo,Co;const Kn={sphere:t=>{},point:t=>{},lineStart:Xw,lineEnd:t=>{},polygonStart:t=>{},polygonEnd:t=>{}};function Xw(){Kn.point=Uw,Kn.lineEnd=Yw}function Yw(){Kn.point=Kn.lineEnd=t=>{}}function Uw(t,e){t*=Math.PI/180,e*=Math.PI/180,ou=t,Oo=Math.sin(e),Co=Math.cos(e),Kn.point=Hw}function Hw(t,e){t*=Math.PI/180,e*=Math.PI/180;const n=Math.sin(e),r=Math.cos(e),i=Math.abs(t-ou),o=Math.cos(i),a=Math.sin(i),s=r*a,l=Co*n-Oo*r*o,f=Oo*n+Co*r*o;iu.add(Math.atan2(Math.sqrt(s*s+l*l),f)),ou=t,Oo=n,Co=r}function Gw(t){return iu.reset(),Vw(t,Kn),+iu}const au=[null,null],Ww={type:"LineString",coordinates:au};function kh(t,e){return au[0]=t,au[1]=e,Gw(Ww)}function Zw(){return 1}var $h={units:"kilometers",radius:6371.0088};function lb(){let t=null,e,n=0,r=0,i=Zw(),o=$h.radius,a=$h.units,s,l=m=>+m.toFixed(2),f=2,u=4,c,h,p="start",v=1,y=!0;function g(m){h=h===null?null:h||a.charAt(0).toUpperCase()+a.slice(1);let w=t[1][0]-t[0][0],_=t[1][1]-t[0][1],d=t[0][0]+w*n,S=t[0][1]+_*r,b=e.invert([d,S]),A=0,M=0;if(s)A=s,M=A/(kh(b,e.invert([d+1,S]))*o);else{let N=.01,B=80/(y?1:v),Y=0,Q=100,Z=[1,2,4,5];for(;M<B&&Y<Q;){for(let ot=0,j=Z.length;ot<j&&(A=N*Z[ot],M=A/(kh(b,e.invert([d+1,S]))*o),!(M>=B));ot++);N*=10,Y++}}let P=A/(y?v:1),R=c===null?[]:c||[0,P/4,P/2,P],$=N=>N*M/(A/v),D=m.selection?m.selection():m,C=D.selectAll(".label").data([h]),E=D.selectAll(".domain").data([null]),x=D.selectAll(".tick").data(R,$).order(),k=x.exit(),T=x.enter().append("g").attr("class","tick"),z=x.select("line"),I=x.select("text"),L=x.select("rect");D.attr("font-family","sans-serif").attr("transform",`translate(${[d,S]})`),E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("fill","none").attr("stroke","currentColor")),x=x.merge(T),z=z.merge(T.append("line").attr("stroke","currentColor").attr("y2",u*i)),I=I.merge(T.append("text").attr("fill","currentColor").attr("y",u*i+f*i).attr("font-size",10).attr("text-anchor","middle").attr("dy",`${i===1?.71:0}em`)),L=L.merge(T.append("rect").attr("fill",(N,B)=>B%2==0?"currentColor":"#fff").attr("stroke","currentColor").attr("stroke-width",.5).attr("width",(N,B,Y)=>B===Y.length-1?0:$(R[B+1]-N)).attr("y",i===1?0:-u).attr("height",u)),m!==D&&(x=x.transition(m),E=E.transition(m),L=L.transition(m),k=k.transition(m).attr("opacity",1e-6).attr("transform",N=>`translate(${$(N)})`),T.attr("opacity",1e-6).attr("transform",N=>`translate(${$(N)})`)),k.remove(),E.attr("d",`M${$(0)},${u*i} L${$(0)},0 L${$(P)},0 L${$(P)},${u*i}`),x.attr("transform",N=>`translate(${$(N)})`).attr("opacity",1),z.attr("y2",u*i),I.attr("y",u*i+f*i).text(l),L.attr("fill",(N,B)=>B%2==0?"currentColor":"#fff").attr("width",(N,B,Y)=>B===Y.length-1?0:$(R[B+1]-N)).attr("y",i===1?0:-u).attr("height",u),C===null?C.remove():C.enter().append("text").attr("class","label").attr("fill","currentColor").attr("font-size",12).attr("dy","-0.32em").merge(C).attr("x",p==="start"?0:$(p==="middle"?P/2:P)).attr("y",i===1?0:"1.3em").attr("text-anchor",p).text(N=>N)}return g.distance=function(m){return arguments.length?(s=+m,g):s},g.extent=function(m){return arguments.length?(t=m,g):t},g.label=function(m){return arguments.length?(h=m,g):h},g.labelAnchor=function(m){return arguments.length?(p=m,g):p},g.left=function(m){return arguments.length?(n=+m>1?1:+m<0?0:+m,g):n},g.orient=function(m){return arguments.length?(i=m(),g):i===1?"bottom":"top"},g.projection=function(m){return arguments.length?(e=m,g):e},g.radius=function(m){return arguments.length?(o=+m,g):o},g.size=function(m){return arguments.length?(t=[[0,0],m],g):t[1]},g.top=function(m){return arguments.length?(r=+m>1?1:+m<0?0:+m,g):r},g.tickFormat=function(m){return arguments.length?(l=m,g):l},g.tickPadding=function(m){return arguments.length?(f=+m,g):f},g.tickSize=function(m){return arguments.length?(u=+m,g):u},g.tickValues=function(m){return arguments.length?(c=m,g):c},g.units=function(m){return arguments.length?({units:a,radius:o}=m,g):a},g.zoomClamp=function(m){return arguments.length?(y=!!m,g):y},g.zoomFactor=function(m){return arguments.length?(v=+m,g):v},g}const su=Math.PI,uu=2*su,mn=1e-6,Qw=uu-mn;function lu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Mh(){return new lu}lu.prototype=Mh.prototype={constructor:lu,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,f=o-t,u=a-e,c=f*f+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(c>mn)if(!(Math.abs(u*s-l*f)>mn)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var h=n-o,p=r-a,v=s*s+l*l,y=h*h+p*p,g=Math.sqrt(v),m=Math.sqrt(c),w=i*Math.tan((su-Math.acos((v+c-y)/(2*g*m)))/2),_=w/m,d=w/g;Math.abs(_-1)>mn&&(this._+="L"+(t+_*f)+","+(e+_*u)),this._+="A"+i+","+i+",0,0,"+ +(u*h>f*p)+","+(this._x1=t+d*s)+","+(this._y1=e+d*l)}},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var a=n*Math.cos(r),s=n*Math.sin(r),l=t+a,f=e+s,u=1^o,c=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+f:(Math.abs(this._x1-l)>mn||Math.abs(this._y1-f)>mn)&&(this._+="L"+l+","+f),!!n&&(c<0&&(c=c%uu+uu),c>Qw?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=f):c>mn&&(this._+="A"+n+","+n+",0,"+ +(c>=su)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function zo(t){return function(){return t}}const Ah=Math.sqrt,Ph=Math.PI,Kw=2*Ph;var Jw={draw(t,e){const n=Ah(e/Ph);t.moveTo(n,0),t.arc(0,0,n,0,Kw)}},fb={draw(t,e){const n=Ah(e),r=-n/2;t.rect(r,r,n,n)}};function cb(t,e){let n=null;t=typeof t=="function"?t:zo(t||Jw),e=typeof e=="function"?e:zo(e===void 0?64:+e);function r(){let i;if(n||(n=i=Mh()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return r.type=function(i){return arguments.length?(t=typeof i=="function"?i:zo(i),r):t},r.size=function(i){return arguments.length?(e=typeof i=="function"?i:zo(+i),r):e},r.context=function(i){return arguments.length?(n=i??null,r):n},r}function jw(t){return t}function tx(t){if(t==null)return jw;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(s,l){l||(e=n=0);var f=2,u=s.length,c=new Array(u);for(c[0]=(e+=s[0])*r+o,c[1]=(n+=s[1])*i+a;f<u;)c[f]=s[f],++f;return c}}function ex(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function hb(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return Rh(t,n)})}:Rh(t,e)}function Rh(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,o=Io(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function Io(t,e){var n=tx(t.transform),r=t.arcs;function i(u,c){c.length&&c.pop();for(var h=r[u<0?~u:u],p=0,v=h.length;p<v;++p)c.push(n(h[p],p));u<0&&ex(c,v)}function o(u){return n(u)}function a(u){for(var c=[],h=0,p=u.length;h<p;++h)i(u[h],c);return c.length<2&&c.push(c[0]),c}function s(u){for(var c=a(u);c.length<4;)c.push(c[0]);return c}function l(u){return u.map(s)}function f(u){var c=u.type,h;switch(c){case"GeometryCollection":return{type:c,geometries:u.geometries.map(f)};case"Point":h=o(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(o);break;case"LineString":h=a(u.arcs);break;case"MultiLineString":h=u.arcs.map(a);break;case"Polygon":h=l(u.arcs);break;case"MultiPolygon":h=u.arcs.map(l);break;default:return null}return{type:c,coordinates:h}}return f(e)}function Th(t,e){var n={},r={},i={},o=[],a=-1;e.forEach(function(f,u){var c=t.arcs[f<0?~f:f],h;c.length<3&&!c[1][0]&&!c[1][1]&&(h=e[++a],e[a]=f,e[u]=h)}),e.forEach(function(f){var u=s(f),c=u[0],h=u[1],p,v;if(p=i[c])if(delete i[p.end],p.push(f),p.end=h,v=r[h]){delete r[v.start];var y=v===p?p:p.concat(v);r[y.start=p.start]=i[y.end=v.end]=y}else r[p.start]=i[p.end]=p;else if(p=r[h])if(delete r[p.start],p.unshift(f),p.start=c,v=i[c]){delete i[v.end];var g=v===p?p:v.concat(p);r[g.start=v.start]=i[g.end=p.end]=g}else r[p.start]=i[p.end]=p;else p=[f],r[p.start=c]=i[p.end=h]=p});function s(f){var u=t.arcs[f<0?~f:f],c=u[0],h;return t.transform?(h=[0,0],u.forEach(function(p){h[0]+=p[0],h[1]+=p[1]})):h=u[u.length-1],f<0?[h,c]:[c,h]}function l(f,u){for(var c in f){var h=f[c];delete u[h.start],delete h.start,delete h.end,h.forEach(function(p){n[p<0?~p:p]=1}),o.push(h)}}return l(i,r),l(r,i),e.forEach(function(f){n[f<0?~f:f]||o.push([f])}),o}function pb(t){return Io(t,nx.apply(this,arguments))}function nx(t,e,n){var r,i,o;if(arguments.length>1)r=rx(t,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:Th(t,r)}}function rx(t,e,n){var r=[],i=[],o;function a(c){var h=c<0?~c:c;(i[h]||(i[h]=[])).push({i:c,g:o})}function s(c){c.forEach(a)}function l(c){c.forEach(s)}function f(c){c.forEach(l)}function u(c){switch(o=c,c.type){case"GeometryCollection":c.geometries.forEach(u);break;case"LineString":s(c.arcs);break;case"MultiLineString":case"Polygon":l(c.arcs);break;case"MultiPolygon":f(c.arcs);break}}return u(e),i.forEach(n==null?function(c){r.push(c[0].i)}:function(c){n(c[0].g,c[c.length-1].g)&&r.push(c[0].i)}),r}function ix(t){for(var e=-1,n=t.length,r,i=t[n-1],o=0;++e<n;)r=i,i=t[e],o+=r[0]*i[1]-r[1]*i[0];return Math.abs(o)}function db(t){return Io(t,ox.apply(this,arguments))}function ox(t,e){var n={},r=[],i=[];e.forEach(o);function o(l){switch(l.type){case"GeometryCollection":l.geometries.forEach(o);break;case"Polygon":a(l.arcs);break;case"MultiPolygon":l.arcs.forEach(a);break}}function a(l){l.forEach(function(f){f.forEach(function(u){(n[u=u<0?~u:u]||(n[u]=[])).push(l)})}),r.push(l)}function s(l){return ix(Io(t,{type:"Polygon",arcs:[l]}).coordinates[0])}return r.forEach(function(l){if(!l._){var f=[],u=[l];for(l._=1,i.push(f);l=u.pop();)f.push(l),l.forEach(function(c){c.forEach(function(h){n[h<0?~h:h].forEach(function(p){p._||(p._=1,u.push(p))})})})}}),r.forEach(function(l){delete l._}),{type:"MultiPolygon",arcs:i.map(function(l){var f=[],u;if(l.forEach(function(y){y.forEach(function(g){g.forEach(function(m){n[m<0?~m:m].length<2&&f.push(m)})})}),f=Th(t,f),(u=f.length)>1)for(var c=1,h=s(f[0]),p,v;c<u;++c)(p=s(f[c]))>h&&(v=f[0],f[0]=f[c],f[c]=v,h=p);return f}).filter(function(l){return l.length>0})}}/**
 * splaytree v3.1.0
 * Fast Splay tree for Node and browser
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 */var Ke=function(){function t(e,n){this.next=null,this.key=e,this.data=n,this.left=null,this.right=null}return t}();function ax(t,e){return t>e?1:t<e?-1:0}function Je(t,e,n){for(var r=new Ke(null,null),i=r,o=r;;){var a=n(t,e.key);if(a<0){if(e.left===null)break;if(n(t,e.left.key)<0){var s=e.left;if(e.left=s.right,s.right=e,e=s,e.left===null)break}o.left=e,o=e,e=e.left}else if(a>0){if(e.right===null)break;if(n(t,e.right.key)>0){var s=e.right;if(e.right=s.left,s.left=e,e=s,e.right===null)break}i.right=e,i=e,e=e.right}else break}return i.right=e.left,o.left=e.right,e.left=r.right,e.right=r.left,e}function fu(t,e,n,r){var i=new Ke(t,e);if(n===null)return i.left=i.right=null,i;n=Je(t,n,r);var o=r(t,n.key);return o<0?(i.left=n.left,i.right=n,n.left=null):o>=0&&(i.right=n.right,i.left=n,n.right=null),i}function Oh(t,e,n){var r=null,i=null;if(e){e=Je(t,e,n);var o=n(e.key,t);o===0?(r=e.left,i=e.right):o<0?(i=e.right,e.right=null,r=e):(r=e.left,e.left=null,i=e)}return{left:r,right:i}}function sx(t,e,n){return e===null?t:(t===null||(e=Je(t.key,e,n),e.left=t),e)}function cu(t,e,n,r,i){if(t){r(""+e+(n?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+i(t)+`
`);var o=e+(n?"    ":"\u2502   ");t.left&&cu(t.left,o,!1,r,i),t.right&&cu(t.right,o,!0,r,i)}}var hu=function(){function t(e){e===void 0&&(e=ax),this._root=null,this._size=0,this._comparator=e}return t.prototype.insert=function(e,n){return this._size++,this._root=fu(e,n,this._root,this._comparator)},t.prototype.add=function(e,n){var r=new Ke(e,n);this._root===null&&(r.left=r.right=null,this._size++,this._root=r);var i=this._comparator,o=Je(e,this._root,i),a=i(e,o.key);return a===0?this._root=o:(a<0?(r.left=o.left,r.right=o,o.left=null):a>0&&(r.right=o.right,r.left=o,o.right=null),this._size++,this._root=r),this._root},t.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},t.prototype._remove=function(e,n,r){var i;if(n===null)return null;n=Je(e,n,r);var o=r(e,n.key);return o===0?(n.left===null?i=n.right:(i=Je(e,n.left,r),i.right=n.right),this._size--,i):n},t.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=Je(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},t.prototype.findStatic=function(e){for(var n=this._root,r=this._comparator;n;){var i=r(e,n.key);if(i===0)return n;i<0?n=n.left:n=n.right}return null},t.prototype.find=function(e){return this._root&&(this._root=Je(e,this._root,this._comparator),this._comparator(e,this._root.key)!==0)?null:this._root},t.prototype.contains=function(e){for(var n=this._root,r=this._comparator;n;){var i=r(e,n.key);if(i===0)return!0;i<0?n=n.left:n=n.right}return!1},t.prototype.forEach=function(e,n){for(var r=this._root,i=[],o=!1;!o;)r!==null?(i.push(r),r=r.left):i.length!==0?(r=i.pop(),e.call(n,r),r=r.right):o=!0;return this},t.prototype.range=function(e,n,r,i){for(var o=[],a=this._comparator,s=this._root,l;o.length!==0||s;)if(s)o.push(s),s=s.left;else{if(s=o.pop(),l=a(s.key,n),l>0)break;if(a(s.key,e)>=0&&r.call(i,s))return this;s=s.right}return this},t.prototype.keys=function(){var e=[];return this.forEach(function(n){var r=n.key;return e.push(r)}),e},t.prototype.values=function(){var e=[];return this.forEach(function(n){var r=n.data;return e.push(r)}),e},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(e){if(e===void 0&&(e=this._root),e)for(;e.left;)e=e.left;return e},t.prototype.maxNode=function(e){if(e===void 0&&(e=this._root),e)for(;e.right;)e=e.right;return e},t.prototype.at=function(e){for(var n=this._root,r=!1,i=0,o=[];!r;)if(n)o.push(n),n=n.left;else if(o.length>0){if(n=o.pop(),i===e)return n;i++,n=n.right}else r=!0;return null},t.prototype.next=function(e){var n=this._root,r=null;if(e.right){for(r=e.right;r.left;)r=r.left;return r}for(var i=this._comparator;n;){var o=i(e.key,n.key);if(o===0)break;o<0?(r=n,n=n.left):n=n.right}return r},t.prototype.prev=function(e){var n=this._root,r=null;if(e.left!==null){for(r=e.left;r.right;)r=r.right;return r}for(var i=this._comparator;n;){var o=i(e.key,n.key);if(o===0)break;o<0?n=n.left:(r=n,n=n.right)}return r},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return lx(this._root)},t.prototype.load=function(e,n,r){n===void 0&&(n=[]),r===void 0&&(r=!1);var i=e.length,o=this._comparator;if(r&&gu(e,n,0,i-1,o),this._root===null)this._root=pu(e,n,0,i),this._size=i;else{var a=fx(this.toList(),ux(e,n),o);i=this._size+i,this._root=du({head:a},0,i)}return this},t.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){e===void 0&&(e=function(r){return String(r.key)});var n=[];return cu(this._root,"",!0,function(r){return n.push(r)},e),n.join("")},t.prototype.update=function(e,n,r){var i=this._comparator,o=Oh(e,this._root,i),a=o.left,s=o.right;i(e,n)<0?s=fu(n,r,s,i):a=fu(n,r,a,i),this._root=sx(a,s,i)},t.prototype.split=function(e){return Oh(e,this._root,this._comparator)},t}();function pu(t,e,n,r){var i=r-n;if(i>0){var o=n+Math.floor(i/2),a=t[o],s=e[o],l=new Ke(a,s);return l.left=pu(t,e,n,o),l.right=pu(t,e,o+1,r),l}return null}function ux(t,e){for(var n=new Ke(null,null),r=n,i=0;i<t.length;i++)r=r.next=new Ke(t[i],e[i]);return r.next=null,n.next}function lx(t){for(var e=t,n=[],r=!1,i=new Ke(null,null),o=i;!r;)e?(n.push(e),e=e.left):n.length>0?(e=o=o.next=n.pop(),e=e.right):r=!0;return o.next=null,i.next}function du(t,e,n){var r=n-e;if(r>0){var i=e+Math.floor(r/2),o=du(t,e,i),a=t.head;return a.left=o,t.head=t.head.next,a.right=du(t,i+1,n),a}return null}function fx(t,e,n){for(var r=new Ke(null,null),i=r,o=t,a=e;o!==null&&a!==null;)n(o.key,a.key)<0?(i.next=o,o=o.next):(i.next=a,a=a.next),i=i.next;return o!==null?i.next=o:a!==null&&(i.next=a),r.next}function gu(t,e,n,r,i){if(!(n>=r)){for(var o=t[n+r>>1],a=n-1,s=r+1;;){do a++;while(i(t[a],o)<0);do s--;while(i(t[s],o)>0);if(a>=s)break;var l=t[a];t[a]=t[s],t[s]=l,l=e[a],e[a]=e[s],e[s]=l}gu(t,e,n,s,i),gu(t,e,s+1,r,i)}}function oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ch(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ct(t,e,n){return e&&Ch(t.prototype,e),n&&Ch(t,n),t}var Ur=function(e,n){return e.ll.x<=n.x&&n.x<=e.ur.x&&e.ll.y<=n.y&&n.y<=e.ur.y},vu=function(e,n){if(n.ur.x<e.ll.x||e.ur.x<n.ll.x||n.ur.y<e.ll.y||e.ur.y<n.ll.y)return null;var r=e.ll.x<n.ll.x?n.ll.x:e.ll.x,i=e.ur.x<n.ur.x?e.ur.x:n.ur.x,o=e.ll.y<n.ll.y?n.ll.y:e.ll.y,a=e.ur.y<n.ur.y?e.ur.y:n.ur.y;return{ll:{x:r,y:o},ur:{x:i,y:a}}},je=Number.EPSILON;je===void 0&&(je=Math.pow(2,-52));var cx=je*je,mu=function(e,n){if(-je<e&&e<je&&-je<n&&n<je)return 0;var r=e-n;return r*r<cx*e*n?0:e<n?-1:1},hx=function(){function t(){oe(this,t),this.reset()}return Ct(t,[{key:"reset",value:function(){this.xRounder=new zh,this.yRounder=new zh}},{key:"round",value:function(n,r){return{x:this.xRounder.round(n),y:this.yRounder.round(r)}}}]),t}(),zh=function(){function t(){oe(this,t),this.tree=new hu,this.round(0)}return Ct(t,[{key:"round",value:function(n){var r=this.tree.add(n),i=this.tree.prev(r);if(i!==null&&mu(r.key,i.key)===0)return this.tree.remove(n),i.key;var o=this.tree.next(r);return o!==null&&mu(r.key,o.key)===0?(this.tree.remove(n),o.key):n}}]),t}(),Hr=new hx,Gr=function(e,n){return e.x*n.y-e.y*n.x},Ih=function(e,n){return e.x*n.x+e.y*n.y},Nh=function(e,n,r){var i={x:n.x-e.x,y:n.y-e.y},o={x:r.x-e.x,y:r.y-e.y},a=Gr(i,o);return mu(a,0)},No=function(e){return Math.sqrt(Ih(e,e))},px=function(e,n,r){var i={x:n.x-e.x,y:n.y-e.y},o={x:r.x-e.x,y:r.y-e.y};return Gr(o,i)/No(o)/No(i)},dx=function(e,n,r){var i={x:n.x-e.x,y:n.y-e.y},o={x:r.x-e.x,y:r.y-e.y};return Ih(o,i)/No(o)/No(i)},Lh=function(e,n,r){return n.y===0?null:{x:e.x+n.x/n.y*(r-e.y),y:r}},Dh=function(e,n,r){return n.x===0?null:{x:r,y:e.y+n.y/n.x*(r-e.x)}},gx=function(e,n,r,i){if(n.x===0)return Dh(r,i,e.x);if(i.x===0)return Dh(e,n,r.x);if(n.y===0)return Lh(r,i,e.y);if(i.y===0)return Lh(e,n,r.y);var o=Gr(n,i);if(o==0)return null;var a={x:r.x-e.x,y:r.y-e.y},s=Gr(a,n)/o,l=Gr(a,i)/o,f=e.x+l*n.x,u=r.x+s*i.x,c=e.y+l*n.y,h=r.y+s*i.y,p=(f+u)/2,v=(c+h)/2;return{x:p,y:v}},Me=function(){Ct(t,null,[{key:"compare",value:function(n,r){var i=t.comparePoints(n.point,r.point);return i!==0?i:(n.point!==r.point&&n.link(r),n.isLeft!==r.isLeft?n.isLeft?1:-1:Lo.compare(n.segment,r.segment))}},{key:"comparePoints",value:function(n,r){return n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0}}]);function t(e,n){oe(this,t),e.events===void 0?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=n}return Ct(t,[{key:"link",value:function(n){if(n.point===this.point)throw new Error("Tried to link already linked events");for(var r=n.point.events,i=0,o=r.length;i<o;i++){var a=r[i];this.point.events.push(a),a.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var n=this.point.events.length,r=0;r<n;r++){var i=this.point.events[r];if(i.segment.consumedBy===void 0)for(var o=r+1;o<n;o++){var a=this.point.events[o];a.consumedBy===void 0&&i.otherSE.point.events===a.otherSE.point.events&&i.segment.consume(a.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var n=[],r=0,i=this.point.events.length;r<i;r++){var o=this.point.events[r];o!==this&&!o.segment.ringOut&&o.segment.isInResult()&&n.push(o)}return n}},{key:"getLeftmostComparator",value:function(n){var r=this,i=new Map,o=function(s){var l=s.otherSE;i.set(s,{sine:px(r.point,n.point,l.point),cosine:dx(r.point,n.point,l.point)})};return function(a,s){i.has(a)||o(a),i.has(s)||o(s);var l=i.get(a),f=l.sine,u=l.cosine,c=i.get(s),h=c.sine,p=c.cosine;return f>=0&&h>=0?u<p?1:u>p?-1:0:f<0&&h<0?u<p?-1:u>p?1:0:h<f?-1:h>f?1:0}}}]),t}(),vx=0,Lo=function(){Ct(t,null,[{key:"compare",value:function(n,r){var i=n.leftSE.point.x,o=r.leftSE.point.x,a=n.rightSE.point.x,s=r.rightSE.point.x;if(s<i)return 1;if(a<o)return-1;var l=n.leftSE.point.y,f=r.leftSE.point.y,u=n.rightSE.point.y,c=r.rightSE.point.y;if(i<o){if(f<l&&f<u)return 1;if(f>l&&f>u)return-1;var h=n.comparePoint(r.leftSE.point);if(h<0)return 1;if(h>0)return-1;var p=r.comparePoint(n.rightSE.point);return p!==0?p:-1}if(i>o){if(l<f&&l<c)return-1;if(l>f&&l>c)return 1;var v=r.comparePoint(n.leftSE.point);if(v!==0)return v;var y=n.comparePoint(r.rightSE.point);return y<0?1:y>0?-1:1}if(l<f)return-1;if(l>f)return 1;if(a<s){var g=r.comparePoint(n.rightSE.point);if(g!==0)return g}if(a>s){var m=n.comparePoint(r.rightSE.point);if(m<0)return 1;if(m>0)return-1}if(a!==s){var w=u-l,_=a-i,d=c-f,S=s-o;if(w>_&&d<S)return 1;if(w<_&&d>S)return-1}return a>s?1:a<s||u<c?-1:u>c?1:n.id<r.id?-1:n.id>r.id?1:0}}]);function t(e,n,r,i){oe(this,t),this.id=++vx,this.leftSE=e,e.segment=this,e.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=e,this.rings=r,this.windings=i}return Ct(t,[{key:"replaceRightSE",value:function(n){this.rightSE=n,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var n=this.leftSE.point.y,r=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:n<r?n:r},ur:{x:this.rightSE.point.x,y:n>r?n:r}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(n){return n.x===this.leftSE.point.x&&n.y===this.leftSE.point.y||n.x===this.rightSE.point.x&&n.y===this.rightSE.point.y}},{key:"comparePoint",value:function(n){if(this.isAnEndpoint(n))return 0;var r=this.leftSE.point,i=this.rightSE.point,o=this.vector();if(r.x===i.x)return n.x===r.x?0:n.x<r.x?1:-1;var a=(n.y-r.y)/o.y,s=r.x+a*o.x;if(n.x===s)return 0;var l=(n.x-r.x)/o.x,f=r.y+l*o.y;return n.y===f?0:n.y<f?-1:1}},{key:"getIntersection",value:function(n){var r=this.bbox(),i=n.bbox(),o=vu(r,i);if(o===null)return null;var a=this.leftSE.point,s=this.rightSE.point,l=n.leftSE.point,f=n.rightSE.point,u=Ur(r,l)&&this.comparePoint(l)===0,c=Ur(i,a)&&n.comparePoint(a)===0,h=Ur(r,f)&&this.comparePoint(f)===0,p=Ur(i,s)&&n.comparePoint(s)===0;if(c&&u)return p&&!h?s:!p&&h?f:null;if(c)return h&&a.x===f.x&&a.y===f.y?null:a;if(u)return p&&s.x===l.x&&s.y===l.y?null:l;if(p&&h)return null;if(p)return s;if(h)return f;var v=gx(a,this.vector(),l,n.vector());return v===null||!Ur(o,v)?null:Hr.round(v.x,v.y)}},{key:"split",value:function(n){var r=[],i=n.events!==void 0,o=new Me(n,!0),a=new Me(n,!1),s=this.rightSE;this.replaceRightSE(a),r.push(a),r.push(o);var l=new t(o,s,this.rings.slice(),this.windings.slice());return Me.comparePoints(l.leftSE.point,l.rightSE.point)>0&&l.swapEvents(),Me.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),i&&(o.checkForConsuming(),a.checkForConsuming()),r}},{key:"swapEvents",value:function(){var n=this.rightSE;this.rightSE=this.leftSE,this.leftSE=n,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var r=0,i=this.windings.length;r<i;r++)this.windings[r]*=-1}},{key:"consume",value:function(n){for(var r=this,i=n;r.consumedBy;)r=r.consumedBy;for(;i.consumedBy;)i=i.consumedBy;var o=t.compare(r,i);if(o!==0){if(o>0){var a=r;r=i,i=a}if(r.prev===i){var s=r;r=i,i=s}for(var l=0,f=i.rings.length;l<f;l++){var u=i.rings[l],c=i.windings[l],h=r.rings.indexOf(u);h===-1?(r.rings.push(u),r.windings.push(c)):r.windings[h]+=c}i.rings=null,i.windings=null,i.consumedBy=r,i.leftSE.consumedBy=r.leftSE,i.rightSE.consumedBy=r.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{var n=this.prev.consumedBy||this.prev;this._beforeState=n.afterState()}return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var n=this.beforeState();this._afterState={rings:n.rings.slice(0),windings:n.windings.slice(0),multiPolys:[]};for(var r=this._afterState.rings,i=this._afterState.windings,o=this._afterState.multiPolys,a=0,s=this.rings.length;a<s;a++){var l=this.rings[a],f=this.windings[a],u=r.indexOf(l);u===-1?(r.push(l),i.push(f)):i[u]+=f}for(var c=[],h=[],p=0,v=r.length;p<v;p++)if(i[p]!==0){var y=r[p],g=y.poly;if(h.indexOf(g)===-1)if(y.isExterior)c.push(g);else{h.indexOf(g)===-1&&h.push(g);var m=c.indexOf(y.poly);m!==-1&&c.splice(m,1)}}for(var w=0,_=c.length;w<_;w++){var d=c[w].multiPoly;o.indexOf(d)===-1&&o.push(d)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var n=this.beforeState().multiPolys,r=this.afterState().multiPolys;switch(ge.type){case"union":{var i=n.length===0,o=r.length===0;this._isInResult=i!==o;break}case"intersection":{var a,s;n.length<r.length?(a=n.length,s=r.length):(a=r.length,s=n.length),this._isInResult=s===ge.numMultiPolys&&a<s;break}case"xor":{var l=Math.abs(n.length-r.length);this._isInResult=l%2==1;break}case"difference":{var f=function(c){return c.length===1&&c[0].isSubject};this._isInResult=f(n)!==f(r);break}default:throw new Error("Unrecognized operation type found ".concat(ge.type))}return this._isInResult}}],[{key:"fromRing",value:function(n,r,i){var o,a,s,l=Me.comparePoints(n,r);if(l<0)o=n,a=r,s=1;else if(l>0)o=r,a=n,s=-1;else throw new Error("Tried to create degenerate segment at [".concat(n.x,", ").concat(n.y,"]"));var f=new Me(o,!0),u=new Me(a,!1);return new t(f,u,[i],[s])}}]),t}(),Bh=function(){function t(e,n,r){if(oe(this,t),!Array.isArray(e)||e.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=r,this.segments=[],typeof e[0][0]!="number"||typeof e[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var i=Hr.round(e[0][0],e[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var o=i,a=1,s=e.length;a<s;a++){if(typeof e[a][0]!="number"||typeof e[a][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var l=Hr.round(e[a][0],e[a][1]);l.x===o.x&&l.y===o.y||(this.segments.push(Lo.fromRing(o,l,this)),l.x<this.bbox.ll.x&&(this.bbox.ll.x=l.x),l.y<this.bbox.ll.y&&(this.bbox.ll.y=l.y),l.x>this.bbox.ur.x&&(this.bbox.ur.x=l.x),l.y>this.bbox.ur.y&&(this.bbox.ur.y=l.y),o=l)}(i.x!==o.x||i.y!==o.y)&&this.segments.push(Lo.fromRing(o,i,this))}return Ct(t,[{key:"getSweepEvents",value:function(){for(var n=[],r=0,i=this.segments.length;r<i;r++){var o=this.segments[r];n.push(o.leftSE),n.push(o.rightSE)}return n}}]),t}(),mx=function(){function t(e,n){if(oe(this,t),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Bh(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var r=1,i=e.length;r<i;r++){var o=new Bh(e[r],this,!1);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.interiorRings.push(o)}this.multiPoly=n}return Ct(t,[{key:"getSweepEvents",value:function(){for(var n=this.exteriorRing.getSweepEvents(),r=0,i=this.interiorRings.length;r<i;r++)for(var o=this.interiorRings[r].getSweepEvents(),a=0,s=o.length;a<s;a++)n.push(o[a]);return n}}]),t}(),Fh=function(){function t(e,n){if(oe(this,t),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof e[0][0][0]=="number"&&(e=[e])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var r=0,i=e.length;r<i;r++){var o=new mx(e[r],this);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.polys.push(o)}this.isSubject=n}return Ct(t,[{key:"getSweepEvents",value:function(){for(var n=[],r=0,i=this.polys.length;r<i;r++)for(var o=this.polys[r].getSweepEvents(),a=0,s=o.length;a<s;a++)n.push(o[a]);return n}}]),t}(),yx=function(){Ct(t,null,[{key:"factory",value:function(n){for(var r=[],i=0,o=n.length;i<o;i++){var a=n[i];if(!(!a.isInResult()||a.ringOut)){for(var s=null,l=a.leftSE,f=a.rightSE,u=[l],c=l.point,h=[];s=l,l=f,u.push(l),l.point!==c;)for(;;){var p=l.getAvailableLinkedEvents();if(p.length===0){var v=u[0].point,y=u[u.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(v.x,",")+" ".concat(v.y,"]. Last matching segment found ends at")+" [".concat(y.x,", ").concat(y.y,"]."))}if(p.length===1){f=p[0].otherSE;break}for(var g=null,m=0,w=h.length;m<w;m++)if(h[m].point===l.point){g=m;break}if(g!==null){var _=h.splice(g)[0],d=u.splice(_.index);d.unshift(d[0].otherSE),r.push(new t(d.reverse()));continue}h.push({index:u.length,point:l.point});var S=l.getLeftmostComparator(s);f=p.sort(S)[0].otherSE;break}r.push(new t(u))}}return r}}]);function t(e){oe(this,t),this.events=e;for(var n=0,r=e.length;n<r;n++)e[n].segment.ringOut=this;this.poly=null}return Ct(t,[{key:"getGeom",value:function(){for(var n=this.events[0].point,r=[n],i=1,o=this.events.length-1;i<o;i++){var a=this.events[i].point,s=this.events[i+1].point;Nh(a,n,s)!==0&&(r.push(a),n=a)}if(r.length===1)return null;var l=r[0],f=r[1];Nh(l,n,f)===0&&r.shift(),r.push(r[0]);for(var u=this.isExteriorRing()?1:-1,c=this.isExteriorRing()?0:r.length-1,h=this.isExteriorRing()?r.length:-1,p=[],v=c;v!=h;v+=u)p.push([r[v].x,r[v].y]);return p}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var n=this.enclosingRing();this._isExteriorRing=n?!n.isExteriorRing():!0}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var n=this.events[0],r=1,i=this.events.length;r<i;r++){var o=this.events[r];Me.compare(n,o)>0&&(n=o)}for(var a=n.segment.prevInResult(),s=a?a.prevInResult():null;;){if(!a)return null;if(!s)return a.ringOut;if(s.ringOut!==a.ringOut)return s.ringOut.enclosingRing()!==a.ringOut?a.ringOut:a.ringOut.enclosingRing();a=s.prevInResult(),s=a?a.prevInResult():null}}}]),t}(),qh=function(){function t(e){oe(this,t),this.exteriorRing=e,e.poly=this,this.interiorRings=[]}return Ct(t,[{key:"addInterior",value:function(n){this.interiorRings.push(n),n.poly=this}},{key:"getGeom",value:function(){var n=[this.exteriorRing.getGeom()];if(n[0]===null)return null;for(var r=0,i=this.interiorRings.length;r<i;r++){var o=this.interiorRings[r].getGeom();o!==null&&n.push(o)}return n}}]),t}(),wx=function(){function t(e){oe(this,t),this.rings=e,this.polys=this._composePolys(e)}return Ct(t,[{key:"getGeom",value:function(){for(var n=[],r=0,i=this.polys.length;r<i;r++){var o=this.polys[r].getGeom();o!==null&&n.push(o)}return n}},{key:"_composePolys",value:function(n){for(var r=[],i=0,o=n.length;i<o;i++){var a=n[i];if(!a.poly)if(a.isExteriorRing())r.push(new qh(a));else{var s=a.enclosingRing();s.poly||r.push(new qh(s)),s.poly.addInterior(a)}}return r}}]),t}(),xx=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lo.compare;oe(this,t),this.queue=e,this.tree=new hu(n),this.segments=[]}return Ct(t,[{key:"process",value:function(n){var r=n.segment,i=[];if(n.consumedBy)return n.isLeft?this.queue.remove(n.otherSE):this.tree.remove(r),i;var o=n.isLeft?this.tree.insert(r):this.tree.find(r);if(!o)throw new Error("Unable to find segment #".concat(r.id," ")+"[".concat(r.leftSE.point.x,", ").concat(r.leftSE.point.y,"] -> ")+"[".concat(r.rightSE.point.x,", ").concat(r.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var a=o,s=o,l=void 0,f=void 0;l===void 0;)a=this.tree.prev(a),a===null?l=null:a.key.consumedBy===void 0&&(l=a.key);for(;f===void 0;)s=this.tree.next(s),s===null?f=null:s.key.consumedBy===void 0&&(f=s.key);if(n.isLeft){var u=null;if(l){var c=l.getIntersection(r);if(c!==null&&(r.isAnEndpoint(c)||(u=c),!l.isAnEndpoint(c)))for(var h=this._splitSafely(l,c),p=0,v=h.length;p<v;p++)i.push(h[p])}var y=null;if(f){var g=f.getIntersection(r);if(g!==null&&(r.isAnEndpoint(g)||(y=g),!f.isAnEndpoint(g)))for(var m=this._splitSafely(f,g),w=0,_=m.length;w<_;w++)i.push(m[w])}if(u!==null||y!==null){var d=null;if(u===null)d=y;else if(y===null)d=u;else{var S=Me.comparePoints(u,y);d=S<=0?u:y}this.queue.remove(r.rightSE),i.push(r.rightSE);for(var b=r.split(d),A=0,M=b.length;A<M;A++)i.push(b[A])}i.length>0?(this.tree.remove(r),i.push(n)):(this.segments.push(r),r.prev=l)}else{if(l&&f){var P=l.getIntersection(f);if(P!==null){if(!l.isAnEndpoint(P))for(var R=this._splitSafely(l,P),$=0,D=R.length;$<D;$++)i.push(R[$]);if(!f.isAnEndpoint(P))for(var C=this._splitSafely(f,P),E=0,x=C.length;E<x;E++)i.push(C[E])}}this.tree.remove(r)}return i}},{key:"_splitSafely",value:function(n,r){this.tree.remove(n);var i=n.rightSE;this.queue.remove(i);var o=n.split(r);return o.push(i),n.consumedBy===void 0&&this.tree.insert(n),o}}]),t}(),Vh=typeof process!="undefined"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,_x=typeof process!="undefined"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,bx=function(){function t(){oe(this,t)}return Ct(t,[{key:"run",value:function(n,r,i){ge.type=n,Hr.reset();for(var o=[new Fh(r,!0)],a=0,s=i.length;a<s;a++)o.push(new Fh(i[a],!1));if(ge.numMultiPolys=o.length,ge.type==="difference")for(var l=o[0],f=1;f<o.length;)vu(o[f].bbox,l.bbox)!==null?f++:o.splice(f,1);if(ge.type==="intersection"){for(var u=0,c=o.length;u<c;u++)for(var h=o[u],p=u+1,v=o.length;p<v;p++)if(vu(h.bbox,o[p].bbox)===null)return[]}for(var y=new hu(Me.compare),g=0,m=o.length;g<m;g++)for(var w=o[g].getSweepEvents(),_=0,d=w.length;_<d;_++)if(y.insert(w[_]),y.size>Vh)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var S=new xx(y),b=y.size,A=y.pop();A;){var M=A.key;if(y.size===b){var P=M.segment;throw new Error("Unable to pop() ".concat(M.isLeft?"left":"right"," SweepEvent ")+"[".concat(M.point.x,", ").concat(M.point.y,"] from segment #").concat(P.id," ")+"[".concat(P.leftSE.point.x,", ").concat(P.leftSE.point.y,"] -> ")+"[".concat(P.rightSE.point.x,", ").concat(P.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(y.size>Vh)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(S.segments.length>_x)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var R=S.process(M),$=0,D=R.length;$<D;$++){var C=R[$];C.consumedBy===void 0&&y.insert(C)}b=y.size,A=y.pop()}Hr.reset();var E=yx.factory(S.segments),x=new wx(E);return x.getGeom()}}]),t}(),ge=new bx,Ex=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ge.run("union",e,r)},Sx=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ge.run("intersection",e,r)},kx=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ge.run("xor",e,r)},$x=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ge.run("difference",e,r)},gb={union:Ex,intersection:Sx,xor:kx,difference:$x};function Mx(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Xh(t);case"FeatureCollection":return Ax(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return yu(t);default:throw new Error("unknown GeoJSON type")}}function Xh(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=Yh(t.properties),e.geometry=yu(t.geometry),e}function Yh(t){var e={};return t&&Object.keys(t).forEach(function(n){var r=t[n];typeof r=="object"?r===null?e[n]=null:Array.isArray(r)?e[n]=r.map(function(i){return i}):e[n]=Yh(r):e[n]=r}),e}function Ax(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(n){return Xh(n)}),e}function yu(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),t.type==="GeometryCollection"?(e.geometries=t.geometries.map(function(n){return yu(n)}),e):(e.coordinates=Uh(t.coordinates),e)}function Uh(t){var e=t;return typeof e[0]!="object"?e.slice():e.map(function(n){return Uh(n)})}function Px(t,e){e===void 0&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function Rx(t){return!!t&&t.constructor===Object}function Wr(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function wu(t){for(var e=Wr(t),n=0,r=1,i,o;r<e.length;)i=o||e[0],o=e[r],n+=(o[0]-i[0])*(o[1]+i[1]),r++;return n>0}function Hh(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var n=0;n<t.features.length&&e(t.features[n],n)!==!1;n++);}function Gh(t,e){var n,r,i,o,a,s,l,f,u,c,h=0,p=t.type==="FeatureCollection",v=t.type==="Feature",y=p?t.features.length:1;for(n=0;n<y;n++){for(s=p?t.features[n].geometry:v?t.geometry:t,f=p?t.features[n].properties:v?t.properties:{},u=p?t.features[n].bbox:v?t.bbox:void 0,c=p?t.features[n].id:v?t.id:void 0,l=s?s.type==="GeometryCollection":!1,a=l?s.geometries.length:1,i=0;i<a;i++){if(o=l?s.geometries[i]:s,o===null){if(e(null,h,f,u,c)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(o,h,f,u,c)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<o.geometries.length;r++)if(e(o.geometries[r],h,f,u,c)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}h++}}function vb(t,e){if(e=e||{},!Rx(e))throw new Error("options is invalid");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if(typeof n!="boolean")throw new Error("<reverse> must be a boolean");if(typeof r!="boolean")throw new Error("<mutate> must be a boolean");r===!1&&(t=Mx(t));var i=[];switch(t.type){case"GeometryCollection":return Gh(t,function(o){Do(o,n)}),t;case"FeatureCollection":return Hh(t,function(o){Hh(Do(o,n),function(a){i.push(a)})}),Px(i)}return Do(t,n)}function Do(t,e){var n=t.type==="Feature"?t.geometry.type:t.type;switch(n){case"GeometryCollection":return Gh(t,function(r){Do(r,e)}),t;case"LineString":return Wh(Wr(t),e),t;case"Polygon":return Zh(Wr(t),e),t;case"MultiLineString":return Wr(t).forEach(function(r){Wh(r,e)}),t;case"MultiPolygon":return Wr(t).forEach(function(r){Zh(r,e)}),t;case"Point":case"MultiPoint":return t}}function Wh(t,e){wu(t)===e&&t.reverse()}function Zh(t,e){wu(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)wu(t[n])===e&&t[n].reverse()}var Tx=Array.prototype,Ox=Tx.slice;function Cx(t,e){return t-e}function zx(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}var Qh=t=>()=>t;function Ix(t,e){for(var n=-1,r=e.length,i;++n<r;)if(i=Nx(t,e[n]))return i;return 0}function Nx(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var l=t[o],f=l[0],u=l[1],c=t[s],h=c[0],p=c[1];if(Lx(l,c,e))return 0;u>r!=p>r&&n<(h-f)*(r-u)/(p-u)+f&&(i=-i)}return i}function Lx(t,e,n){var r;return Dx(t,e,n)&&Bx(t[r=+(t[0]===e[0])],n[r],e[r])}function Dx(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}function Bx(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function Fx(){}var Xe=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function mb(){var t=1,e=1,n=a1,r=l;function i(f){var u=n(f);if(Array.isArray(u))u=u.slice().sort(Cx);else{const c=e1(f),h=o1(c[0],c[1],u);u=r1(Math.floor(c[0]/h)*h,Math.floor(c[1]/h-1)*h,u)}return u.map(c=>o(f,c))}function o(f,u){var c=[],h=[];return a(f,u,function(p){r(p,f,u),zx(p)>0?c.push([p]):h.push(p)}),h.forEach(function(p){for(var v=0,y=c.length,g;v<y;++v)if(Ix((g=c[v])[0],p)!==-1){g.push(p);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function a(f,u,c){var h=new Array,p=new Array,v,y,g,m,w,_;for(v=y=-1,m=f[0]>=u,Xe[m<<1].forEach(d);++v<t-1;)g=m,m=f[v+1]>=u,Xe[g|m<<1].forEach(d);for(Xe[m<<0].forEach(d);++y<e-1;){for(v=-1,m=f[y*t+t]>=u,w=f[y*t]>=u,Xe[m<<1|w<<2].forEach(d);++v<t-1;)g=m,m=f[y*t+t+v+1]>=u,_=w,w=f[y*t+v+1]>=u,Xe[g|m<<1|w<<2|_<<3].forEach(d);Xe[m|w<<3].forEach(d)}for(v=-1,w=f[y*t]>=u,Xe[w<<2].forEach(d);++v<t-1;)_=w,w=f[y*t+v+1]>=u,Xe[w<<2|_<<3].forEach(d);Xe[w<<3].forEach(d);function d(S){var b=[S[0][0]+v,S[0][1]+y],A=[S[1][0]+v,S[1][1]+y],M=s(b),P=s(A),R,$;(R=p[M])?($=h[P])?(delete p[R.end],delete h[$.start],R===$?(R.ring.push(A),c(R.ring)):h[R.start]=p[$.end]={start:R.start,end:$.end,ring:R.ring.concat($.ring)}):(delete p[R.end],R.ring.push(A),p[R.end=P]=R):(R=h[P])?($=p[M])?(delete h[R.start],delete p[$.end],R===$?(R.ring.push(A),c(R.ring)):h[$.start]=p[R.end]={start:$.start,end:R.end,ring:$.ring.concat(R.ring)}):(delete h[R.start],R.ring.unshift(b),h[R.start=M]=R):h[M]=p[P]={start:M,end:P,ring:[b,A]}}}function s(f){return f[0]*2+f[1]*(t+1)*4}function l(f,u,c){f.forEach(function(h){var p=h[0],v=h[1],y=p|0,g=v|0,m,w=u[g*t+y];p>0&&p<t&&y===p&&(m=u[g*t+y-1],h[0]=p+(c-m)/(w-m)-.5),v>0&&v<e&&g===v&&(m=u[(g-1)*t+y],h[1]=v+(c-m)/(w-m)-.5)})}return i.contour=o,i.size=function(f){if(!arguments.length)return[t,e];var u=Math.floor(f[0]),c=Math.floor(f[1]);if(!(u>=0&&c>=0))throw new Error("invalid size");return t=u,e=c,i},i.thresholds=function(f){return arguments.length?(n=typeof f=="function"?f:Array.isArray(f)?Qh(Ox.call(f)):Qh(f),i):n},i.smooth=function(f){return arguments.length?(r=f?l:Fx,i):r===l},i}function Kh(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Jn=Kh();function qx(t){Jn=t}const Vx=/[&<>"']/,Xx=/[&<>"']/g,Yx=/[<>"']|&(?!#?\w+;)/,Ux=/[<>"']|&(?!#?\w+;)/g,Hx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jh=t=>Hx[t];function _t(t,e){if(e){if(Vx.test(t))return t.replace(Xx,Jh)}else if(Yx.test(t))return t.replace(Ux,Jh);return t}const Gx=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function jh(t){return t.replace(Gx,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const Wx=/(^|[^\[])\^/g;function at(t,e){t=t.source||t,e=e||"";const n={replace:(r,i)=>(i=i.source||i,i=i.replace(Wx,"$1"),t=t.replace(r,i),n),getRegex:()=>new RegExp(t,e)};return n}const Zx=/[^\w:]/g,Qx=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function tp(t,e,n){if(t){let r;try{r=decodeURIComponent(jh(n)).replace(Zx,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!Qx.test(n)&&(n=t_(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Bo={},Kx=/^[^:]+:\/*[^/]*$/,Jx=/^([^:]+:)[\s\S]*$/,jx=/^([^:]+:\/*[^/]*)[\s\S]*$/;function t_(t,e){Bo[" "+t]||(Kx.test(t)?Bo[" "+t]=t+"/":Bo[" "+t]=qo(t,"/",!0)),t=Bo[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(Jx,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(jx,"$1")+e:t+e}const Fo={exec:function(){}};function ve(t){let e=1,n,r;for(;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}function ep(t,e){const n=t.replace(/\|/g,(o,a,s)=>{let l=!1,f=a;for(;--f>=0&&s[f]==="\\";)l=!l;return l?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r[r.length-1].trim()||r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function qo(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r;){const o=t.charAt(r-i-1);if(o===e&&!n)i++;else if(o!==e&&n)i++;else break}return t.substr(0,r-i)}function e_(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}function np(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function rp(t,e){if(e<1)return"";let n="";for(;e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function ip(t,e,n,r){const i=e.href,o=e.title?_t(e.title):null,a=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const s={type:"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a,[])};return r.state.inLink=!1,s}else return{type:"image",raw:n,href:i,title:o,text:_t(a)}}function n_(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const o=i.match(/^\s+/);if(o===null)return i;const[a]=o;return a.length>=r.length?i.slice(r.length):i}).join(`
`)}class xu{constructor(e){this.options=e||Jn}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:qo(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=n_(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim():n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const o=qo(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}const i={type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const r=n[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:n[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,i,o,a,s,l,f,u,c,h,p,v,y=n[1].trim();const g=y.length>1,m={type:"list",raw:"",ordered:g,start:g?+y.slice(0,-1):"",loose:!1,items:[]};y=g?`\\d{1,9}\\${y.slice(-1)}`:`\\${y}`,this.options.pedantic&&(y=g?y:"[*+-]");const w=new RegExp(`^( {0,3}${y})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(v=!1,!(!(n=w.exec(e))||this.rules.block.hr.test(e)));){if(r=n[0],e=e.substring(r.length),u=n[2].split(`
`,1)[0],c=e.split(`
`,1)[0],this.options.pedantic?(a=2,p=u.trimLeft()):(a=n[2].search(/[^ ]/),a=a>4?1:a,p=u.slice(a),a+=n[1].length),l=!1,!u&&/^ *$/.test(c)&&(r+=c+`
`,e=e.substring(c.length+1),v=!0),!v){const d=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(h=e.split(`
`,1)[0],u=h,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!d.test(u));){if(u.search(/[^ ]/)>=a||!u.trim())p+=`
`+u.slice(a);else if(!l)p+=`
`+u;else break;!l&&!u.trim()&&(l=!0),r+=h+`
`,e=e.substring(h.length+1)}}m.loose||(f?m.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(p),i&&(o=i[0]!=="[ ] ",p=p.replace(/^\[[ xX]\] +/,""))),m.items.push({type:"list_item",raw:r,task:!!i,checked:o,loose:!1,text:p}),m.raw+=r}m.items[m.items.length-1].raw=r.trimRight(),m.items[m.items.length-1].text=p.trimRight(),m.raw=m.raw.trimRight();const _=m.items.length;for(s=0;s<_;s++){this.lexer.state.top=!1,m.items[s].tokens=this.lexer.blockTokens(m.items[s].text,[]);const d=m.items[s].tokens.filter(b=>b.type==="space"),S=d.every(b=>{const A=b.raw.split("");let M=0;for(const P of A)if(P===`
`&&(M+=1),M>1)return!0;return!1});!m.loose&&d.length&&S&&(m.loose=!0,m.items[s].loose=!0)}return m}}html(e){const n=this.rules.block.html.exec(e);if(n){const r={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};return this.options.sanitize&&(r.type="paragraph",r.text=this.options.sanitizer?this.options.sanitizer(n[0]):_t(n[0]),r.tokens=[],this.lexer.inline(r.text,r.tokens)),r}}def(e){const n=this.rules.block.def.exec(e);if(n){n[3]&&(n[3]=n[3].substring(1,n[3].length-1));const r=n[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:r,raw:n[0],href:n[2],title:n[3]}}}table(e){const n=this.rules.block.table.exec(e);if(n){const r={type:"table",header:ep(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let i=r.align.length,o,a,s,l;for(o=0;o<i;o++)/^ *-+: *$/.test(r.align[o])?r.align[o]="right":/^ *:-+: *$/.test(r.align[o])?r.align[o]="center":/^ *:-+ *$/.test(r.align[o])?r.align[o]="left":r.align[o]=null;for(i=r.rows.length,o=0;o<i;o++)r.rows[o]=ep(r.rows[o],r.header.length).map(f=>({text:f}));for(i=r.header.length,a=0;a<i;a++)r.header[a].tokens=[],this.lexer.inlineTokens(r.header[a].text,r.header[a].tokens);for(i=r.rows.length,a=0;a<i;a++)for(l=r.rows[a],s=0;s<l.length;s++)l[s].tokens=[],this.lexer.inlineTokens(l[s].text,l[s].tokens);return r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n){const r={type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r={type:"paragraph",raw:n[0],text:n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}text(e){const n=this.rules.block.text.exec(e);if(n){const r={type:"text",raw:n[0],text:n[0],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:_t(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):_t(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const a=qo(r.slice(0,-1),"\\");if((r.length-a.length)%2==0)return}else{const a=e_(n[2],"()");if(a>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let i=n[2],o="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);a&&(i=a[1],o=a[3])}else o=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),ip(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i||!i.href){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return ip(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;const o=i[1]||i[2]||"";if(!o||o&&(r===""||this.rules.inline.punctuation.exec(r))){const a=i[0].length-1;let s,l,f=a,u=0;const c=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,n=n.slice(-1*e.length+a);(i=c.exec(n))!=null;){if(s=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!s)continue;if(l=s.length,i[3]||i[4]){f+=l;continue}else if((i[5]||i[6])&&a%3&&!((a+l)%3)){u+=l;continue}if(f-=l,f>0)continue;if(l=Math.min(l,l+f+u),Math.min(a,l)%2){const p=e.slice(1,a+i.index+l);return{type:"em",raw:e.slice(0,a+i.index+l+1),text:p,tokens:this.lexer.inlineTokens(p,[])}}const h=e.slice(2,a+i.index+l-1);return{type:"strong",raw:e.slice(0,a+i.index+l+1),text:h,tokens:this.lexer.inlineTokens(h,[])}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),o=/^ /.test(r)&&/ $/.test(r);return i&&o&&(r=r.substring(1,r.length-1)),r=_t(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2],[])}}autolink(e,n){const r=this.rules.inline.autolink.exec(e);if(r){let i,o;return r[2]==="@"?(i=_t(this.options.mangle?n(r[1]):r[1]),o="mailto:"+i):(i=_t(r[1]),o=i),{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let i,o;if(r[2]==="@")i=_t(this.options.mangle?n(r[0]):r[0]),o="mailto:"+i;else{let a;do a=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(a!==r[0]);i=_t(r[0]),r[1]==="www."?o="http://"+i:o=i}return{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){const r=this.rules.inline.text.exec(e);if(r){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):_t(r[0]):r[0]:i=_t(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const X={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Fo,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};X._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;X._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;X.def=at(X.def).replace("label",X._label).replace("title",X._title).getRegex();X.bullet=/(?:[*+-]|\d{1,9}[.)])/;X.listItemStart=at(/^( *)(bull) */).replace("bull",X.bullet).getRegex();X.list=at(X.list).replace(/bull/g,X.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+X.def.source+")").getRegex();X._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";X._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;X.html=at(X.html,"i").replace("comment",X._comment).replace("tag",X._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();X.paragraph=at(X._paragraph).replace("hr",X.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",X._tag).getRegex();X.blockquote=at(X.blockquote).replace("paragraph",X.paragraph).getRegex();X.normal=ve({},X);X.gfm=ve({},X.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});X.gfm.table=at(X.gfm.table).replace("hr",X.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",X._tag).getRegex();X.gfm.paragraph=at(X._paragraph).replace("hr",X.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",X.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",X._tag).getRegex();X.pedantic=ve({},X.normal,{html:at(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",X._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Fo,paragraph:at(X.normal._paragraph).replace("hr",X.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",X.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const F={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Fo,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Fo,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};F._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";F.punctuation=at(F.punctuation).replace(/punctuation/g,F._punctuation).getRegex();F.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;F.escapedEmSt=/\\\*|\\_/g;F._comment=at(X._comment).replace("(?:-->|$)","-->").getRegex();F.emStrong.lDelim=at(F.emStrong.lDelim).replace(/punct/g,F._punctuation).getRegex();F.emStrong.rDelimAst=at(F.emStrong.rDelimAst,"g").replace(/punct/g,F._punctuation).getRegex();F.emStrong.rDelimUnd=at(F.emStrong.rDelimUnd,"g").replace(/punct/g,F._punctuation).getRegex();F._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;F._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;F._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;F.autolink=at(F.autolink).replace("scheme",F._scheme).replace("email",F._email).getRegex();F._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;F.tag=at(F.tag).replace("comment",F._comment).replace("attribute",F._attribute).getRegex();F._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;F._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;F._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;F.link=at(F.link).replace("label",F._label).replace("href",F._href).replace("title",F._title).getRegex();F.reflink=at(F.reflink).replace("label",F._label).replace("ref",X._label).getRegex();F.nolink=at(F.nolink).replace("ref",X._label).getRegex();F.reflinkSearch=at(F.reflinkSearch,"g").replace("reflink",F.reflink).replace("nolink",F.nolink).getRegex();F.normal=ve({},F);F.pedantic=ve({},F.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:at(/^!?\[(label)\]\((.*?)\)/).replace("label",F._label).getRegex(),reflink:at(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",F._label).getRegex()});F.gfm=ve({},F.normal,{escape:at(F.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});F.gfm.url=at(F.gfm.url,"i").replace("email",F.gfm._extended_email).getRegex();F.breaks=ve({},F.gfm,{br:at(F.br).replace("{2,}","*").getRegex(),text:at(F.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function r_(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function op(t){let e="",n,r;const i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}class Ye{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Jn,this.options.tokenizer=this.options.tokenizer||new xu,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:X.normal,inline:F.normal};this.options.pedantic?(n.block=X.pedantic,n.inline=F.pedantic):this.options.gfm&&(n.block=X.gfm,this.options.breaks?n.inline=F.breaks:n.inline=F.gfm),this.tokenizer.rules=n}static get rules(){return{block:X,inline:F}}static lex(e,n){return new Ye(n).lex(e)}static lexInline(e,n){return new Ye(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let r,i,o,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(s=>(r=s.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let s=1/0;const l=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(u){f=u.call({lexer:this},l),typeof f=="number"&&f>=0&&(s=Math.min(s,f))}),s<1/0&&s>=0&&(o=e.substring(0,s+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){i=n[n.length-1],a&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),a=o.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,n}inline(e,n){this.inlineQueue.push({src:e,tokens:n})}inlineTokens(e,n=[]){let r,i,o,a=e,s,l,f;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,s.index)+"["+rp("a",s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,s.index)+"["+rp("a",s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.escapedEmSt.exec(a))!=null;)a=a.slice(0,s.index)+"++"+a.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(l||(f=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(r=u.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,a,f)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,op)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,op))){e=e.substring(r.raw.length),n.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const c=e.slice(1);let h;this.options.extensions.startInline.forEach(function(p){h=p.call({lexer:this},c),typeof h=="number"&&h>=0&&(u=Math.min(u,h))}),u<1/0&&u>=0&&(o=e.substring(0,u+1))}if(r=this.tokenizer.inlineText(o,r_)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(f=r.raw.slice(-1)),l=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}}class _u{constructor(e){this.options=e||Jn}code(e,n,r){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const o=this.options.highlight(e,i);o!=null&&o!==e&&(r=!0,e=o)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+_t(i,!0)+'">'+(r?e:_t(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:_t(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,n,r,i){return this.options.headerIds?"<h"+n+' id="'+this.options.headerPrefix+i.slug(r)+'">'+e+"</h"+n+`>
`:"<h"+n+">"+e+"</h"+n+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,r){const i=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+i+o+`>
`+e+"</"+i+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,n){return n&&(n="<tbody>"+n+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?"<"+r+' align="'+n.align+'">':"<"+r+">")+e+"</"+r+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,n,r){if(e=tp(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i='<a href="'+_t(e)+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){if(e=tp(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i='<img src="'+e+'" alt="'+r+'"';return n&&(i+=' title="'+n+'"'),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class ap{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class sp{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do i++,r=e+"-"+i;while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=i,this.seen[r]=0),r}slug(e,n={}){const r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}}class Ue{constructor(e){this.options=e||Jn,this.options.renderer=this.options.renderer||new _u,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ap,this.slugger=new sp}static parse(e,n){return new Ue(n).parse(e)}static parseInline(e,n){return new Ue(n).parseInline(e)}parse(e,n=!0){let r="",i,o,a,s,l,f,u,c,h,p,v,y,g,m,w,_,d,S,b;const A=e.length;for(i=0;i<A;i++){if(p=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[p.type]&&(b=this.options.extensions.renderers[p.type].call({parser:this},p),b!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(p.type))){r+=b||"";continue}switch(p.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(p.tokens),p.depth,jh(this.parseInline(p.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(p.text,p.lang,p.escaped);continue}case"table":{for(c="",u="",s=p.header.length,o=0;o<s;o++)u+=this.renderer.tablecell(this.parseInline(p.header[o].tokens),{header:!0,align:p.align[o]});for(c+=this.renderer.tablerow(u),h="",s=p.rows.length,o=0;o<s;o++){for(f=p.rows[o],u="",l=f.length,a=0;a<l;a++)u+=this.renderer.tablecell(this.parseInline(f[a].tokens),{header:!1,align:p.align[a]});h+=this.renderer.tablerow(u)}r+=this.renderer.table(c,h);continue}case"blockquote":{h=this.parse(p.tokens),r+=this.renderer.blockquote(h);continue}case"list":{for(v=p.ordered,y=p.start,g=p.loose,s=p.items.length,h="",o=0;o<s;o++)w=p.items[o],_=w.checked,d=w.task,m="",w.task&&(S=this.renderer.checkbox(_),g?w.tokens.length>0&&w.tokens[0].type==="paragraph"?(w.tokens[0].text=S+" "+w.tokens[0].text,w.tokens[0].tokens&&w.tokens[0].tokens.length>0&&w.tokens[0].tokens[0].type==="text"&&(w.tokens[0].tokens[0].text=S+" "+w.tokens[0].tokens[0].text)):w.tokens.unshift({type:"text",text:S}):m+=S),m+=this.parse(w.tokens,g),h+=this.renderer.listitem(m,d,_);r+=this.renderer.list(h,v,y);continue}case"html":{r+=this.renderer.html(p.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(p.tokens));continue}case"text":{for(h=p.tokens?this.parseInline(p.tokens):p.text;i+1<A&&e[i+1].type==="text";)p=e[++i],h+=`
`+(p.tokens?this.parseInline(p.tokens):p.text);r+=n?this.renderer.paragraph(h):h;continue}default:{const M='Token with "'+p.type+'" type was not found.';if(this.options.silent){console.error(M);return}else throw new Error(M)}}}return r}parseInline(e,n){n=n||this.renderer;let r="",i,o,a;const s=e.length;for(i=0;i<s;i++){if(o=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(a=this.options.extensions.renderers[o.type].call({parser:this},o),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type))){r+=a||"";continue}switch(o.type){case"escape":{r+=n.text(o.text);break}case"html":{r+=n.html(o.text);break}case"link":{r+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break}case"image":{r+=n.image(o.href,o.title,o.text);break}case"strong":{r+=n.strong(this.parseInline(o.tokens,n));break}case"em":{r+=n.em(this.parseInline(o.tokens,n));break}case"codespan":{r+=n.codespan(o.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(o.tokens,n));break}case"text":{r+=n.text(o.text);break}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return r}}function K(t,e,n){if(typeof t=="undefined"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(n=e,e=null),e=ve({},K.defaults,e||{}),np(e),n){const r=e.highlight;let i;try{i=Ye.lex(t,e)}catch(s){return n(s)}const o=function(s){let l;if(!s)try{e.walkTokens&&K.walkTokens(i,e.walkTokens),l=Ue.parse(i,e)}catch(f){s=f}return e.highlight=r,s?n(s):n(null,l)};if(!r||r.length<3||(delete e.highlight,!i.length))return o();let a=0;K.walkTokens(i,function(s){s.type==="code"&&(a++,setTimeout(()=>{r(s.text,s.lang,function(l,f){if(l)return o(l);f!=null&&f!==s.text&&(s.text=f,s.escaped=!0),a--,a===0&&o()})},0))}),a===0&&o();return}try{const r=Ye.lex(t,e);return e.walkTokens&&K.walkTokens(r,e.walkTokens),Ue.parse(r,e)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+_t(r.message+"",!0)+"</pre>";throw r}}K.options=K.setOptions=function(t){return ve(K.defaults,t),qx(K.defaults),K};K.getDefaults=Kh;K.defaults=Jn;K.use=function(...t){const e=ve({},...t),n=K.defaults.extensions||{renderers:{},childTokens:{}};let r;t.forEach(i=>{if(i.extensions&&(r=!0,i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const a=n.renderers?n.renderers[o.name]:null;a?n.renderers[o.name]=function(...s){let l=o.renderer.apply(this,s);return l===!1&&(l=a.apply(this,s)),l}:n.renderers[o.name]=o.renderer}if(o.tokenizer){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[o.level]?n[o.level].unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&(o.level==="block"?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:o.level==="inline"&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}o.childTokens&&(n.childTokens[o.name]=o.childTokens)})),i.renderer){const o=K.defaults.renderer||new _u;for(const a in i.renderer){const s=o[a];o[a]=(...l)=>{let f=i.renderer[a].apply(o,l);return f===!1&&(f=s.apply(o,l)),f}}e.renderer=o}if(i.tokenizer){const o=K.defaults.tokenizer||new xu;for(const a in i.tokenizer){const s=o[a];o[a]=(...l)=>{let f=i.tokenizer[a].apply(o,l);return f===!1&&(f=s.apply(o,l)),f}}e.tokenizer=o}if(i.walkTokens){const o=K.defaults.walkTokens;e.walkTokens=function(a){i.walkTokens.call(this,a),o&&o.call(this,a)}}r&&(e.extensions=n),K.setOptions(e)})};K.walkTokens=function(t,e){for(const n of t)switch(e.call(K,n),n.type){case"table":{for(const r of n.header)K.walkTokens(r.tokens,e);for(const r of n.rows)for(const i of r)K.walkTokens(i.tokens,e);break}case"list":{K.walkTokens(n.items,e);break}default:K.defaults.extensions&&K.defaults.extensions.childTokens&&K.defaults.extensions.childTokens[n.type]?K.defaults.extensions.childTokens[n.type].forEach(function(r){K.walkTokens(n[r],e)}):n.tokens&&K.walkTokens(n.tokens,e)}};K.parseInline=function(t,e){if(typeof t=="undefined"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=ve({},K.defaults,e||{}),np(e);try{const n=Ye.lexInline(t,e);return e.walkTokens&&K.walkTokens(n,e.walkTokens),Ue.parseInline(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+_t(n.message+"",!0)+"</pre>";throw n}};K.Parser=Ue;K.parser=Ue.parse;K.Renderer=_u;K.TextRenderer=ap;K.Lexer=Ye;K.lexer=Ye.lex;K.Tokenizer=xu;K.Slugger=sp;K.parse=K;Ue.parse;Ye.lex;export{j_ as $,o_ as A,f_ as B,E_ as C,i_ as D,a_ as E,y_ as F,O_ as G,F_ as H,g_ as I,u_ as J,l_ as K,s_ as L,P_ as M,R_ as N,mi as O,q_ as P,k_ as Q,Yo as R,N_ as S,A_ as T,__ as U,Iu as V,C_ as W,G_ as X,nb as Y,Q_ as Z,K_ as _,d_ as a,W_ as a0,tb as a1,J_ as a2,rb as a3,U_ as a4,H_ as a5,eb as a6,Y_ as a7,ob as a8,db as a9,$_ as aA,S_ as aB,gb as aa,vb as ab,pb as ac,hb as ad,rs as ae,ib as af,p_ as ag,v_ as ah,cb as ai,fb as aj,Jw as ak,V_ as al,Pv as am,Z_ as an,mb as ao,Ia as ap,sb as aq,lb as ar,ab as as,ub as at,M_ as au,eu as av,X_ as aw,Iw as ax,B_ as ay,K as az,m_ as b,_p as c,Ru as d,Go as e,Ho as f,w_ as g,D_ as h,I_ as i,It as j,z_ as k,Cu as l,oi as m,Pe as n,Np as o,b_ as p,x_ as q,c_ as r,gp as s,Ou as t,zp as u,T_ as v,L_ as w,Lp as x,h_ as y,_n as z};
